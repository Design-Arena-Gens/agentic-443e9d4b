(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9856],{123331:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>lt});var a=r(672548),s=r(308601),l=r(206152),n=r(305040),i=r(432102),o=r(815404),c=r(170635),d=r(40269),m=r(50396),u=r(21877),x=r(43047),h=r(891905),p=r(121006),f=r(180367),g=r(162577);let y=e=>{let t,r,s,l,n,i,c,d=(0,o.c)(9),{onClose:m}=e;return d[0]===Symbol.for("react.memo_cache_sentinel")?(t={flexDirection:"column",width:"100%",alignItems:"center",gap:"$6",pt:"$5",px:"$5","@notLaptops":{px:"$4"}},d[0]=t):t=d[0],d[1]===Symbol.for("react.memo_cache_sentinel")?(r={width:"80px",height:"80px",justifyContent:"center",alignItems:"center",overflow:"hidden",backgroundColor:"$greenBase",borderRadius:"$full"},d[1]=r):r=d[1],d[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)(h.so,{css:r,children:(0,a.jsx)(x.J,{color:"white",css:{size:"64px"}})}),d[2]=s):s=d[2],d[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)(p.EY,{size:"lg",weight:"normal",css:{lineHeight:"21px",textAlign:"center"},children:"Your funds are available to trade!"}),d[3]=l):l=d[3],d[4]!==m?(n=()=>{null==m||m()},d[4]=m,d[5]=n):n=d[5],d[6]===Symbol.for("react.memo_cache_sentinel")?(i={width:"100%"},d[6]=i):i=d[6],d[7]!==n?(c=(0,a.jsxs)(h.so,{css:t,children:[s,l,(0,a.jsx)(g.$,{variant:"primary",height:"lg",fontSize:"md",onClick:n,css:i,children:"Start Trading"})]}),d[7]=n,d[8]=c):c=d[8],c};var j=function(e){return e.RESTING="resting",e.COMPLETED="completed",e}(j||{});let v=e=>{let{onClose:t}=e,r=(0,l.useRef)(null),[s,n]=l.useState(j.RESTING),{nativeUsdcBalance:i,handleUsdcSwap:o,isSwapping:c}=(0,d.Ay)(),g=l.useCallback(async e=>{let{state:t}=await o(!0);return t===m.r.Success?(n(j.COMPLETED),m.r.Success):m.r.GeneralError},[o,n]),v=l.useCallback(()=>{t(),n(j.RESTING)},[n]);return(0,a.jsx)(a.Fragment,{children:s===j.RESTING?(0,a.jsxs)(h.so,{css:{flexDirection:"column",width:"100%",alignItems:"center",gap:"$6",pt:"$5",px:"$5","@notLaptops":{px:"$4"}},children:[(0,a.jsx)(h.so,{css:{width:"80px",height:"80px",justifyContent:"center",alignItems:"center",overflow:"hidden",backgroundColor:"$greenBase",borderRadius:"$full"},children:(0,a.jsx)(x.J,{color:"white",css:{size:"64px"}})}),(0,a.jsxs)(p.EY,{size:"lg",weight:"normal",css:{lineHeight:"21px",textAlign:"center"},children:["Activate your funds (","$".concat((0,f.GQ)((0,f.e5)(i))),") to begin trading."]}),(0,a.jsx)(u.D,{ref:r,restingCopy:"Continue",successCopy:"Success",confettiEnabled:!0,awaitPromise:!0,disabled:c,onClick:g})]}):(0,a.jsx)(y,{onClose:v})})};var b=r(736165),k=r(948487);let w=(0,k.I4)(b.p,{position:"relative",variants:{color:{black:{color:"$neutralBlack"},white:{color:"$neutralWhite"}}}});var N=r(534086);let S=e=>{let t,r,s,l,n,i=(0,o.c)(9),{disabled:c,copy:d,onClick:m}=e;if(c){let e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(a.Fragment,{}),i[0]=e):e=i[0],e}return i[1]===Symbol.for("react.memo_cache_sentinel")?(t={top:"1rem",mb:"1rem",width:"100%",height:"48px",minHeight:"48px",position:"relative",flexDirection:"row",justifyContent:"space-between",alignItems:"center",px:"$4",borderRadius:"$md",backgroundColor:"$polyBlue",overflow:"hidden",cursor:"pointer","@notLaptops":{p:"$5"},"&::after":{content:'""',position:"absolute",top:0,left:"-100px",width:"30%",height:"48px",background:"linear-gradient(90deg, rgba(22,82,240,0.1) 0%, rgba(255,255,255,0.2) 87%)",animation:"".concat(N.q2," 10s infinite cubic-bezier(0.16, 1, 0.3, 1)")}},i[1]=t):t=i[1],i[2]===Symbol.for("react.memo_cache_sentinel")?(r={color:"$neutralWhite"},i[2]=r):r=i[2],i[3]!==d?(s=(0,a.jsx)(p.EY,{size:"md",weight:"medium",css:r,children:d}),i[3]=d,i[4]=s):s=i[4],i[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)(w,{color:"white",css:{size:"24px"}}),i[5]=l):l=i[5],i[6]!==m||i[7]!==s?(n=(0,a.jsxs)(h.so,{css:t,onClick:m,children:[s,l]}),i[6]=m,i[7]=s,i[8]=n):n=i[8],n},C=()=>{let e,t,r,s,n,i=(0,o.c)(9),{hasNativeUsdcBalance:m}=(0,d.Ay)(),[u,x]=l.useState(!1);i[0]===Symbol.for("react.memo_cache_sentinel")?(e=e=>{x(!0)},i[0]=e):e=i[0];let h=e,p=!m;return i[1]!==p?(t=(0,a.jsx)(S,{disabled:p,copy:"Confirm pending deposit",onClick:h}),i[1]=p,i[2]=t):t=i[2],i[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)(c.Cf,{className:"md:w-[560px] px-4 py-6 md:px-5 md:py-6",children:(0,a.jsx)(v,{onClose:()=>x(!1)})}),i[3]=r):r=i[3],i[4]!==u?(s=(0,a.jsx)(c.lG,{open:u,onOpenChange:x,children:r}),i[4]=u,i[5]=s):s=i[5],i[6]!==t||i[7]!==s?(n=(0,a.jsxs)(a.Fragment,{children:[t,s]}),i[6]=t,i[7]=s,i[8]=n):n=i[8],n};var _=r(559063),A=r(331723),I=r(405300);let R=e=>{let t,r,s,l,n,i=(0,o.c)(9),c=e.size||18,d=e.color||"currentColor";return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("polyline",{points:"13 8.25 9 12.25 5 8.25"}),r=(0,a.jsx)("line",{x1:"9",y1:"12.25",x2:"9",y2:"2.75"}),s=(0,a.jsx)("line",{x1:"15.25",y1:"15.25",x2:"2.75",y2:"15.25"}),i[0]=t,i[1]=r,i[2]=s):(t=i[0],r=i[1],s=i[2]),i[3]!==d?(l=(0,a.jsxs)("g",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",stroke:d,children:[t,r,s]}),i[3]=d,i[4]=l):l=i[4],i[5]!==e||i[6]!==c||i[7]!==l?(n=(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 18 18",...e,children:l}),i[5]=e,i[6]=c,i[7]=l,i[8]=n):n=i[8],n};var P=r(126496),M=r(920868),T=r(816872),D=r(11122),L=r(395358),E=r(819528),F=r(28630),O=r(759162),z=function(e){return e.RESTING="resting",e.PENDING="pending",e.COMPLETED="completed",e.ERROR="error",e}({});let B=l.createContext({}),V=e=>{let t,r,s,n,i=(0,o.c)(10),{children:c}=e,[d,m]=l.useState(!1),u=void 0!==d&&d,[x,h]=l.useState(z.RESTING),[p,f]=l.useState();i[0]!==u?(t=()=>{u||(h(z.RESTING),f(void 0))},r=[u],i[0]=u,i[1]=t,i[2]=r):(t=i[1],r=i[2]),l.useEffect(t,r),i[3]!==p||i[4]!==u||i[5]!==x?(s={withdrawalModalOpen:u,setWithdrawalModalOpen:m,withdrawalModalState:x,setWithdrawalModalState:h,withdrawalDetail:p,setWithdrawalDetail:f},i[3]=p,i[4]=u,i[5]=x,i[6]=s):s=i[6];let g=s;return i[7]!==c||i[8]!==g?(n=(0,a.jsx)(B.Provider,{value:g,children:c}),i[7]=c,i[8]=g,i[9]=n):n=i[9],n},$=e=>{let t,r,s,l,n,i=(0,o.c)(9),c=e.size||18,d=e.color||"currentColor";return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("polyline",{points:"5 6.75 9 2.75 13 6.75"}),r=(0,a.jsx)("line",{x1:"9",y1:"2.75",x2:"9",y2:"12.25"}),s=(0,a.jsx)("line",{x1:"2.75",y1:"15.25",x2:"15.25",y2:"15.25"}),i[0]=t,i[1]=r,i[2]=s):(t=i[0],r=i[1],s=i[2]),i[3]!==d?(l=(0,a.jsxs)("g",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",stroke:d,children:[t,r,s]}),i[3]=d,i[4]=l):l=i[4],i[5]!==e||i[6]!==c||i[7]!==l?(n=(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 18 18",...e,children:l}),i[5]=e,i[6]=c,i[7]=l,i[8]=n):n=i[8],n};function q(){throw Error("Switch chain not is not available")}async function H(){return 137}let W=()=>{let e,t,r,s,n=(0,o.c)(7),{proxyAddress:i}=(0,L.Um)();l.useContext(B);let{trackedProxyUsdcBalance:c,isProxyUsdcBalanceLoading:d,isProxyUsdcBalancePending:m,isProxyUsdcBalanceFetched:u}=(0,T.A)(),{marketPositionsValue:x}=(0,M.l)(i),h=function(){let e,t,r=(0,o.c)(6),{proxyAddress:a,authenticationType:s}=(0,L.Um)(),{onBeginWithdrawal:n}=(0,E.S)(),{sendTransaction:i}=(0,D.Ay)();r[0]===Symbol.for("react.memo_cache_sentinel")?(e=new Map,r[0]=e):e=r[0];let c=(0,l.useRef)(e);return r[1]!==s||r[2]!==n||r[3]!==a||r[4]!==i?(t=()=>{n({modalTitle:"Withdraw",sourceTokenAddress:F.X_,sourceChainId:"137",sourceTokenSymbol:"USDC",iconSrc:"https://sdk-cdn.fun.xyz/images/usdc.png",disableConnectedWallet:"eoa"!==s,wallet:{address:()=>a,getChainId:H,switchChain:q,sendTransaction:async(e,t)=>{let r=await i("eoa"===s?D.D_.EOA:D.D_.Magic,[{to:t.to,typeCode:P.CallType.Call,value:t.value,data:t.data}],0,F.lg.Matic,0,void 0,void 0,D.ap.FunWithdraw.valueOf());return c.current.set(r.hash,r),r.hash},confirmTransaction:async e=>{let t=c.current.get(e);if(!t)throw Error("unexpected transaction hash");if(!await (0,O.Ut)(t))throw Error("transaction failed");return t}}})},r[1]=s,r[2]=n,r[3]=a,r[4]=i,r[5]=t):t=r[5],t}(),p=!(d||m||!u)&&c.optimistic<.01;return n[0]!==h?(e=()=>{h()},n[0]=h,n[1]=e):e=n[1],n[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)($,{}),r=(0,a.jsx)("p",{children:"Withdraw"}),n[2]=t,n[3]=r):(t=n[2],r=n[3]),n[4]!==p||n[5]!==e?(s=(0,a.jsx)("div",{className:"w-full [&>button]:w-full",children:(0,a.jsxs)(_.$,{disabled:p,variant:"secondary",size:"lg",className:"disabled:pointer-events-auto !flex-1 h-10 lg:h-12",onClick:e,children:[t,r]})}),n[4]=p,n[5]=e,n[6]=s):s=n[6],s},Q=()=>{let e,t=(0,o.c)(1),{proxyAddress:r}=(0,L.Um)();return r?(t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(V,{children:(0,a.jsx)(W,{})}),t[0]=e):e=t[0],e):null};var Z=r(161104),U=r(419548),G=r(853593),Y=r(921500),K=r(740006),X=r(660111),J=r(797965),ee=r(920267),et=r(649027),er=r(176394),ea=r(5876),es=r(924987),el=r(229133);function en(e){(0,ea.H4)(e,'[useAccountReturn > | Portfolio | "1d"]')}var ei=r(441288),eo=r(37380);let ec=e=>{let t,r,s=(0,o.c)(6),{isPending:l,value:n}=e,i="****"===n,c="transition-all duration-200 ".concat(l?"animate-pulse":"");return s[0]!==i||s[1]!==n?(t=i?(0,a.jsx)("span",{className:"text-3xl font-semibold text-text-primary inline-flex tabular-nums leading-[1.5em]",children:"****"}):(0,a.jsx)("span",{className:"text-3xl font-semibold text-text-primary inline-flex leading-[1.5em]",children:n}),s[0]=i,s[1]=n,s[2]=t):t=s[2],s[3]!==c||s[4]!==t?(r=(0,a.jsx)("div",{className:c,children:t}),s[3]=c,s[4]=t,s[5]=r):r=s[5],r},ed=e=>{let t,r,s=(0,o.c)(8),{isPending:l,returnValue:n,profitPositive:i,timeframe:c,portfolioHidden:d}=e,m=void 0===c?"today":c,u="text-xs font-medium text-text-secondary mb-2 ".concat(l?"animate-pulse":"");return s[0]!==d||s[1]!==i||s[2]!==n||s[3]!==m?(t=d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"inline-flex tabular-nums",children:"****"}),(0,a.jsxs)("span",{children:["\xa0",m]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:i?"text-green-600 dark:text-green-500":"text-red-500",children:n||""}),(0,a.jsxs)("span",{children:["\xa0",m]})]}),s[0]=d,s[1]=i,s[2]=n,s[3]=m,s[4]=t):t=s[4],s[5]!==u||s[6]!==t?(r=(0,a.jsx)("p",{className:u,children:t}),s[5]=u,s[6]=t,s[7]=r):r=s[7],r},em=e=>{let t,r,s,l,n=(0,o.c)(9),{parsedProxyUsdcBalance:i,isPending:c,displayHidden:d}=e,m="rounded-full flex items-center gap-2 pl-2 pr-3 py-1.5 bg-neutral-50 dark:bg-shade-dark ".concat(c?"animate-pulse":"");return n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(eo.V,{}),n[0]=t):t=n[0],n[1]!==d||n[2]!==i?(r=d?"****":(0,f.dL)(i),n[1]=d,n[2]=i,n[3]=r):r=n[3],n[4]!==r?(s=(0,a.jsx)("p",{className:"text-sm font-medium text-text-primary",children:r}),n[4]=r,n[5]=s):s=n[5],n[6]!==m||n[7]!==s?(l=(0,a.jsxs)("div",{className:m,children:[t,s]}),n[6]=m,n[7]=s,n[8]=l):l=n[8],l},eu=()=>{let e,t,r,s,l,n,i,c,d,m,u,x,h,p,g,y,j,v,b,k,w,N,S,C,P=(0,o.c)(83),{proxyAddress:D,closedDynamic:F}=(0,L.Um)(),{onBeginCheckout:O}=(0,E.S)(),z=(0,G.b)(ex),B=(0,G.b)(eh),{data:V,isPending:$}=((e,t)=>{let r,a,s,l,n=(0,o.c)(13),i=void 0===t?Y.v.OneDay:t,{proxyAddress:c}=(0,L.Um)(),d=null!=e?e:c;n[0]!==d||n[1]!==i?(r=er.l[Y.k.Leaderboard].profitUserRank(d,i),n[0]=d,n[1]=i,n[2]=r):r=n[2];let m=!!d;n[3]!==r||n[4]!==m?(a={queryKey:r,queryFn:es.p,enabled:m,retry:3,placeholderData:ee.rX,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchInterval:15e3,gcTime:6e4,staleTime:6e4},n[3]=r,n[4]=m,n[5]=a):a=n[5];let u=(0,et.I)(a),{data:x,error:h,isFetching:p,isLoading:f,isPending:g}=u;n[6]===Symbol.for("react.memo_cache_sentinel")?(s={onError:en},n[6]=s):s=n[6],(0,el.B)(u,s,"useAccountReturn");let y=x&&Array.isArray(x)&&1===x.length?x[0]:null;return n[7]!==h||n[8]!==p||n[9]!==f||n[10]!==g||n[11]!==y?(l={data:y,error:h,isFetching:p,isLoading:f,isPending:g},n[7]=h,n[8]=p,n[9]=f,n[10]=g,n[11]=y,n[12]=l):l=n[12],l})(void 0,Y.v.OneDay),{hasFetchedLocation:q,permissions:H}=(0,K.Ss)();P[0]!==F||P[1]!==H||P[2]!==D?(e=(0,X.Ny)(D,H,F),P[0]=F,P[1]=H,P[2]=D,P[3]=e):e=P[3];let{canWithdraw:W,canDeposit:ea}=e;P[4]!==D?(t={proxyAddress:D,select:Z.IJ},P[4]=D,P[5]=t):t=P[5];let{optimisticPositions:eo}=(0,Z.Ay)(t),{value:eu}=(0,U.A)(),{marketPositionsValue:ep}=(0,M.l)(D),ef=void 0===ep?0:ep,{proxyUsdcBalanceMetadata:eg,trackedProxyUsdcBalance:ey,hasPendingProxyUsdcBalance:ej}=(0,T.A)();if(P[6]!==ej||P[7]!==$||P[8]!==eu||P[9]!==ef||P[10]!==(null==eo?void 0:eo.length)||P[11]!==z||P[12]!==V||P[13]!==D||P[14]!==eg||P[15]!==B||P[16]!==ey.optimistic){let e,t,o,p,g,y=(e=>{let{marketPositionsValue:t,proxyAddress:r,liquidityPositionsValue:a,optimisticTrackedProxyUsdcBalance:s}=e;try{return t+parseFloat((0,f.e5)(a))+s}catch(e){return ei.v.error("PortfolioBanner - getAllPositionsValue",{error:e,proxyAddress:r}),0}})({marketPositionsValue:ef,liquidityPositionsValue:eu,proxyAddress:D,optimisticTrackedProxyUsdcBalance:ey.optimistic});({returnToday:l,profitSafeValue:s}=(e=>{let{profitToday:t,allPositionsValue:r,isPending:a,proxyAddress:s}=e;try{var l;let e=Math.round((null!=(l=null==t?void 0:t.amount)?l:0)*100)/100;return{returnToday:a||!t?void 0:"".concat(e>0?"+":"").concat((0,f.dL)(e)," (").concat((0,f.e8)(0!==r?e/r:0),")"),profitSafeValue:e}}catch(e){return ei.v.error("PortfolioBanner - getPortfolioReturn",{error:e,proxyAddress:s}),{returnToday:void 0,profitSafeValue:0}}})({profitToday:V,allPositionsValue:y,isPending:$,proxyAddress:D}));e:{let t;if(void 0===eg.optimisticBalance){e=0;break e}P[28]!==eg.optimisticBalance?(t=eg.optimisticBalance.replace("$","").replace(",",""),P[28]=eg.optimisticBalance,P[29]=t):t=P[29],e=parseFloat(t)}let j=e;n="gap-4 flex flex-col lg:flex-row lg:w-full lg:justify-between lg:items-stretch",h="flex flex-col border rounded-lg w-full p-4 justify-between min-h-[200px]",u="flex flex-col",P[30]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("p",{className:"text-sm font-medium text-text-secondary",children:"Portfolio"}),P[30]=t):t=P[30],P[31]!==z?(o=z?(0,a.jsx)(A.A,{strokeWidth:2,size:14,className:"text-text-secondary group-hover:text-text-primary transition"}):(0,a.jsx)(I.A,{strokeWidth:2,size:14,className:"text-text-secondary group-hover:text-text-primary transition"}),P[31]=z,P[32]=o):o=P[32],P[33]!==o||P[34]!==B?(p=(0,a.jsxs)("div",{className:"flex gap-x-1.5 items-center",children:[t,(0,a.jsx)(_.$,{variant:"ghost",size:"iconSm",className:"size-4 group",onClick:B,children:o})]}),P[33]=o,P[34]=B,P[35]=p):p=P[35];let v=z?0:j;P[36]!==ej||P[37]!==z||P[38]!==v?(g=(0,a.jsx)(em,{parsedProxyUsdcBalance:v,isPending:ej,displayHidden:z}),P[36]=ej,P[37]=z,P[38]=v,P[39]=g):g=P[39],P[40]!==p||P[41]!==g?(x=(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[p,g]}),P[40]=p,P[41]=g,P[42]=x):x=P[42],m="flex justify-between items-center",d="mb-1",r=ec,i=!!(null==eo?void 0:eo.length),c=z?"****":(0,f.dL)(y),P[6]=ej,P[7]=$,P[8]=eu,P[9]=ef,P[10]=null==eo?void 0:eo.length,P[11]=z,P[12]=V,P[13]=D,P[14]=eg,P[15]=B,P[16]=ey.optimistic,P[17]=r,P[18]=s,P[19]=l,P[20]=n,P[21]=i,P[22]=c,P[23]=d,P[24]=m,P[25]=u,P[26]=x,P[27]=h}else r=P[17],s=P[18],l=P[19],n=P[20],i=P[21],c=P[22],d=P[23],m=P[24],u=P[25],x=P[26],h=P[27];P[43]!==r||P[44]!==i||P[45]!==c?(p=(0,a.jsx)(r,{isPending:i,value:c}),P[43]=r,P[44]=i,P[45]=c,P[46]=p):p=P[46],P[47]!==p||P[48]!==d?(g=(0,a.jsx)("div",{className:d,children:p}),P[47]=p,P[48]=d,P[49]=g):g=P[49],P[50]!==g||P[51]!==m?(y=(0,a.jsx)("div",{className:m,children:g}),P[50]=g,P[51]=m,P[52]=y):y=P[52];let ev=!!(null==eo?void 0:eo.length),eb=z?"****":l,ek=s>=0;return P[53]!==z||P[54]!==ev||P[55]!==eb||P[56]!==ek?(j=(0,a.jsx)(ed,{isPending:ev,returnValue:eb,profitPositive:ek,timeframe:"Today",portfolioHidden:z}),P[53]=z,P[54]=ev,P[55]=eb,P[56]=ek,P[57]=j):j=P[57],P[58]!==y||P[59]!==j||P[60]!==u||P[61]!==x?(v=(0,a.jsxs)("div",{className:u,children:[x,y,j]}),P[58]=y,P[59]=j,P[60]=u,P[61]=x,P[62]=v):v=P[62],P[63]!==ea||P[64]!==q||P[65]!==O?(b=ea?(0,a.jsxs)(_.$,{variant:"default",onClick:()=>O(),disabled:!q||!ea,className:"w-full h-10 lg:h-12",children:[(0,a.jsx)(R,{}),(0,a.jsx)("p",{children:"Deposit"})]}):null,P[63]=ea,P[64]=q,P[65]=O,P[66]=b):b=P[66],P[67]!==W?(k=W?(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(Q,{})}):null,P[67]=W,P[68]=k):k=P[68],P[69]!==b||P[70]!==k?(w=(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 mt-4 w-full lg:mt-0",children:[b,k]}),P[69]=b,P[70]=k,P[71]=w):w=P[71],P[72]!==v||P[73]!==w||P[74]!==h?(N=(0,a.jsxs)("div",{className:h,children:[v,w]}),P[72]=v,P[73]=w,P[74]=h,P[75]=N):N=P[75],P[76]!==z||P[77]!==D?(S=(0,a.jsx)("div",{className:"flex flex-col border rounded-lg w-full p-4 relative justify-between min-h-[200px]",children:(0,a.jsx)(J.Ay,{username:"",proxyAddress:D,variant:"frameless",isHidden:z})}),P[76]=z,P[77]=D,P[78]=S):S=P[78],P[79]!==n||P[80]!==N||P[81]!==S?(C=(0,a.jsxs)("div",{className:n,children:[N,S]}),P[79]=n,P[80]=N,P[81]=S,P[82]=C):C=P[82],C};function ex(e){return e.portfolioHidden}function eh(e){return e.togglePortfolio}let ep=e=>{let t,r,s,l,n,i,c,d,m,u=(0,o.c)(20),x=e.size||12,h=e.title||"money",p=e.color||"currentColor";return u[0]!==h?(t=(0,a.jsx)("title",{children:h}),u[0]=h,u[1]=t):t=u[1],u[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("rect",{x:".75",y:"1.75",width:"10.5",height:"8.5",rx:"2",ry:"2"}),u[2]=r):r=u[2],u[3]!==p?(s=(0,a.jsx)("circle",{cx:"6",cy:"6",r:"1.25",fill:p}),l=(0,a.jsx)("path",{d:"m.75,3.75v1c1.657,0,3-1.343,3-3h-1C1.645,1.75.75,2.645.75,3.75Z",strokeWidth:"0",fill:p}),n=(0,a.jsx)("path",{d:"m11.25,3.75v1c-1.657,0-3-1.343-3-3h1c1.105,0,2,.895,2,2Z",strokeWidth:"0",fill:p}),i=(0,a.jsx)("path",{d:"m.75,8.25v-1c1.657,0,3,1.343,3,3h-1c-1.105,0-2-.895-2-2Z",strokeWidth:"0",fill:p}),c=(0,a.jsx)("path",{d:"m11.25,8.25v-1c-1.657,0-3,1.343-3,3h1c1.105,0,2-.895,2-2Z",strokeWidth:"0",fill:p}),u[3]=p,u[4]=s,u[5]=l,u[6]=n,u[7]=i,u[8]=c):(s=u[4],l=u[5],n=u[6],i=u[7],c=u[8]),u[9]!==p||u[10]!==s||u[11]!==l||u[12]!==n||u[13]!==i||u[14]!==c?(d=(0,a.jsxs)("g",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",stroke:p,children:[r,s,l,n,i,c]}),u[9]=p,u[10]=s,u[11]=l,u[12]=n,u[13]=i,u[14]=c,u[15]=d):d=u[15],u[16]!==x||u[17]!==t||u[18]!==d?(m=(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:x,height:x,viewBox:"0 0 12 12",children:[t,d]}),u[16]=x,u[17]=t,u[18]=d,u[19]=m):m=u[19],m};var ef=r(743176),eg=r(518545),ey=r(368452),ej=r(613012),ev=r(533313);let eb=function(e){return e.Value="Current value",e.Investment="Bet",e.PercentageGain="Profit & Loss %",e.DollarGain="Profit & Loss $",e.Quantity="Shares",e.Market="Alphabetically",e.Resolution="Ending soon",e.ToWin="Payout",e.LatestPrice="Latest Price",e.AverageCostPerShare="Average cost per share",e}({}),ek=function(e){return e.Asc="asc",e.Desc="desc",e}({}),ew=function(e){return e.Market="Market",e.FilledQty="Filled Quantity",e.TotalQty="Total Quantity",e.OrderDate="Order Date",e.Resolution="Resolving Soonest",e}({}),eN=function(e){return e.Value="Value",e.Market="Market",e.PoolShare="Pool share",e.Fees="Fees",e.Resolution="Resolving Soonest",e}({}),eS=function(e){return e.Newest="Newest",e.Oldest="Oldest",e.ValueDesc="Value",e.ShareQtyDesc="Shares",e}({}),eC=function(e){return e.All="All",e.AllTrades="Trades",e.Buy="Buy",e.Merge="Merge",e.Redeem="Redeem",e.Reward="Liquidity Rewards",e.Yield="Holding Rewards",e.Sell="Sell",e.Split="Split",e.Convert="Convert",e.Lost="Lost",e.Deposit="Deposit",e.Withdraw="Withdraw",e}({}),e_=function(e){return e.All="All",e.Active="Live",e.Ended="Ended",e}({});var eA=function(e){return e.Positions="positions",e.Orders="Open orders",e.Liquidity="liquidity",e.History="history",e}({});let eI=(0,l.createContext)({}),eR=e=>{let t,r,s,n,i=(0,o.c)(34),{children:c}=e,{selectedTab:d,setSelectedTab:m}=(()=>{let e,t,r=(0,o.c)(4);r[0]===Symbol.for("react.memo_cache_sentinel")?(e={defaultValue:eA.Positions,path:"/"},r[0]=e):e=r[0];let[a,s]=(0,ej.A)(ev.JC,e);return r[1]!==a||r[2]!==s?(t={setSelectedTab:s,selectedTab:a},r[1]=a,r[2]=s,r[3]=t):t=r[3],t})(),{sortPortfolioLiquidityBy:u,sortPortfolioMarketsBy:x,sortPortfolioMarketsDirection:h,sortPortfolioOpenOrdersBy:p,sortPortfolioHistoryBy:f,setSortPortfolioLiquidityBy:g,setSortPortfolioMarketsBy:y,setSortPortfolioOpenOrdersBy:j,setSortPortfolioHistoryBy:v,setSortPortfolioMarketsDirection:b}=(()=>{let e,t,r,a,s,l,n,i=(0,o.c)(18);i[0]===Symbol.for("react.memo_cache_sentinel")?(e={defaultValue:eb.Value,path:"/"},i[0]=e):e=i[0];let[c,d]=(0,ej.A)(ev.LF,e);i[1]===Symbol.for("react.memo_cache_sentinel")?(t={defaultValue:ek.Desc,path:"/"},i[1]=t):t=i[1];let[m,u]=(0,ej.A)(ev.lL,t);i[2]===Symbol.for("react.memo_cache_sentinel")?(r={defaultValue:ew.Market,path:"/"},i[2]=r):r=i[2];let[x,h]=(0,ej.A)(ev.mM,r);i[3]===Symbol.for("react.memo_cache_sentinel")?(a={defaultValue:eN.Market,path:"/"},i[3]=a):a=i[3];let[p,f]=(0,ej.A)(ev.EF,a);i[4]===Symbol.for("react.memo_cache_sentinel")?(s={defaultValue:eS.Newest,path:"/"},i[4]=s):s=i[4];let[g,y]=(0,ej.A)(ev.Mr,s);i[5]!==c?(l=Object.values(eb).includes(c)?c:eb.Market,i[5]=c,i[6]=l):l=i[6];let j=l;return i[7]!==g||i[8]!==p||i[9]!==j||i[10]!==m||i[11]!==x||i[12]!==y||i[13]!==f||i[14]!==d||i[15]!==u||i[16]!==h?(n={sortPortfolioMarketsBy:j,setSortPortfolioMarketsBy:d,sortPortfolioOpenOrdersBy:x,setSortPortfolioOpenOrdersBy:h,sortPortfolioLiquidityBy:p,setSortPortfolioLiquidityBy:f,sortPortfolioHistoryBy:g,setSortPortfolioHistoryBy:y,sortPortfolioMarketsDirection:m,setSortPortfolioMarketsDirection:u},i[7]=g,i[8]=p,i[9]=j,i[10]=m,i[11]=x,i[12]=y,i[13]=f,i[14]=d,i[15]=u,i[16]=h,i[17]=n):n=i[17],n})(),{redeemableStatus:k,setRedeemableStatus:w}=(()=>{let e,t,r=(0,o.c)(4);r[0]===Symbol.for("react.memo_cache_sentinel")?(e={defaultValue:e_.All,path:"/"},r[0]=e):e=r[0];let[a,s]=(0,ej.A)(ev.hD,e);return r[1]!==a||r[2]!==s?(t={redeemableStatus:a,setRedeemableStatus:s},r[1]=a,r[2]=s,r[3]=t):t=r[3],t})(),{portfolioHistoryStartDate:N,portfolioHistoryEndDate:S,portfolioHistoryActionFilter:C,setPortfolioHistoryStartDate:_,setPortfolioHistoryEndDate:A,setPortfolioHistoryActionFilter:I}=(()=>{let e,t,r,a,s,l,n,i,c=(0,o.c)(18);c[0]===Symbol.for("react.memo_cache_sentinel")?(e={defaultValue:void 0,path:"/"},c[0]=e):e=c[0];let[d,m]=(0,ej.A)(ev.NN,e);c[1]===Symbol.for("react.memo_cache_sentinel")?(t={defaultValue:void 0,path:"/"},c[1]=t):t=c[1];let[u,x]=(0,ej.A)(ev.A,t);c[2]===Symbol.for("react.memo_cache_sentinel")?(r={defaultValue:eC.All,path:"/"},c[2]=r):r=c[2];let[h,p]=(0,ej.A)(ev.f9,r);c[3]!==m?(a=e=>{m(e?e.valueOf().toString():e)},c[3]=m,c[4]=a):a=c[4];let f=a;c[5]!==x?(s=e=>{x(e?e.valueOf().toString():e)},c[5]=x,c[6]=s):s=c[6];let g=s;c[7]!==d?(l=d?new Date(parseInt(d,10)):void 0,c[7]=d,c[8]=l):l=c[8];let y=l;c[9]!==u?(n=u?new Date(parseInt(u,10)):void 0,c[9]=u,c[10]=n):n=c[10];let j=n;return c[11]!==h||c[12]!==j||c[13]!==y||c[14]!==p||c[15]!==g||c[16]!==f?(i={portfolioHistoryStartDate:y,portfolioHistoryEndDate:j,portfolioHistoryActionFilter:h,setPortfolioHistoryStartDate:f,setPortfolioHistoryEndDate:g,setPortfolioHistoryActionFilter:p},c[11]=h,c[12]=j,c[13]=y,c[14]=p,c[15]=g,c[16]=f,c[17]=i):i=c[17],i})(),[R,P]=(0,l.useState)(!1),[M,T]=(0,l.useState)(!1),[D,L]=(0,l.useState)(!1),[E,F]=(0,l.useState)(!1),[O,z]=(0,l.useState)(!1),[B,V]=(0,l.useState)(!1),[$,q]=(0,l.useState)();i[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],i[0]=t):t=i[0];let[H,W]=(0,l.useState)(t);i[1]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{W([["marketName","action","usdcAmount","tokenAmount","tokenName","timestamp","hash"],...e.map(e=>[e.marketName,e.action,e.usdcAmount,e.tokenAmount,e.tokenName,e.timestamp,e.hash])])},i[1]=r):r=i[1];let Q=r;i[2]!==H||i[3]!==B||i[4]!==O||i[5]!==E||i[6]!==C||i[7]!==S||i[8]!==N||i[9]!==$||i[10]!==k||i[11]!==d||i[12]!==I||i[13]!==A||i[14]!==_||i[15]!==w||i[16]!==m||i[17]!==v||i[18]!==g||i[19]!==y||i[20]!==b||i[21]!==j||i[22]!==M||i[23]!==D||i[24]!==R||i[25]!==f||i[26]!==u||i[27]!==x||i[28]!==h||i[29]!==p?(s={csvFormattedHistory:H,portfolioHistoryActionFilter:C,portfolioHistoryEndDate:S,portfolioHistoryStartDate:N,portfolioSearchQuery:$,redeemableStatus:k,selectedTab:d,setCsvFormattedHistory:Q,setPortfolioHistoryActionFilter:I,setPortfolioHistoryEndDate:A,setPortfolioHistoryStartDate:_,setPortfolioSearchQuery:q,setRedeemableStatus:w,setSelectedTab:m,setShowRedeemAllModal:P,setShowCloseAllModal:T,setShowMergePositionsModal:L,setHasRedeemedAll:F,setHasMergedPositions:z,setHasClosedAllPositions:V,setSortPortfolioHistoryBy:v,setSortPortfolioLiquidityBy:g,setSortPortfolioMarketsBy:y,setSortPortfolioMarketsDirection:b,setSortPortfolioOpenOrdersBy:j,showRedeemAllModal:R,showCloseAllModal:M,showMergePositionsModal:D,hasRedeemedAll:E,hasMergedPositions:O,hasClosedAllPositions:B,sortPortfolioHistoryBy:f,sortPortfolioLiquidityBy:u,sortPortfolioMarketsBy:x,sortPortfolioMarketsDirection:h,sortPortfolioOpenOrdersBy:p},i[2]=H,i[3]=B,i[4]=O,i[5]=E,i[6]=C,i[7]=S,i[8]=N,i[9]=$,i[10]=k,i[11]=d,i[12]=I,i[13]=A,i[14]=_,i[15]=w,i[16]=m,i[17]=v,i[18]=g,i[19]=y,i[20]=b,i[21]=j,i[22]=M,i[23]=D,i[24]=R,i[25]=f,i[26]=u,i[27]=x,i[28]=h,i[29]=p,i[30]=s):s=i[30];let Z=s;return i[31]!==c||i[32]!==Z?(n=(0,a.jsx)(eI.Provider,{value:Z,children:c}),i[31]=c,i[32]=Z,i[33]=n):n=i[33],n},eP=()=>(0,l.useContext)(eI);var eM=r(874593),eT=r(932301),eD=r(748254);function eL(e){let{markets:t,positions:r}=e,a=t.reduce((e,t)=>(e[t.conditionId]=t,e),{});return r.map(e=>{let t=a[e.market.id],r=(0,eD.Ff)(e),s=eT.gH.from(e.netQuantity),l=0===parseInt(e.outcomeIndex,10)?[s,eT.gH.from(0)]:[eT.gH.from(0),s],n=(0,eD.Xn)(e);return{...t,value:null!=r?r:eT.gH.from(0),amounts:l,amountBet:n}}).sort((e,t)=>t.value.eq(e.value)?0:t.value.lt(e.value)?-1:1)}var eE=r(658409);let eF=e=>{let t,r,s=(0,o.c)(6),{images:l}=e;if(s[0]!==l){r=Symbol.for("react.early_return_sentinel");e:{let e,n,i=l.slice(0,3),o=Math.max(0,l.length-3),c=l.length>3?3:l.length,d={initial:eO,animate:e=>({scale:1,rotate:function(e,t){return 1===t?0:2===t?0===e?-13:19:[-13,0,19][e]||0}(e,c)}),transition:ez};s[3]===Symbol.for("react.memo_cache_sentinel")?(e=function(e,t){return 1===t?{top:"0px",left:"0px"}:2===t?0===e?{top:"1px",left:"-12px"}:{top:"2px",right:"0px"}:[{top:"0",left:"-15px"},{top:"1px",left:"6px"},{top:"1px",right:"-15px"}][e]||{}},s[3]=e):e=s[3];let m=e;if(0===l.length){r=null;break e}let u=1===l.length?"3rem":(l.length,"4rem");s[4]!==u?(n={width:u},s[4]=u,s[5]=n):n=s[5],t=(0,a.jsx)("div",{className:"relative h-12 mx-2 flex items-center justify-center ".concat(c>3?"mr-6":"mr-2"),style:n,children:i.map((e,t)=>(0,a.jsxs)(ef.P.div,{initial:d.initial(),animate:d.animate(t),transition:d.transition(t),className:"absolute w-11 h-11 rounded-lg border-2 border-white shadow-sm overflow-hidden bg-white",style:{...m(t,c),zIndex:t+1},children:[(0,a.jsx)("img",{src:e,alt:"Position",className:"w-full h-full object-cover"}),2===t&&o>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/30 rounded-lg"}),(0,a.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center text-white font-bold text-sm",children:["+",o]})]})]},t))})}s[0]=l,s[1]=t,s[2]=r}else t=s[1],r=s[2];return r!==Symbol.for("react.early_return_sentinel")?r:t};function eO(){return{scale:0}}function ez(e){return{delay:.1*e+.4,duration:.5,type:"spring",stiffness:360,damping:30}}let eB=()=>{let e,t,r,s,l,n=(0,o.c)(14),{setShowRedeemAllModal:i,hasRedeemedAll:c}=eP(),{proxyAddress:d}=(0,L.Um)();n[0]!==d?(e={proxyAddress:d,fetchAll:!0},n[0]=d,n[1]=e):e=n[1];let{positions:m,markets:u}=(0,ey.M)(e);e:{let e;if(m&&m.length&&u&&u.length){let e;n[2]!==u||n[3]!==m?(e=eL({positions:m,markets:u}).filter(eV),n[2]=u,n[3]=m,n[4]=e):e=n[4],t=e;break e}n[5]===Symbol.for("react.memo_cache_sentinel")?(e=[],n[5]=e):e=n[5],t=e}let x=t,h=x.reduce(e$,0),p=x.reduce(eq,0);t:{if(0===p){r=0;break t}r=(h-p)/p*100}let f=r,g=x.length>0&&!c;return n[6]!==x||n[7]!==f||n[8]!==i||n[9]!==g||n[10]!==h?(s=g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eM.$U,{lessThan:"lg",children:(0,a.jsx)(ef.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{type:"spring",duration:.5,ease:"easeInOut",delay:.2},className:"mt-4",children:(0,a.jsxs)("button",{onClick:()=>i(!0),className:"flex items-center justify-between w-full py-4 px-4 border border-border rounded-lg",children:[(0,a.jsx)(eF,{images:x.map(eH)}),(0,a.jsxs)("div",{className:"flex flex-col items-end text-right",children:[(0,a.jsx)("span",{className:"text-lg font-semibold text-text-primary mb-1",children:(0,eE.jf)(h.toString())}),(0,a.jsx)("span",{className:"text-text-secondary text-sm",children:"Claim proceeds"})]})]})})}),(0,a.jsx)(eM.$U,{greaterThanOrEqual:"lg",children:(0,a.jsx)(ef.P.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{type:"spring",duration:.5,ease:"easeInOut",delay:.2},children:(0,a.jsx)("div",{className:"pt-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-8 ml-4",children:[(0,a.jsx)(eF,{images:x.map(eW)}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-sm text-text-secondary",children:"Polymarkets won"}),(0,a.jsx)("span",{className:"text-lg font-semibold text-text-primary",children:x.length})]}),(0,a.jsx)("div",{className:"h-6 w-px bg-border"}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-sm text-text-secondary",children:"Total return"}),(0,a.jsx)("span",{className:"text-lg font-semibold text-text-primary",children:(0,eE.N1)(f.toString())})]}),(0,a.jsx)("div",{className:"h-6 w-px bg-border"}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-sm text-text-secondary",children:"Proceeds"}),(0,a.jsx)("span",{className:"text-lg font-semibold text-text-primary",children:(0,eE.jf)(h.toString())})]})]}),(0,a.jsxs)(_.$,{onClick:()=>i(!0),className:"px-6 py-5",children:[(0,a.jsx)(ep,{}),"Claim"]})]})})})})]}),n[6]=x,n[7]=f,n[8]=i,n[9]=g,n[10]=h,n[11]=s):s=n[11],n[12]!==s?(l=(0,a.jsx)(eg.N,{children:s}),n[12]=s,n[13]=l):l=n[13],l};function eV(e){return parseFloat((0,f.e5)(e.value))>0}function e$(e,t){return e+parseFloat((0,f.e5)(t.value))}function eq(e,t){return e+parseFloat((0,f.e5)(t.amountBet))}function eH(e){return e.image}function eW(e){return e.image}var eQ=r(740652),eZ=r(134496),eU=r(346002),eG=r(75425),eY=r(190685),eK=r(825938),eX=r(788242),eJ=r(294715),e0=r(832231);let e1=e=>{let t,r,a,s,l,n=(0,o.c)(15),{proxyAddress:i}=e,{data:c,isPending:d}=(0,U.A)(i);e:{let e;if(!c){let e;n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],n[0]=e):e=n[0],t=e;break e}n[1]!==c?(e=c.map(e2),n[1]=c,n[2]=e):e=n[2],t=e}let m=t;n[3]!==i?(r=er.l[Y.k.Markets].forLiquidity(i),n[3]=i,n[4]=r):r=n[4],n[5]!==m?(a=()=>(0,e0.ki)(m),n[5]=m,n[6]=a):a=n[6];let u=!!i&&m.length>0;n[7]!==r||n[8]!==a||n[9]!==u?(s={queryKey:r,queryFn:a,placeholderData:ee.rX,refetchOnReconnect:!1,refetchOnWindowFocus:!1,enabled:u,gcTime:6e4,staleTime:6e4},n[7]=r,n[8]=a,n[9]=u,n[10]=s):s=n[10];let{data:x,isPending:h}=(0,et.I)(s),p=d||h;return n[11]!==x||n[12]!==c||n[13]!==p?(l={liquidityPositions:c,liquidityMarkets:x,isPending:p},n[11]=x,n[12]=c,n[13]=p,n[14]=l):l=n[14],l};function e2(e){return e.pool.id}var e3=r(250691),e5=r(546477),e4=r(361576),e7=r(861515);let e6=(e,t,r)=>{switch(r){case eS.Newest:return t.timestamp-e.timestamp;case eS.Oldest:return e.timestamp-t.timestamp;case eS.ValueDesc:let a=void 0===e.usdcAmount?-1:Number(e.usdcAmount);return(void 0===t.usdcAmount?-1:Number(t.usdcAmount))-a;case eS.ShareQtyDesc:return Number(t.tokenAmount)-Number(e.tokenAmount);default:return 0}};var e8=r(389606);let e9=e=>{let{position:t,redeemableStatus:r}=e;return r===e_.All||r===e_.Active&&!t.market.closed||r===e_.Ended&&t.market.closed},te=async e=>{let[t,r,{proxyAddress:a,redeemableStatus:s,sortBy:l,sortDirection:n,titleSearchQuery:i}]=e.queryKey;if(e7.Sl.has(a))return[];let o=new URLSearchParams({user:a,sizeThreshold:".1",limit:"50",offset:(50*e.pageParam).toString(),...(e=>{switch(e){case e_.All:case e_.Active:case e_.Ended:default:return}})(s),...(e=>{switch(e){case eb.Value:return{sortBy:"CURRENT"};case eb.Investment:return{sortBy:"INITIAL"};case eb.PercentageGain:return{sortBy:"PERCENTPNL"};case eb.DollarGain:return{sortBy:"CASHPNL"};case eb.Quantity:return{sortBy:"TOKENS"};case eb.Market:return{sortBy:"TITLE"};case eb.Resolution:return{sortBy:"RESOLVING"};case eb.ToWin:return{sortBy:"TOKENS"};case eb.LatestPrice:return{sortBy:"PRICE"};case eb.AverageCostPerShare:return{sortBy:"AVGPRICE"};default:return{sortBy:"TITLE"}}})(l),...(e=>{switch(e){case ek.Asc:return{sortDirection:"ASC"};case ek.Desc:return{sortDirection:"DESC"};default:return{sortDirection:"ASC"}}})(n),...(e=>{if(e)return{title:e}})(i)}),{data:c}=await (0,e5.p)("".concat(F.qL,"/positions?").concat(o.toString()));return c},tt=e=>{let{proxyAddress:t}=e,{redeemableStatus:r,sortPortfolioMarketsBy:a,sortPortfolioMarketsDirection:s,portfolioSearchQuery:n}=eP(),{data:i,isPending:o,refetch:c,fetchNextPage:d,hasNextPage:m,isFetching:u}=(0,e3.q)({queryKey:er.l[Y.k.Positions].portfolio({proxyAddress:t,redeemableStatus:r,sortBy:a,sortDirection:s,titleSearchQuery:n}),queryFn:e=>te(e),enabled:!!t,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchInterval:1e4,staleTime:15e3,initialPageParam:0,getNextPageParam:(e,t)=>50===e.length?t.length:void 0,placeholderData:ee.rX}),{optimisticPositions:x,upsertPositionDbItems:h}=(0,Z.Ay)({proxyAddress:t});return(0,l.useEffect)(()=>{if(!i||!i.pages.length)return;let e=i.pages[i.pages.length-1];e&&h(e)},[i]),{portfolioItems:(0,l.useMemo)(()=>{if(!i)return i;if(!x||!x.size)return i.pages.flatMap(e=>{var t,a;let s=(null!=(t=(0,e4.xO)(e))?t:[]).reduce((e,t)=>(e[t.conditionId]=t,e),{});return(null!=(a=(0,e4.zl)(e))?a:[]).reduce((e,t)=>(e9({position:t,redeemableStatus:r})&&e.push((0,e8.cm)(s[t.market.id],t)),e),[])});let e=i.pages.flatMap(e=>{var t;return null!=(t=(0,e4.zl)(e))?t:[]},[]),t=i.pages.reduce((e,t)=>{var r;return(null!=(r=(0,e4.xO)(t))?r:[]).forEach(t=>{e[t.conditionId]=t}),e},{}),l=e.map(e=>{let t=(0,Z.Gy)({conditionId:e.market.id,outcomeIndex:e.outcomeIndex}),r=x.get(t);return(null==r?void 0:r.isDirty)?r.position:e}).filter(e=>!!e);if(!n){let r=new Set(e.map(e=>(0,Z.Gy)({conditionId:e.market.id,outcomeIndex:e.outcomeIndex})));x.forEach((e,a)=>{!r.has(a)&&(e.position&&l.push(e.position),e.market&&(t[e.market.conditionId]=e.market))}),l.length>50*i.pages.length&&l.splice(50*i.pages.length)}let o=l.reduce((e,a)=>(e9({position:a,redeemableStatus:r})&&!(a.trackedPositionMetadata&&a.trackedPositionMetadata.netQuantity.optimistic<.1)&&e.push((0,e8.cm)(t[a.market.id],a)),e),[]);return o.sort((e,t)=>((e,t,r,a,s)=>{switch(r){case eb.Value:return a?parseFloat(e.currentMarketValue)-parseFloat(t.currentMarketValue):parseFloat(t.currentMarketValue)-parseFloat(e.currentMarketValue);case eb.Investment:return a?parseFloat(e.valueInit)-parseFloat(t.valueInit):parseFloat(t.valueInit)-parseFloat(e.valueInit);case eb.Market:return a?e.market.localeCompare(t.market):t.market.localeCompare(e.market);case eb.Quantity:return parseFloat(t.qty)-parseFloat(e.qty);case eb.AverageCostPerShare:return a?parseFloat(e.priceAvg)-parseFloat(t.priceAvg):parseFloat(t.priceAvg)-parseFloat(e.priceAvg);case eb.PercentageGain:return parseFloat(t.loss)-parseFloat(e.loss);case eb.DollarGain:return parseFloat(t.profit)-parseFloat(e.profit);case eb.Resolution:var l,n;if(e.isClosed||t.isClosed)return Number(t.isClosed)-Number(e.isClosed);let i=null==s?void 0:s.find(t=>t.question===e.market),o=null==s?void 0:s.find(e=>e.question===t.market);return new Date(null!=(l=null==i?void 0:i.end_date)?l:0).getTime()-new Date(null!=(n=null==o?void 0:o.end_date)?n:0).getTime();case eb.ToWin:return a?parseFloat(e.maxPayout)-parseFloat(t.maxPayout):parseFloat(t.maxPayout)-parseFloat(e.maxPayout);case eb.LatestPrice:return a?parseFloat(e.priceCurr)-parseFloat(t.priceCurr):parseFloat(t.priceCurr)-parseFloat(e.priceCurr);default:return parseFloat(t.currentMarketValue)-parseFloat(e.currentMarketValue)}})(e,t,a,s===ek.Asc)),o},[i,x,a,s,n]),isPending:o,refetch:(0,l.useCallback)(async e=>{await c(e)},[c]),fetchNextPage:d,isFetching:u,hasNextPage:m}};var tr=r(954277);function ta(e,t){if(!(null==e?void 0:e.length)||!(null==t?void 0:t.length))return[];let r=eL({positions:e,markets:t}),a=e.reduce((e,t)=>{let r=t.market.id;return e[r]||(e[r]=[]),e[r].push(t),e},{}),s=e.reduce((e,t)=>(e[t.market.id]=t,e),{});return r.filter(e=>{var t,r;let a=s[e.conditionId];if(!a)return!1;let l=null==(r=a.market.conditions)||null==(t=r[0])?void 0:t.payouts;return l&&2===l.length?.01>parseFloat(l[parseInt(a.outcomeIndex,10)]):0>=parseFloat((0,f.e5)(e.value))}).map(e=>(a[e.conditionId]||[]).length>1?{...e,hasMatchingWonPosition:!0}:e)}let ts=e=>{let t,r,a,s,l,n,i,c=(0,o.c)(23),{proxyAddress:d}=e;c[0]!==d?(t={proxyAddress:d},c[0]=d,c[1]=t):t=c[1];let{portfolioItems:m,isPending:u,refetch:x}=tt(t);e:{let e;if(!m){let e;c[2]===Symbol.for("react.memo_cache_sentinel")?(e=[],c[2]=e):e=c[2],r=e;break e}c[3]!==m?(e=m.filter(tl).map(tn),c[3]=m,c[4]=e):e=c[4],r=e}let h=r;c[5]!==h?(a=er.l[Y.k.Markets].forHistory(h),c[5]=h,c[6]=a):a=c[6],c[7]!==h?(s=()=>(0,tr.Oy)(void 0,void 0,h),c[7]=h,c[8]=s):s=c[8];let p=h.length>0;c[9]!==a||c[10]!==s||c[11]!==p?(l={queryKey:a,queryFn:s,enabled:p,staleTime:3e5},c[9]=a,c[10]=s,c[11]=p,c[12]=l):l=c[12];let{data:f}=(0,et.I)(l);t:{let e;if(!m){let e;c[13]===Symbol.for("react.memo_cache_sentinel")?(e=[],c[13]=e):e=c[13],n=e;break t}c[14]!==f||c[15]!==m?(e=m.filter(ti).map(e=>{var t;let r=parseFloat(e.qty),a=parseFloat(e.priceAvg),s=null==f?void 0:f.find(t=>t.conditionId.toLowerCase()===e.originalPosition.market.id.toLowerCase()),l=(t=e.originalPosition.market.id,m.filter(e=>e.originalPosition.market.id===t).length>1),n=(null==s?void 0:s.end_date)?new Date(s.end_date).getTime()/1e3:Date.now()/1e3;return{action:eC.Lost,eventSlug:e.eslug||"",hash:"unredeemed-lost-position-".concat(e.slug,"-").concat(e.outcomeIndex),marketImage:e.icon,marketName:e.market,marketSlug:e.slug,timestamp:n,tokenAmount:e.qty,tokenIndex:e.outcomeIndex,tokenName:e.outcome,usdcAmount:(r*a).toFixed(2),marketData:{conditionId:e.originalPosition.market.id,outcomes:(null==s?void 0:s.outcomes)||[e.outcome],negRisk:e.originalPosition.market.negRisk,outcomePrices:e.originalPosition.market.outcomeTokenPrices,slug:e.slug,hasMatchingWonPosition:l}}}),c[14]=f,c[15]=m,c[16]=e):e=c[16],n=e}let g=n;return c[17]!==u||c[18]!==g||c[19]!==f||c[20]!==m||c[21]!==x?(i={lostPositionsAsHistory:g,isPending:u,portfolioItems:m,markets:f,refetch:x},c[17]=u,c[18]=g,c[19]=f,c[20]=m,c[21]=x,c[22]=i):i=c[22],i};function tl(e){let t=0>parseFloat(e.profit);return!!e.isClosed&&!!t}function tn(e){return e.originalPosition.market.id}function ti(e){let t=0>parseFloat(e.profit);return!!e.isClosed&&!!t}var to=r(289845),tc=r(697299),td=r(358399),tm=r(329924),tu=r(487486),tx=r(663778),th=r(438043),tp=r(835355),tf=r(284960),tg=r.n(tf),ty=r(408808);let tj=e=>{let t,r,s,l,n,i,c,d,m,u=(0,o.c)(26),{market:x,type:h}=e,p=x.value;u[0]!==p?(t=(0,f.e5)(p),u[0]=p,u[1]=t):t=u[1];let g=parseFloat(t);u[2]!==x.amountBet?(r=x.amountBet?parseFloat((0,f.e5)(x.amountBet)):0,u[2]=x.amountBet,u[3]=r):r=u[3];let y=r,j=(g-y)/y*100;u[4]!==j?(s=j.toFixed(0),u[4]=j,u[5]=s):s=u[5];let v=s,b=(0,tx.xM)("dangerous-ui-flash"),k="/event/".concat(x.events[0].slug,"/").concat(x.slug),w=b?"_self":"_blank";return u[6]!==x.image?(l=(0,a.jsx)(ty.A,{image:x.image,size:40,borderRadius:"4px",className:"!rounded-sm overflow-hidden"}),u[6]=x.image,u[7]=l):l=u[7],u[8]!==x.question?(n=(0,a.jsx)("h3",{className:"font-medium text-text-primary text-sm leading-tight mb-1 line-clamp-2",children:x.question}),u[8]=x.question,u[9]=n):n=u[9],u[10]!==y||u[11]!==x.value||u[12]!==v||u[13]!==h||u[14]!==g?(i=(0,a.jsx)("p",{className:"text-sm text-text-secondary",children:"redeem"===h?(0,a.jsxs)(a.Fragment,{children:["Bet $",(0,f.GQ)(y.toString())," â€¢ Won $",(0,f.GQ)(g.toString())," (+",v,"%)"]}):"close"===h?(0,a.jsxs)("span",{className:"text-text-secondary",children:["Bet $",(0,f.GQ)(y.toString())]}):(0,a.jsxs)("span",{className:"text-text-secondary",children:["Value $",(0,f.GQ)((0,f.e5)(x.value))]})}),u[10]=y,u[11]=x.value,u[12]=v,u[13]=h,u[14]=g,u[15]=i):i=u[15],u[16]!==i||u[17]!==n?(c=(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[n,i]}),u[16]=i,u[17]=n,u[18]=c):c=u[18],u[19]!==c||u[20]!==l?(d=(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-neutral-50 transition-colors",children:[l,c]}),u[19]=c,u[20]=l,u[21]=d):d=u[21],u[22]!==d||u[23]!==k||u[24]!==w?(m=(0,a.jsx)(tg(),{href:k,target:w,className:"block no-underline",children:d}),u[22]=d,u[23]=k,u[24]=w,u[25]=m):m=u[25],m};var tv=r(638983),tb=r(88577),tk=r(871562);let tw=e=>{let t,r,s,l,n=(0,o.c)(5),{onClick:i}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(tk.A,{icon:"bx-x",className:"text-white rounded-full bg-red w-20 h-20 p-2 my-2"}),n[0]=t):t=n[0],n[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("a",{href:"https://discord.gg/hGYPGru",target:"_blank",rel:"noopener noreferrer",children:"Discord"}),n[1]=r):r=n[1],n[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsxs)("p",{className:"text-lg font-normal text-center px-4 leading-[1.5] mb-2",children:["Something went wrong! Please try again, or contact us on"," ",r," ","or ",(0,a.jsx)("a",{id:tb.INTERCOM_LAUNCHER_ID,children:"Intercom"})," for assistance."]}),n[2]=s):s=n[2],n[3]!==i?(l=(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[t,s,(0,a.jsx)(_.$,{variant:"default",onClick:i,className:"w-full h-12 text-base font-medium",children:"Try again"})]}),n[3]=i,n[4]=l):l=n[4],l},tN=e=>{let t,r,s,l,n=(0,o.c)(8),{onClick:i,message:c}=e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(tk.A,{icon:"bx-check",className:"text-white rounded-full bg-green w-20 h-20 p-2 my-2"}),n[0]=t):t=n[0],n[1]!==c?(r=(0,a.jsx)("p",{className:"text-lg font-normal mb-2",children:c}),n[1]=c,n[2]=r):r=n[2],n[3]!==i?(s=(0,a.jsx)(_.$,{variant:"default",onClick:i,className:"w-full h-12 text-base font-medium",children:"Done"}),n[3]=i,n[4]=s):s=n[4],n[5]!==r||n[6]!==s?(l=(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[t,r,s]}),n[5]=r,n[6]=s,n[7]=l):l=n[7],l},tS=e=>{let{closeModal:t,onCloseResult:r,optimisticallyRefresh:s,isMobile:i}=e,o=(0,tu.Be)(),{authenticated:c,authenticationType:d,proxyAddress:m}=(0,L.Um)(),{positions:u,markets:x}=(0,ey.M)({proxyAddress:m,fetchAll:!0}),{setHasClosedAllPositions:h}=eP(),{refreshNonce:p}=(0,n.nb)(),{sendTransaction:f}=(0,D.Ay)(),[g,y]=(0,l.useState)(tv.b.Start),[j,v]=(0,l.useState)(0),[b,k]=(0,l.useState)(0),[w,N]=(0,l.useState)(!1),S=(0,l.useRef)(null),C=(0,l.useMemo)(()=>ta(u,x).filter(e=>!e.hasMatchingWonPosition),[x,u]);(0,l.useEffect)(()=>{let e=()=>{if(S.current){let{scrollHeight:e,clientHeight:t}=S.current;N(e>t)}};e();let t=new ResizeObserver(e);return S.current&&t.observe(S.current),()=>{t.disconnect()}},[C]);let A=(0,l.useCallback)(async()=>{if(y(tv.b.InProgress),!c)return(0,ea.H4)("[RedeemAll > Magiclink is null]",ev.ZB.MagicLinkMissing,m),{success:!1,errorCode:ev.ZB.MagicLinkMissing,errorMessage:"Could not access MagicLink wallet"};let{chainId:e}=F.MN,t=(C||[]).map(t=>{var r,a;return(0,tp.n)({chainId:e,chainConfig:F.ol,conditionId:t.conditionId,negRisk:t.negRisk,outcomeCount:null!=(a=null==(r=t.outcomes)?void 0:r.length)?a:0,amounts:t.amounts})});k(t.length);let r=(0,th.K)(t,tv.r),a=[],l=0;for(let[e,t]of r.entries())try{l+=t.length,v(l);let s=await f("eoa"===d?D.D_.EOA:D.D_.Magic,t.flat(),0,F.lg.Matic,e);a.push((0,O.Ut)(s)),o.trackEvent(tc.h8.TRANSACTION,{trade_type:"redeem_all",trade_status:"".concat(e+1,"_").concat(r.length),event_status:"success"})}catch(t){return(0,ea.H4)(t,"Redeem All Shares",m,ea.o6.MISSION_CRITICAL),o.trackEvent(tc.h8.TRANSACTION,{trade_type:"redeem_all",trade_status:"".concat(e+1,"_").concat(r.length),event_status:"error",event_error_msg:t.message||t.error||JSON.stringify(t)}),{success:!1,errorMessage:t.message||t.error||JSON.stringify(t)}}return await Promise.all(a),p(),s(),h(!0),{success:!0}},[C,c,d,s,u,m,x,p,f]),I=(0,l.useCallback)(()=>{y(tv.b.Start),v(0),p()},[y,p]),R=(0,l.useCallback)(async()=>{let{success:e,errorMessage:t}=await A();e?y(tv.b.Success):((0,ea.H4)(t,"closeAll",m),y(tv.b.Failure)),r()},[A,r,m]),P=(()=>{switch(g){case tv.b.Start:return{text:"Close ".concat(C.length," Positions"),disabled:!1,onClick:R};case tv.b.InProgress:return{text:"Processing... ".concat(j,"/").concat(b),disabled:!0,onClick:()=>{}};case tv.b.Success:return{text:"Done",disabled:!1,onClick:t};case tv.b.Failure:return{text:"Try again",disabled:!1,onClick:I};default:return{text:"Close ".concat(C.length," Positions"),disabled:!1,onClick:R}}})();return(0,a.jsxs)("div",{className:"relative w-full ".concat(i?"h-[80vh] rounded-t-3xl":"h-full rounded-xl"," flex flex-col mb-4"),children:[(0,a.jsx)(_.$,{variant:"ghost",size:"sm",onClick:t,className:"absolute ".concat(i?"top-4 right-4":"top-1 right-0"," w-8 h-8 p-0 z-10"),children:(0,a.jsx)(to.A,{size:16})}),(0,a.jsxs)("div",{className:"flex flex-col h-full min-h-0",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center text-center flex-shrink-0",children:[(0,a.jsx)("img",{src:"/images/portfolio/markets-lost.png",alt:"Close shares",className:"object-contain w-[220px] h-[120px]"}),(0,a.jsxs)("div",{className:"px-6 pb-4",children:[(0,a.jsx)("h2",{className:"text-2xl text-text-primary font-bold mb-2",children:"Polymarkets Lost"}),(0,a.jsxs)("p",{className:"text-text-secondary text-pretty",children:["You can close out these resolved positions to realize the loss."," ",(0,a.jsx)("a",{href:"https://docs.polymarket.com/docs/portfolio/markets-lost",target:"_blank",rel:"noopener noreferrer",className:"text-text-brand hover:underline",children:"Learn More"})]})]})]}),g===tv.b.Start||g===tv.b.InProgress?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex-1 flex flex-col relative",children:[(0,a.jsx)("div",{ref:S,className:"overflow-y-auto flex-1 max-h-[45vh]",children:C.map(e=>(0,a.jsx)(tj,{market:e,type:"close"},e.conditionId))}),w&&(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-10 pointer-events-none bg-gradient-to-t from-background to-transparent"})]}),(0,a.jsx)("div",{className:"mt-3 flex-shrink-0 ".concat(i?"px-4 pb-4":""),children:(0,a.jsx)(_.$,{onClick:P.onClick,disabled:P.disabled,className:"w-full h-12 text-base font-medium rounded-lg transition-all",children:P.text})})]}):null,g===tv.b.Success&&(0,a.jsx)(tN,{message:"You have successfully closed all shares.",onClick:t}),g===tv.b.Failure&&(0,a.jsx)(tw,{onClick:I})]})]})},tC=e=>{let t,r,s,n,i,c,d,m,u,x,h,p=(0,o.c)(28),{open:f,onOpenChange:g,onCloseResult:y,optimisticallyRefresh:j}=e,[v,b]=(0,l.useState)(!1);p[0]!==f?(t=()=>{b(f)},r=[f],p[0]=f,p[1]=t,p[2]=r):(t=p[1],r=p[2]),(0,l.useEffect)(t,r),p[3]!==g?(s=()=>{(0,tx.M9)()?b(!1):g(!1)},p[3]=g,p[4]=s):s=p[4];let k=s;p[5]!==g?(n=e=>{b(e),e||setTimeout(()=>{g(!1)},500)},p[5]=g,p[6]=n):n=p[6];let w=n;return p[7]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(tm.Yo,{className:"fixed inset-0 bg-black/40 z-[calc(var(--zIndices-drawer)+15)]"}),p[7]=i):i=p[7],p[8]!==k||p[9]!==y||p[10]!==j?(c=(0,a.jsxs)(tm.SA,{children:[i,(0,a.jsx)(tm.BP,{className:"z-[calc(var(--zIndices-drawer)+15)] fixed bottom-0 left-0 right-0 flex flex-col rounded-t-3xl bg-background w-full max-h-[90vh]",children:(0,a.jsx)(tS,{closeModal:k,onCloseResult:y,optimisticallyRefresh:j,isMobile:!0})})]}),p[8]=k,p[9]=y,p[10]=j,p[11]=c):c=p[11],p[12]!==w||p[13]!==v||p[14]!==c?(d=(0,a.jsx)(eM.$U,{lessThan:"lg",children:(0,a.jsx)(tm.ed,{shouldScaleBackground:!1,open:v,onOpenChange:w,modal:!0,dismissible:!0,children:c})}),p[12]=w,p[13]=v,p[14]=c,p[15]=d):d=p[15],p[16]!==k?(m=e=>{e||k()},p[16]=k,p[17]=m):m=p[17],p[18]!==k||p[19]!==y||p[20]!==j?(u=(0,a.jsx)(td.Cf,{children:(0,a.jsx)(tS,{closeModal:k,onCloseResult:y,optimisticallyRefresh:j,isMobile:!1})}),p[18]=k,p[19]=y,p[20]=j,p[21]=u):u=p[21],p[22]!==m||p[23]!==u?(x=(0,a.jsx)(eM.$U,{greaterThanOrEqual:"lg",children:(0,a.jsx)(td.lG,{defaultOpen:!0,onOpenChange:m,children:u})}),p[22]=m,p[23]=u,p[24]=x):x=p[24],p[25]!==x||p[26]!==d?(h=(0,a.jsxs)(a.Fragment,{children:[d,x]}),p[25]=x,p[26]=d,p[27]=h):h=p[27],h};var t_=r(185107),tA=r(527266),tI=r(703674),tR=r.n(tI);let tP=async e=>{let{userAddress:t,limit:r,offset:a,start:s,end:l,orderBy:n,type:i,side:o}=e,c="".concat(F.qL,"/activity?user=").concat(t,"&limit=").concat(r,"&offset=").concat(a);"number"==typeof s&&(c="".concat(c,"&start=").concat(s)),"number"==typeof l&&(c="".concat(c,"&end=").concat(l)),"newest"===n&&(c="".concat(c,"&sortBy=TIMESTAMP&sortDirection=DESC")),"oldest"===n&&(c="".concat(c,"&sortBy=TIMESTAMP&sortDirection=ASC")),"value"===n&&(c="".concat(c,"&sortBy=CASH&sortDirection=DESC")),"shareQty"===n&&(c="".concat(c,"&sortBy=TOKENS&sortDirection=DESC")),i&&(c="".concat(c,"&type=").concat(i)),o&&(c="".concat(c,"&side=").concat(o));let{data:d}=await e5.p.get(c);return d};function tM(e,t){if(t.length&&100===e.length)return t.length}function tT(e,t){return 100===e.length?t.length:void 0}let tD={LOADING_ERROR:"There was an error loading your activity. Please try refreshing the page.",NO_POSITIONS:"No positions found."},tL=(e,t)=>{if(t.searchQuery){let r=t.searchQuery.toLowerCase();if(!e.marketName.toLowerCase().includes(r))return!1}if(t.dateRange.start||t.dateRange.end){let r=new Date(1e3*e.timestamp);if(t.dateRange.start&&r<t.dateRange.start)return!1;if(t.dateRange.end){let e=new Date(t.dateRange.end);if(e.setDate(e.getDate()+1),r>=e)return!1}}return t.actionType===eC.All||(t.actionType===eC.AllTrades?e.action===eC.Buy||e.action===eC.Sell:e.action===t.actionType)},tE=(e,t)=>{if(t.searchQuery){let r=t.searchQuery.toLowerCase();return e.market.toLowerCase().includes(r)}return!0};function tF(e){return e()}function tO(e){if(e)return Math.round(e.valueOf()/1e3)}var tz=r(137468),tB=r(775617);let tV=e=>{let{title:t="Something went wrong",message:r="We encountered an error while loading your data.",error:s,onRetry:l,showDetails:n=!1,className:i}=e,o=s instanceof Error?s.message:s;return(0,a.jsxs)("div",{className:i?"flex flex-col items-center justify-center p-8 gap-4 ".concat(i):"flex flex-col items-center justify-center p-8 gap-4",children:[(0,a.jsx)(tB.A,{size:48,className:"text-red-500"}),(0,a.jsxs)("div",{className:"text-center max-w-md",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:t}),(0,a.jsx)("p",{className:"text-sm text-text-secondary",children:r}),n&&o&&(0,a.jsxs)("details",{className:"mt-4 text-xs text-text-tertiary",children:[(0,a.jsx)("summary",{className:"cursor-pointer font-medium",children:"Error details"}),(0,a.jsx)("pre",{className:"mt-2 p-3 bg-neutral-100 rounded text-left overflow-auto max-h-32",children:o})]})]}),l&&(0,a.jsx)(_.$,{onClick:l,variant:"outline",size:"sm",children:"Try again"})]})};var t$=r(501202);let tq=e=>{let t,r=(0,o.c)(4),{count:s,variant:l}=e,n=void 0===s?3:s;if("mobile"===(void 0===l?"desktop":l)){let e;return r[0]!==n?(e=(0,a.jsx)("div",{className:"divide-y divide-neutral-50 border-t border-b border-neutral-50",children:Array.from({length:n}).map(tH)}),r[0]=n,r[1]=e):e=r[1],e}return r[2]!==n?(t=(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("table",{className:"w-full caption-bottom text-sm table-auto",children:(0,a.jsx)("tbody",{children:Array.from({length:n}).map(tW)})})}),r[2]=n,r[3]=t):t=r[3],t};function tH(e,t){return(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(t$.E,{className:"w-12 h-12 rounded","aria-label":"Loading market icon"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)(t$.E,{className:"h-4 w-3/4","aria-label":"Loading market name"}),(0,a.jsx)(t$.E,{className:"h-3 w-1/2","aria-label":"Loading market details"})]})]}),(0,a.jsxs)("div",{className:"mt-3 flex justify-between items-center",children:[(0,a.jsx)(t$.E,{className:"h-4 w-20","aria-label":"Loading value"}),(0,a.jsx)(t$.E,{className:"h-8 w-16","aria-label":"Loading action"})]})]},t)}function tW(e,t){return(0,a.jsxs)("tr",{className:"border-b transition-colors hover:bg-muted/50",children:[(0,a.jsx)("td",{className:"p-4 align-middle",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(t$.E,{className:"w-10 h-10 rounded","aria-label":"Loading market icon"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)(t$.E,{className:"h-4 w-32","aria-label":"Loading market name"}),(0,a.jsx)(t$.E,{className:"h-3 w-24","aria-label":"Loading market details"})]})]})}),(0,a.jsx)("td",{className:"p-4 align-middle",children:(0,a.jsx)(t$.E,{className:"h-4 w-16 mx-auto","aria-label":"Loading price"})}),(0,a.jsx)("td",{className:"p-4 align-middle",children:(0,a.jsx)(t$.E,{className:"h-4 w-20 mx-auto","aria-label":"Loading shares"})}),(0,a.jsx)("td",{className:"p-4 align-middle",children:(0,a.jsx)(t$.E,{className:"h-4 w-24 mx-auto","aria-label":"Loading value"})}),(0,a.jsx)("td",{className:"p-4 align-middle text-right",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 justify-end",children:[(0,a.jsx)(t$.E,{className:"h-8 w-20","aria-label":"Loading action button"}),(0,a.jsx)(t$.E,{className:"h-8 w-8","aria-label":"Loading share button"})]})})]},t)}var tQ=r(498422);let tZ=e=>{let t,r,s,l,n=(0,o.c)(9),i=e.size||18,c=e.title||"circle check",d=e.color||"currentColor";return n[0]!==c?(t=(0,a.jsx)("title",{children:c}),n[0]=c,n[1]=t):t=n[1],n[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("path",{d:"M9,1C4.589,1,1,4.589,1,9s3.589,8,8,8,8-3.589,8-8S13.411,1,9,1Zm3.25,8.75h-2.5v2.5c0,.414-.336,.75-.75,.75s-.75-.336-.75-.75v-2.5h-2.5c-.414,0-.75-.336-.75-.75s.336-.75,.75-.75h2.5v-2.5c0-.414,.336-.75,.75-.75s.75,.336,.75,.75v2.5h2.5c.414,0,.75,.336,.75,.75s-.336,.75-.75,.75Z"}),n[2]=r):r=n[2],n[3]!==d?(s=(0,a.jsx)("g",{fill:d,children:r}),n[3]=d,n[4]=s):s=n[4],n[5]!==i||n[6]!==t||n[7]!==s?(l=(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 18 18",children:[t,s]}),n[5]=i,n[6]=t,n[7]=s,n[8]=l):l=n[8],l},tU=e=>{let t,r,s,l,n=(0,o.c)(9),i=e.size||18,c=e.title||"circle check",d=e.color||"currentColor";return n[0]!==c?(t=(0,a.jsx)("title",{children:c}),n[0]=c,n[1]=t):t=n[1],n[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("path",{d:"M9,1C4.589,1,1,4.589,1,9s3.589,8,8,8,8-3.589,8-8S13.411,1,9,1Zm3.25,8.75H5.75c-.414,0-.75-.336-.75-.75s.336-.75,.75-.75h6.5c.414,0,.75,.336,.75,.75s-.336,.75-.75,.75Z"}),n[2]=r):r=n[2],n[3]!==d?(s=(0,a.jsx)("g",{fill:d,children:r}),n[3]=d,n[4]=s):s=n[4],n[5]!==i||n[6]!==t||n[7]!==s?(l=(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 18 18",children:[t,s]}),n[5]=i,n[6]=t,n[7]=s,n[8]=l):l=n[8],l};var tG=r(214258);let tY=e=>{let t,r,s,l,n,i=(0,o.c)(10),c=e.size||18,d=e.title||"merge",m=e.color||"currentColor";return i[0]!==d?(t=(0,a.jsx)("title",{children:d}),i[0]=d,i[1]=t):t=i[1],i[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("path",{d:"M16.25,8.25h-6.318l-1.956-3.377c-.49-.847-1.402-1.373-2.38-1.373H2.75c-.414,0-.75,.336-.75,.75s.336,.75,.75,.75h2.847c.445,0,.859,.239,1.082,.624l1.955,3.376-1.955,3.376c-.223,.385-.637,.624-1.082,.624H2.75c-.414,0-.75,.336-.75,.75s.336,.75,.75,.75h2.847c.978,0,1.89-.526,2.38-1.372l1.956-3.378h6.318v-1.5Z"}),s=(0,a.jsx)("path",{d:"M13.5,12.5c-.192,0-.384-.073-.53-.22-.293-.293-.293-.768,0-1.061l2.22-2.22-2.22-2.22c-.293-.293-.293-.768,0-1.061s.768-.293,1.061,0l2.75,2.75c.293,.293,.293,.768,0,1.061l-2.75,2.75c-.146,.146-.338,.22-.53,.22Z"}),i[2]=r,i[3]=s):(r=i[2],s=i[3]),i[4]!==m?(l=(0,a.jsxs)("g",{fill:m,children:[r,s]}),i[4]=m,i[5]=l):l=i[5],i[6]!==c||i[7]!==t||i[8]!==l?(n=(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 18 18",children:[t,l]}),i[6]=c,i[7]=t,i[8]=l,i[9]=n):n=i[9],n},tK=e=>{let t,r,s,l,n,i,c=(0,o.c)(11),d=e.size||18,m=e.title||"arrows-from-line-x",u=e.color||"currentColor";return c[0]!==m?(t=(0,a.jsx)("title",{children:m}),c[0]=m,c[1]=t):t=c[1],c[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("path",{d:"M9,2c-.414,0-.75,.336-.75,.75V15.25c0,.414,.336,.75,.75,.75s.75-.336,.75-.75V2.75c0-.414-.336-.75-.75-.75Z"}),s=(0,a.jsx)("path",{d:"M6.25,8.25H3.561l1.22-1.22c.293-.293,.293-.768,0-1.061s-.768-.293-1.061,0l-2.5,2.5c-.293,.293-.293,.768,0,1.061l2.5,2.5c.146,.146,.338,.22,.53,.22s.384-.073,.53-.22c.293-.293,.293-.768,0-1.061l-1.22-1.22h2.689c.414,0,.75-.336,.75-.75s-.336-.75-.75-.75Z"}),l=(0,a.jsx)("path",{d:"M14.28,5.97c-.293-.293-.768-.293-1.061,0s-.293,.768,0,1.061l1.22,1.22h-2.689c-.414,0-.75,.336-.75,.75s.336,.75,.75,.75h2.689l-1.22,1.22c-.293,.293-.293,.768,0,1.061,.146,.146,.338,.22,.53,.22s.384-.073,.53-.22l2.5-2.5c.293-.293,.293-.768,0-1.061l-2.5-2.5Z"}),c[2]=r,c[3]=s,c[4]=l):(r=c[2],s=c[3],l=c[4]),c[5]!==u?(n=(0,a.jsxs)("g",{fill:u,children:[r,s,l]}),c[5]=u,c[6]=n):n=c[6],c[7]!==d||c[8]!==t||c[9]!==n?(i=(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:d,height:d,viewBox:"0 0 18 18",children:[t,n]}),c[7]=d,c[8]=t,c[9]=n,c[10]=i):i=c[10],i},tX=e=>{let t,r,s,l,n=(0,o.c)(10),i=e.size||18,c=e.title||"circle arrow down",d=e.color||"currentColor";return n[0]!==c?(t=(0,a.jsx)("title",{children:c}),n[0]=c,n[1]=t):t=n[1],n[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("path",{d:"M9 1C13.4183 1 17 4.58172 17 9C17 13.4183 13.4183 17 9 17C4.58172 17 1 13.4183 1 9C1 4.58172 4.58172 1 9 1ZM5.15918 11.751C4.76743 11.7511 4.4502 12.0692 4.4502 12.4609C4.45039 12.8525 4.76755 13.1698 5.15918 13.1699H12.9102C13.3017 13.1697 13.6199 12.8525 13.6201 12.4609C13.6201 12.0692 13.3019 11.7511 12.9102 11.751H5.15918ZM13.1377 13.0273C13.1044 13.0407 13.0701 13.0522 13.0342 13.0596C13.0701 13.0522 13.1044 13.0407 13.1377 13.0273ZM5.03613 13.0596C5.00064 13.0523 4.96656 13.0415 4.93359 13.0283C4.96656 13.0415 5.00064 13.0523 5.03613 13.0596ZM13.2422 12.9717C13.2165 12.9884 13.1902 13.0038 13.1621 13.0166C13.1902 13.0038 13.2165 12.9884 13.2422 12.9717ZM4.90137 13.0137C4.87623 13.0019 4.85224 12.9886 4.8291 12.9736C4.85224 12.9886 4.87623 13.0019 4.90137 13.0137ZM4.65918 12.8105C4.70062 12.8697 4.75129 12.9216 4.81055 12.9629C4.75129 12.9216 4.70063 12.8697 4.65918 12.8105ZM13.4062 12.8154C13.3651 12.8728 13.315 12.9227 13.2568 12.9629C13.315 12.9227 13.3651 12.8728 13.4062 12.8154ZM4.64355 12.7881C4.62832 12.7642 4.61536 12.7389 4.60352 12.7129C4.61536 12.7389 4.62832 12.7642 4.64355 12.7881ZM13.4678 12.708C13.4566 12.7331 13.444 12.7571 13.4297 12.7803C13.444 12.7571 13.4566 12.7331 13.4678 12.708ZM4.5918 12.6865C4.57863 12.6535 4.56686 12.6195 4.55957 12.584C4.56686 12.6195 4.57863 12.6535 4.5918 12.6865ZM13.5098 12.3438C13.5171 12.3817 13.5225 12.4209 13.5225 12.4609C13.5225 12.4209 13.5171 12.3816 13.5098 12.3438ZM13.4756 12.2295C13.4864 12.2559 13.4939 12.2834 13.501 12.3115C13.4939 12.2834 13.4864 12.2559 13.4756 12.2295ZM13.4268 12.1357C13.4408 12.1579 13.4528 12.1811 13.4639 12.2051C13.4528 12.1811 13.4407 12.1579 13.4268 12.1357ZM13.3555 12.0439C13.3718 12.0614 13.3872 12.0794 13.4014 12.0986C13.3872 12.0794 13.3718 12.0614 13.3555 12.0439ZM13.2734 11.9707C13.293 11.9852 13.3114 12.0009 13.3291 12.0176C13.3114 12.0009 13.293 11.9852 13.2734 11.9707ZM13.1836 11.916C13.2026 11.9256 13.2215 11.9349 13.2393 11.9463C13.2215 11.9349 13.2026 11.9256 13.1836 11.916ZM13.0342 11.8613C13.0699 11.8687 13.1045 11.8793 13.1377 11.8926C13.1045 11.8793 13.0699 11.8687 13.0342 11.8613ZM9.03516 4C8.64346 4 8.32544 4.31735 8.3252 4.70898V8.29883L7.08887 7.0625C6.81162 6.78549 6.36219 6.78545 6.08496 7.0625C5.80775 7.33971 5.80789 7.7891 6.08496 8.06641L8.53223 10.5137C8.6703 10.6517 8.85242 10.7227 9.03418 10.7227C9.21556 10.7226 9.39782 10.6529 9.53613 10.5137L11.9824 8.06641C12.2597 7.78912 12.2597 7.33979 11.9824 7.0625C11.7051 6.78562 11.2557 6.78535 10.9785 7.0625L10.8828 7.15918H10.8838L9.74414 8.2998V4.70898C9.7439 4.31748 9.42666 4.00022 9.03516 4ZM8.90723 10.6104C8.87563 10.6036 8.84485 10.5938 8.81445 10.582C8.84486 10.5938 8.87564 10.6036 8.90723 10.6104ZM8.78809 10.5713C8.76328 10.5603 8.73927 10.5476 8.71582 10.5332C8.73929 10.5476 8.76327 10.5603 8.78809 10.5713ZM8.60156 10.4453C8.62759 10.4713 8.65633 10.4933 8.68555 10.5137C8.6564 10.4933 8.62755 10.4713 8.60156 10.4453ZM9.63477 4.59277C9.64207 4.63047 9.64743 4.66918 9.64746 4.70898V8.53516L9.64648 8.53613V4.70898C9.64646 4.66919 9.64206 4.63045 9.63477 4.59277ZM11.9863 7.90723C11.965 7.93858 11.9418 7.96927 11.9141 7.99707C11.9418 7.96927 11.965 7.93858 11.9863 7.90723ZM12.04 7.81055C12.0317 7.82946 12.0211 7.84707 12.0107 7.86523C12.0211 7.84707 12.0317 7.82946 12.04 7.81055ZM6.05469 7.86328C6.04403 7.84434 6.03388 7.82541 6.02539 7.80566C6.03387 7.82542 6.04403 7.84433 6.05469 7.86328ZM6.01074 7.7666C6.00284 7.74409 5.99641 7.72137 5.99121 7.69824C5.99638 7.72138 6.00286 7.74408 6.01074 7.7666ZM12.0762 7.69824C12.0714 7.7194 12.0656 7.74009 12.0586 7.76074C12.0656 7.74009 12.0714 7.7194 12.0762 7.69824ZM5.9834 7.6582C5.97986 7.63548 5.97754 7.61277 5.97656 7.58984C5.97751 7.61277 5.97989 7.63548 5.9834 7.6582ZM12.0908 7.58984C12.0899 7.61279 12.0875 7.63546 12.084 7.6582C12.0875 7.63545 12.0899 7.6128 12.0908 7.58984ZM5.97656 7.54199C5.97736 7.51936 5.9801 7.49705 5.9834 7.47461C5.98007 7.49704 5.97739 7.51937 5.97656 7.54199ZM12.085 7.48145C12.0877 7.50164 12.0901 7.52166 12.0908 7.54199C12.0901 7.52165 12.0877 7.50164 12.085 7.48145ZM12.0605 7.375C12.0665 7.39314 12.072 7.41116 12.0762 7.42969C12.072 7.41116 12.0665 7.39315 12.0605 7.375ZM11.9922 7.22754C12.0131 7.25923 12.0305 7.29289 12.0449 7.32715C12.0305 7.29279 12.0132 7.25932 11.9922 7.22754ZM9.60254 4.48438C9.61109 4.50587 9.61695 4.52818 9.62305 4.55078C9.61696 4.52818 9.61107 4.50586 9.60254 4.48438ZM9.55176 4.38574C9.5634 4.40427 9.57336 4.42357 9.58301 4.44336C9.57337 4.42356 9.56339 4.40427 9.55176 4.38574ZM9.48633 4.2998C9.49943 4.31423 9.51174 4.3291 9.52344 4.34473C9.51175 4.3291 9.49943 4.31423 9.48633 4.2998ZM9.40137 4.22168C9.41788 4.23411 9.43406 4.24674 9.44922 4.26074C9.43407 4.24674 9.41788 4.23411 9.40137 4.22168ZM9.29785 4.15918C9.32074 4.17015 9.34305 4.18169 9.36426 4.19531C9.34305 4.18169 9.32074 4.17015 9.29785 4.15918ZM6.02441 7.32031L6.0752 7.22754C6.05341 7.26053 6.03523 7.2953 6.02051 7.33105C6.02195 7.32754 6.0229 7.32381 6.02441 7.32031Z"}),n[2]=r):r=n[2],n[3]!==d?(s=(0,a.jsx)("g",{fill:d,children:r}),n[3]=d,n[4]=s):s=n[4],n[5]!==e||n[6]!==i||n[7]!==t||n[8]!==s?(l=(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 18 18",...e,children:[t,s]}),n[5]=e,n[6]=i,n[7]=t,n[8]=s,n[9]=l):l=n[9],l},tJ=e=>{let t,r,s,l,n=(0,o.c)(10),i=e.size||18,c=e.title||"circle arrow up",d=e.color||"currentColor";return n[0]!==c?(t=(0,a.jsx)("title",{children:c}),n[0]=c,n[1]=t):t=n[1],n[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("path",{d:"M9 1C13.4183 1 17 4.58172 17 9C17 13.4183 13.4183 17 9 17C4.58172 17 1 13.4183 1 9C1 4.58172 4.58172 1 9 1ZM5.0752 11.8164C4.67497 11.8164 4.35059 12.1408 4.35059 12.541C4.35059 12.9412 4.67497 13.2656 5.0752 13.2656H12.9922C13.3922 13.2653 13.7168 12.9411 13.7168 12.541C13.7168 12.141 13.3922 11.8167 12.9922 11.8164H5.0752ZM13.1182 13.1533H13.1123C13.1508 13.1455 13.188 13.1344 13.2236 13.1201C13.1897 13.1337 13.1548 13.1458 13.1182 13.1533ZM13.6172 12.541L13.6045 12.667C13.5968 12.7047 13.5835 12.7405 13.5693 12.7754C13.5988 12.7028 13.6162 12.6241 13.6162 12.541C13.6162 12.4985 13.6116 12.4571 13.6035 12.417C13.6116 12.4572 13.6172 12.4985 13.6172 12.541ZM4.49414 12.7695C4.49232 12.7649 4.48999 12.7605 4.48828 12.7559L4.46289 12.667C4.47016 12.7025 4.48113 12.7365 4.49414 12.7695ZM13.2285 11.9629C13.1932 11.9484 13.1564 11.9366 13.1182 11.9287L13.1162 11.9277C13.1552 11.9357 13.1926 11.9482 13.2285 11.9629ZM9.54492 4.1123C9.26167 3.82951 8.80261 3.82923 8.51953 4.1123L6.01953 6.6123C5.73667 6.8954 5.73681 7.35451 6.01953 7.6377C6.30268 7.92084 6.76169 7.9207 7.04492 7.6377L8.30762 6.375V10.041C8.30762 10.4411 8.63317 10.7664 9.0332 10.7666C9.43327 10.7664 9.75781 10.4411 9.75781 10.041V6.375L11.0205 7.6377C11.1614 7.77861 11.3477 7.85047 11.5332 7.85059C11.7183 7.8505 11.9047 7.77976 12.0459 7.6377C12.3286 7.35444 12.328 6.89536 12.0449 6.6123L9.54492 4.1123ZM11.3027 7.70508C11.3767 7.73457 11.4547 7.75097 11.5332 7.75098L11.4131 7.73926C11.3754 7.73186 11.3388 7.71947 11.3027 7.70508ZM11.0918 7.56738C11.12 7.59559 11.1508 7.61987 11.1826 7.6416C11.1506 7.6198 11.1191 7.59568 11.0908 7.56738L9.6582 6.13379L11.0918 7.56738ZM12.0469 7.48242L11.9746 7.56738C12.004 7.53794 12.0297 7.50615 12.0518 7.47266L12.0469 7.48242ZM6.09082 6.68359C6.03179 6.74268 5.98651 6.81027 5.95605 6.88281C5.97072 6.8478 5.98842 6.81364 6.00977 6.78125L6.09082 6.68359Z"}),n[2]=r):r=n[2],n[3]!==d?(s=(0,a.jsx)("g",{fill:d,children:r}),n[3]=d,n[4]=s):s=n[4],n[5]!==e||n[6]!==i||n[7]!==t||n[8]!==s?(l=(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 18 18",...e,children:[t,s]}),n[5]=e,n[6]=i,n[7]=t,n[8]=s,n[9]=l):l=n[9],l};var t0=r(433304),t1=r(239027),t2=r(878392),t3=r(470266),t5=r.n(t3),t4=r(350648);let t7=e=>{let t,r,s,l,n,i,c,d,m=(0,o.c)(33),{marketName:u,effectiveAction:x,marketHref:h,marketImage:p,outcome:f,outcomeIndex:g,teamColor:y,badgeContent:j,subText:v,size:b,showImage:k,className:w}=e,N=void 0===g?0:g,S=void 0===k||k;m[0]===Symbol.for("react.memo_cache_sentinel")?(t={sm:{image:32,title:"text-[12px] leading-[18px]",badge:"text-[10px]",subText:"text-[11px]",gap:"gap-1"},md:{image:44,title:"text-[13px] leading-[21px]",badge:"text-xs px-1.5 py-0.5",subText:"text-[12px]",gap:"gap-3"},lg:{image:56,title:"text-[14px] leading-[22px]",badge:"text-sm",subText:"text-[13px]",gap:"gap-3"}},m[0]=t):t=m[0];let C=t[void 0===b?"md":b];m[1]!==w||m[2]!==C.gap?(r=["flex items-center flex-row",C.gap,w].filter(Boolean),m[1]=w,m[2]=C.gap,m[3]=r):r=m[3];let _=r.join(" ");m[4]!==C.image||m[5]!==h.href||m[6]!==h.url||m[7]!==p||m[8]!==S?(s=S&&(0,a.jsx)(tg(),{href:h.href,as:h.url,passHref:!0,prefetch:!1,children:(0,a.jsx)(ty.A,{image:p,size:C.image,coerceToDefaultImgTag:!0,className:"cursor-pointer border-r-0 !rounded-sm overflow-hidden",skeletonCss:{borderRadius:"$sm"}})}),m[4]=C.image,m[5]=h.href,m[6]=h.url,m[7]=p,m[8]=S,m[9]=s):s=m[9];let A="text-text-primary font-medium line-clamp-1 text-ellipsis overflow-hidden hover:underline cursor-pointer break-all ".concat(C.title);return m[10]!==u||m[11]!==A?(l=(0,a.jsx)("h2",{className:A,children:u}),m[10]=u,m[11]=A,m[12]=l):l=m[12],m[13]!==h.href||m[14]!==h.url||m[15]!==l?(n=(0,a.jsx)(tg(),{href:h.href,as:h.url,passHref:!0,prefetch:!1,children:l}),m[13]=h.href,m[14]=h.url,m[15]=l,m[16]=n):n=m[16],m[17]!==j||m[18]!==C.badge||m[19]!==C.subText||m[20]!==x||m[21]!==f||m[22]!==N||m[23]!==v||m[24]!==y?(i=(f||v)&&(0,a.jsxs)("div",{className:"flex flex-row items-center gap-[4px]",children:[f&&(0,a.jsxs)(t4.E,{variant:y?"default":0===N?"success":"error",className:"".concat(C.badge," ").concat(y?"bg-[var(--team-color)]/15 text-[var(--team-color)] border-transparent":""),style:{"--team-color":y},children:[f," ",j]}),v&&x!==eC.Redeem&&(0,a.jsx)("span",{className:"font-medium text-neutral-400 leading-[18px] tracking-[0.15px] ".concat(C.subText),children:v})]}),m[17]=j,m[18]=C.badge,m[19]=C.subText,m[20]=x,m[21]=f,m[22]=N,m[23]=v,m[24]=y,m[25]=i):i=m[25],m[26]!==n||m[27]!==i?(c=(0,a.jsxs)("div",{className:"flex flex-col gap-[2px] min-w-0",children:[n,i]}),m[26]=n,m[27]=i,m[28]=c):c=m[28],m[29]!==c||m[30]!==_||m[31]!==s?(d=(0,a.jsxs)("div",{className:_,children:[s,c]}),m[29]=c,m[30]=_,m[31]=s,m[32]=d):d=m[32],d},t6=e=>{switch(e){case eC.Buy:return"Bought";case eC.Sell:return"Sold";case eC.Redeem:return"Claimed";case eC.Lost:return"Lost";case eC.Merge:return"Merged";case eC.Split:return"Split";case eC.Deposit:return"Deposited";case eC.Withdraw:return"Withdrew";case eC.Reward:return"Reward";case eC.Yield:return"Rewards";default:return e}},t8=e=>{let t,r,s,l=(0,o.c)(38),{historyItem:n,effectiveAction:i,isRewardPayout:c,avgPrice:d,mode:m}=e,u=n.eventSlug===n.marketSlug?"/event/".concat(n.eventSlug):"/event/".concat(n.eventSlug,"/").concat(n.marketSlug);if("desktop"===m){let e,t,r,s,o,m;return l[0]!==i?(e=(e=>{switch(e){case eC.Buy:return(0,a.jsx)(tZ,{color:"#899cb2"});case eC.Sell:return(0,a.jsx)(tU,{color:"#899cb2"});case eC.Redeem:return(0,a.jsx)(tG.A,{className:"text-green-600 dark:text-green-500"});case eC.Lost:return(0,a.jsx)(tB.A,{color:"#e13737"});case eC.Merge:return(0,a.jsx)(tY,{color:"#899cb2"});case eC.Split:return(0,a.jsx)(tK,{color:"#899cb2"});case eC.Deposit:return(0,a.jsx)(tX,{color:"#899cb2"});case eC.Withdraw:return(0,a.jsx)(tJ,{color:"#899cb2"});case eC.Reward:case eC.Yield:default:return(0,a.jsx)(tG.A,{className:"text-green-600 dark:text-green-500"})}})(i),l[0]=i,l[1]=e):e=l[1],l[2]!==i?(t=t6(i),l[2]=i,l[3]=t):t=l[3],l[4]!==t?(r=(0,a.jsx)("span",{className:"text-sm font-medium",children:t}),l[4]=t,l[5]=r):r=l[5],l[6]!==e||l[7]!==r?(s=(0,a.jsxs)("div",{className:"w-[130px] flex items-center gap-3",children:[e,r]}),l[6]=e,l[7]=r,l[8]=s):s=l[8],l[9]!==d||l[10]!==i||l[11]!==n.marketImage||l[12]!==n.marketName||l[13]!==n.tokenAmount||l[14]!==n.tokenIndex||l[15]!==n.tokenName||l[16]!==c||l[17]!==u?(o=(0,a.jsx)("div",{className:"flex-[5]",children:c||i===eC.Yield||i===eC.Deposit||i===eC.Withdraw?(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[i===eC.Reward?(0,a.jsx)("div",{className:"w-11 h-11 rounded-sm bg-[var(--legacy-gray6)] flex items-center justify-center",children:(0,a.jsx)(t2.e,{size:20})}):i===eC.Yield?(0,a.jsx)("div",{className:"w-11 h-11 rounded-sm bg-[var(--color-pink-50)] flex items-center justify-center",children:(0,a.jsx)(t1.A,{color:"var(--color-pink-500)",size:20})}):i===eC.Deposit||i===eC.Withdraw?(0,a.jsx)("div",{className:"w-11 h-11 rounded-sm bg-brand-50 dark:bg-brand-200 flex items-center justify-center",children:(0,a.jsx)(t0.A,{className:"text-brand-500",size:22})}):(0,a.jsx)("div",{className:"w-12 h-12 rounded-sm bg-neutral-200 flex items-center justify-center",children:(0,a.jsx)(tQ.A,{color:"#fff"})}),(0,a.jsx)("p",{className:"text-sm font-medium text-text-primary truncate",children:i===eC.Yield?"4% Rewards":i===eC.Deposit?"Deposited funds":i===eC.Withdraw?"Withdrew funds":"Rewards distributed for epoch"})]}):(0,a.jsx)(t7,{marketName:n.marketName||"N/A",marketHref:{href:u,url:u},marketImage:n.marketImage,outcome:n.tokenName,outcomeIndex:n.tokenIndex,badgeContent:d?"".concat(d,"\xa2"):void 0,subText:(()=>{let e=(0,f.Ym)(n.tokenAmount);return"".concat(e," share").concat(1===Number(n.tokenAmount)?"":"s")})(),effectiveAction:i,size:"md"})}),l[9]=d,l[10]=i,l[11]=n.marketImage,l[12]=n.marketName,l[13]=n.tokenAmount,l[14]=n.tokenIndex,l[15]=n.tokenName,l[16]=c,l[17]=u,l[18]=o):o=l[18],l[19]!==s||l[20]!==o?(m=(0,a.jsxs)(a.Fragment,{children:[s,o]}),l[19]=s,l[20]=o,l[21]=m):m=l[21],m}return l[22]!==i||l[23]!==n.marketImage||l[24]!==c||l[25]!==u?(t=c||i===eC.Yield||i===eC.Deposit||i===eC.Withdraw?i===eC.Reward?(0,a.jsx)("div",{className:"w-12 h-12 rounded-sm bg-[var(--legacy-gray6)] flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(t2.e,{size:24})}):i===eC.Yield?(0,a.jsx)("div",{className:"w-12 h-12 rounded-sm bg-[var(--color-pink-50)] flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(t1.A,{color:"var(--color-pink-500)",size:24})}):i===eC.Deposit||i===eC.Withdraw?(0,a.jsx)("div",{className:"w-12 h-12 rounded-sm bg-brand-50 dark:bg-brand-200 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(t0.A,{className:"text-brand-500",size:24})}):(0,a.jsx)("div",{className:"w-12 h-12 rounded-sm bg-green-500 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(tQ.A,{color:"#fff"})}):(0,a.jsx)(tg(),{href:u,onClick:t9,children:(0,a.jsx)(ty.A,{image:n.marketImage,size:48,coerceToDefaultImgTag:!0,className:"cursor-pointer !rounded-sm overflow-hidden"})}),l[22]=i,l[23]=n.marketImage,l[24]=c,l[25]=u,l[26]=t):t=l[26],l[27]!==d||l[28]!==i||l[29]!==n.marketName||l[30]!==n.tokenAmount||l[31]!==n.tokenName||l[32]!==c||l[33]!==u?(r=(0,a.jsx)("div",{className:"flex-1 min-w-0",children:c||i===eC.Yield||i===eC.Deposit||i===eC.Withdraw?(0,a.jsx)("p",{className:"text-sm font-medium text-text-primary",children:i===eC.Yield?"4% Rewards":i===eC.Deposit?"Deposited funds":i===eC.Withdraw?"Withdrew funds":"Rewards distributed for epoch"}):(0,a.jsxs)("div",{className:"flex flex-col items-start gap-1 text-left",children:[n.marketName?(0,a.jsx)(tg(),{href:u,onClick:re,children:(0,a.jsx)("p",{className:"text-sm font-medium text-text-primary text-pretty",children:n.marketName})}):(0,a.jsx)("p",{className:"text-sm font-medium text-text-primary text-pretty",children:"N/A"}),i===eC.Redeem?(0,a.jsxs)("span",{className:"text-xs text-text-secondary",children:[t6(i)," ",n.tokenName]}):i===eC.Lost?(0,a.jsxs)("span",{className:"text-xs text-text-secondary",children:[t6(i)," ",t5()(n.tokenAmount).format("0,0")," ",n.tokenName,d?" at ".concat(d,"\xa2"):""]}):d&&n.tokenAmount&&n.tokenName?(0,a.jsxs)("span",{className:"text-xs text-text-secondary",children:[t6(i)," ",t5()(n.tokenAmount).format("0,0")," ",n.tokenName," at ",d,"\xa2"]}):(0,a.jsx)("span",{className:"text-xs text-text-secondary",children:t6(i)})]})}),l[27]=d,l[28]=i,l[29]=n.marketName,l[30]=n.tokenAmount,l[31]=n.tokenName,l[32]=c,l[33]=u,l[34]=r):r=l[34],l[35]!==t||l[36]!==r?(s=(0,a.jsxs)("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[t,r]}),l[35]=t,l[36]=r,l[37]=s):s=l[37],s};function t9(e){e.stopPropagation()}function re(e){e.stopPropagation()}let rt=e=>{let t,r,s,l,n,i,c=(0,o.c)(15),d=e.size||12,m=e.title||"box-archive",u=e.color||"currentColor";return c[0]!==m?(t=(0,a.jsx)("title",{children:m}),c[0]=m,c[1]=t):t=c[1],c[2]!==u?(r=(0,a.jsx)("path",{d:"m10.25,4.5v4.25c0,1.105-.895,2-2,2h-2.25s-2.25,0-2.25,0c-1.105,0-2-.895-2-2v-4.25",fill:"none",stroke:u,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),s=(0,a.jsx)("rect",{x:".75",y:"1.25",width:"10.5",height:"3",rx:"1",ry:"1",fill:"none",stroke:u,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),l=(0,a.jsx)("line",{x1:"5",y1:"6.75",x2:"7",y2:"6.75",fill:"none",stroke:u,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),c[2]=u,c[3]=r,c[4]=s,c[5]=l):(r=c[3],s=c[4],l=c[5]),c[6]!==u||c[7]!==r||c[8]!==s||c[9]!==l?(n=(0,a.jsxs)("g",{fill:u,children:[r,s,l]}),c[6]=u,c[7]=r,c[8]=s,c[9]=l,c[10]=n):n=c[10],c[11]!==d||c[12]!==t||c[13]!==n?(i=(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:d,height:d,viewBox:"0 0 12 12",children:[t,n]}),c[11]=d,c[12]=t,c[13]=n,c[14]=i):i=c[14],i};var rr=r(801994),ra=r(210280),rs=r(200636),rl=r(305571);let rn=e=>{var t;let r,s,l,n,i=(0,o.c)(33),{historyItem:c,effectiveAction:d,formattedValue:m,isPositiveValue:u,isUnredeemedLostPosition:x,isRewardPayout:h,isRedeemingLostPosition:p,handleRedeemLostPosition:f,mode:g}=e;i[0]!==f?(r=async()=>{await f()},i[0]=f,i[1]=r):r=i[1];let y=r,j=null==(t=c.marketData)?void 0:t.hasMatchingWonPosition;if("desktop"===g){let e,t,r,s,l,n,o="text-sm font-medium ".concat(u?"text-green-600 dark:text-green-500":"text-text-primary");if(i[2]!==m||i[3]!==o?(e=(0,a.jsx)("div",{className:"text-right w-16 flex-shrink-0",children:(0,a.jsx)("p",{className:o,children:m})}),i[2]=m,i[3]=o,i[4]=e):e=i[4],i[5]!==c.timestamp){let e;i[7]===Symbol.for("react.memo_cache_sentinel")?(e=/\b(minute|months|month|years|year|less than a min)\b/g,i[7]=e):e=i[7],t=(0,ra.A)(new Date(1e3*c.timestamp),{addSuffix:!0}).replace("about ","").replace(e,ri),i[5]=c.timestamp,i[6]=t}else t=i[6];return i[8]!==t?(r=(0,a.jsx)("span",{className:"text-xs text-text-secondary font-medium w-24 text-right leading-tight",children:t}),i[8]=t,i[9]=r):r=i[9],i[10]!==y||i[11]!==j||i[12]!==c.hash||i[13]!==p||i[14]!==h||i[15]!==x?(s=x?(0,a.jsx)(rs.m_,{content:"Close lost position",showArrow:!1,children:!j&&(0,a.jsx)(_.$,{variant:"outline",size:"iconSm",onClick:y,disabled:p,children:p?(0,a.jsx)(tQ.A,{}):(0,a.jsx)(rt,{})})}):h?(0,a.jsx)(_.$,{onClick:()=>window.open((0,rl.sP)(c.hash),"_blank"),variant:"outline",size:"iconSm",children:(0,a.jsx)(rr.A,{})}):null,i[10]=y,i[11]=j,i[12]=c.hash,i[13]=p,i[14]=h,i[15]=x,i[16]=s):s=i[16],i[17]!==s?(l=(0,a.jsx)("div",{className:"flex items-center gap-2 w-8 justify-end flex-shrink-0",children:s}),i[17]=s,i[18]=l):l=i[18],i[19]!==e||i[20]!==r||i[21]!==l?(n=(0,a.jsxs)("div",{className:"flex-1 flex items-center justify-end gap-4",children:[e,r,l]}),i[19]=e,i[20]=r,i[21]=l,i[22]=n):n=i[22],n}return i[23]!==d||i[24]!==m||i[25]!==u?(s=d!==eC.Lost&&(0,a.jsx)("p",{className:"text-sm font-medium ".concat(u?"text-green-500":"text-text-primary"),children:m}),i[23]=d,i[24]=m,i[25]=u,i[26]=s):s=i[26],i[27]!==d||i[28]!==c?(l=d===eC.Redeem?(0,a.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,a.jsx)(tG.A,{className:"text-green-600 dark:text-green-500"}),(0,a.jsx)("span",{className:"text-xs text-green-600 dark:text-green-500",children:"Claimed"})]}):d===eC.Lost?(0,a.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,a.jsx)(tB.A,{color:"#e13737"}),(0,a.jsx)("span",{className:"text-xs text-red-500",children:"Lost"})]}):(0,a.jsx)("span",{className:"text-xs text-text-secondary",children:(0,ra.A)(new Date(1e3*c.timestamp),{addSuffix:!0}).replace("about ","")}),i[27]=d,i[28]=c,i[29]=l):l=i[29],i[30]!==s||i[31]!==l?(n=(0,a.jsxs)("div",{className:"flex flex-col items-end text-right gap-1",children:[s,l]}),i[30]=s,i[31]=l,i[32]=n):n=i[32],n};function ri(e){return({minute:"min",months:"mo",hour:"hr",month:"mo",years:"yr",year:"yr","less than a min":"<1 min"})[e]||e}let ro=l.memo(e=>{let t,r,s,l=(0,o.c)(19),{historyItem:n,effectiveAction:i,isRewardPayout:c,avgPrice:d,formattedValue:m,isPositiveValue:u,isUnredeemedLostPosition:x,isRedeemingLostPosition:h,handleRedeemLostPosition:p,handleViewTransaction:f,rowIndex:g}=e,y="hidden lg:flex items-center px-4 py-2 border-b border-neutral-50 transition-colors ".concat(g%2==0?"bg-[var(--legacy-gray8)]":"bg-background"," hover:bg-[var(--legacy-gray6)]/75 dark:hover:bg-[#44647F]/50");return l[0]!==d||l[1]!==i||l[2]!==n||l[3]!==c?(t=(0,a.jsx)(t8,{historyItem:n,effectiveAction:i,isRewardPayout:c,avgPrice:d,mode:"desktop"}),l[0]=d,l[1]=i,l[2]=n,l[3]=c,l[4]=t):t=l[4],l[5]!==i||l[6]!==m||l[7]!==p||l[8]!==f||l[9]!==n||l[10]!==u||l[11]!==h||l[12]!==c||l[13]!==x?(r=(0,a.jsx)(rn,{historyItem:n,effectiveAction:i,formattedValue:m,isPositiveValue:u,isUnredeemedLostPosition:x,isRewardPayout:c,isRedeemingLostPosition:h,handleRedeemLostPosition:p,handleViewTransaction:f,mode:"desktop"}),l[5]=i,l[6]=m,l[7]=p,l[8]=f,l[9]=n,l[10]=u,l[11]=h,l[12]=c,l[13]=x,l[14]=r):r=l[14],l[15]!==y||l[16]!==t||l[17]!==r?(s=(0,a.jsxs)("div",{className:y,children:[t,r]}),l[15]=y,l[16]=t,l[17]=r,l[18]=s):s=l[18],s});var rc=r(591664),rd=r(723460);let rm=l.memo(e=>{var t;let r,n,i,c,d,m,u,x,h,p,f,g,y,j,v=(0,o.c)(58),{historyItem:b,effectiveAction:k,isRewardPayout:w,avgPrice:N,formattedValue:S,isPositiveValue:C,isUnredeemedLostPosition:A,isRedeemingLostPosition:I,handleRedeemLostPosition:R,handleViewTransaction:P}=e,[M,T]=(0,l.useState)(!1),D=(0,s.useRouter)(),L=null==(t=b.marketData)?void 0:t.hasMatchingWonPosition;v[0]!==M?(r=()=>T(!M),n=e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),T(!M))},v[0]=M,v[1]=r,v[2]=n):(r=v[1],n=v[2]),v[3]!==N||v[4]!==k||v[5]!==b||v[6]!==w?(i=(0,a.jsx)(t8,{historyItem:b,effectiveAction:k,isRewardPayout:w,avgPrice:N,mode:"mobile"}),v[3]=N,v[4]=k,v[5]=b,v[6]=w,v[7]=i):i=v[7],v[8]!==k||v[9]!==S||v[10]!==R||v[11]!==P||v[12]!==b||v[13]!==C||v[14]!==I||v[15]!==w||v[16]!==A?(c=(0,a.jsx)(rn,{historyItem:b,effectiveAction:k,formattedValue:S,isPositiveValue:C,isUnredeemedLostPosition:A,isRewardPayout:w,isRedeemingLostPosition:I,handleRedeemLostPosition:R,handleViewTransaction:P,mode:"mobile"}),v[8]=k,v[9]=S,v[10]=R,v[11]=P,v[12]=b,v[13]=C,v[14]=I,v[15]=w,v[16]=A,v[17]=c):c=v[17];let E="text-text-secondary !ml-1 transition-transform ease-[cubic-bezier(0.77,0,0.175,1)] ".concat(M?"rotate-180":"");v[18]!==E?(d=(0,a.jsx)(rc.A,{className:E}),v[18]=E,v[19]=d):d=v[19],v[20]!==c||v[21]!==d?(m=(0,a.jsxs)("div",{className:"flex items-center gap-2 my-auto",children:[c,d]}),v[20]=c,v[21]=d,v[22]=m):m=v[22],v[23]!==M||v[24]!==r||v[25]!==n||v[26]!==i||v[27]!==m?(u=(0,a.jsxs)("div",{className:"flex items-start justify-between py-4 cursor-pointer gap-3",onClick:r,onKeyDown:n,role:"button",tabIndex:0,"aria-expanded":M,"aria-label":"Toggle transaction details",children:[i,m]}),v[23]=M,v[24]=r,v[25]=n,v[26]=i,v[27]=m,v[28]=u):u=v[28];let F=M?"auto":0;return v[29]!==N||v[30]!==k||v[31]!==b.tokenAmount||v[32]!==A?(x=(0,a.jsx)("div",{className:"flex items-center gap-6",children:A?(0,a.jsx)("div",{className:"text-xs text-text-secondary",children:"Position lost"}):k===eC.Redeem||k===eC.Lost?(0,a.jsx)("div",{className:"text-xs text-text-secondary",children:"Position closed"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[11px] text-text-secondary uppercase tracking-wider",children:"AVG"}),(0,a.jsxs)("p",{className:"text-sm font-medium",children:[N,"\xa2"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-[11px] text-text-secondary uppercase tracking-wider",children:"SHARES"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:t5()(b.tokenAmount).format("0,0")})]})]})}),v[29]=N,v[30]=k,v[31]=b.tokenAmount,v[32]=A,v[33]=x):x=v[33],v[34]!==k||v[35]!==R||v[36]!==L||v[37]!==b.eventSlug||v[38]!==b.marketSlug||v[39]!==I||v[40]!==w||v[41]!==A||v[42]!==D?(h=A&&!L?(0,a.jsx)(_.$,{variant:"outline",size:"iconSm",onClick:e=>{e.stopPropagation(),R()},disabled:I,children:I?(0,a.jsx)(tQ.A,{}):(0,a.jsx)(rt,{})}):w&&!L?k!==eC.Yield&&(0,a.jsxs)(_.$,{variant:"secondary",size:"iconSm",onClick:e=>{e.stopPropagation();let t=b.eventSlug?"/event/".concat(b.eventSlug,"/").concat(b.marketSlug):"/market/".concat(b.marketSlug);D.push(t)},className:"flex gap-1 px-12",children:[(0,a.jsx)(rr.A,{}),"View"]}):!L&&k!==eC.Deposit&&k!==eC.Withdraw&&(0,a.jsx)(_.$,{variant:"secondary",size:"iconSm",onClick:e=>{e.stopPropagation();let t=b.eventSlug?"/event/".concat(b.eventSlug,"/").concat(b.marketSlug):"/market/".concat(b.marketSlug);D.push(t)},className:"flex gap-1 px-12",children:"View"}),v[34]=k,v[35]=R,v[36]=L,v[37]=b.eventSlug,v[38]=b.marketSlug,v[39]=I,v[40]=w,v[41]=A,v[42]=D,v[43]=h):h=v[43],v[44]!==b.hash?(p=b.hash&&!b.hash.startsWith("unredeemed-lost-position")&&(0,a.jsx)(_.$,{variant:"outline",size:"iconSm",onClick:e=>{e.stopPropagation(),window.open((0,rl.sP)(b.hash),"_blank")},children:(0,a.jsx)(rr.A,{})}),v[44]=b.hash,v[45]=p):p=v[45],v[46]!==h||v[47]!==p?(f=(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[h,p]}),v[46]=h,v[47]=p,v[48]=f):f=v[48],v[49]!==x||v[50]!==f?(g=(0,a.jsxs)("div",{className:"flex items-center justify-between py-4",children:[x,f]}),v[49]=x,v[50]=f,v[51]=g):g=v[51],v[52]!==g||v[53]!==F?(y=(0,a.jsx)(rd.A,{duration:200,height:F,children:g}),v[52]=g,v[53]=F,v[54]=y):y=v[54],v[55]!==y||v[56]!==u?(j=(0,a.jsxs)("li",{children:[u,y]}),v[55]=y,v[56]=u,v[57]=j):j=v[57],j}),ru=e=>{let t,r=(0,o.c)(11),{historyItem:s,rowIndex:i,variant:c}=e,d=(e=>{let{proxyAddress:t,authenticationType:r,authenticated:a}=(0,L.Um)(),[s,i]=(0,l.useState)(!1),o=(0,eK.d)(),{sendTransaction:c}=(0,D.Ay)(),{refreshNonce:d}=(0,n.nb)(),m=(0,l.useMemo)(()=>(function(e,t){let r="string"==typeof t?parseFloat(t):t;return"Redeem"===e&&0===r})(e.action,e.usdcAmount),[e.action,e.usdcAmount]),u=(0,l.useMemo)(()=>m?eC.Lost:e.action,[m,e.action]),x=(0,l.useMemo)(()=>u===eC.Lost&&e.hash.startsWith("unredeemed-lost-position-"),[u,e.hash]),h=(0,l.useMemo)(()=>(function(e,t){try{let r="string"==typeof e?parseFloat(e):e,a="string"==typeof t?parseFloat(t):t;if(Number.isNaN(r)||Number.isNaN(a)||!Number.isFinite(r)||!Number.isFinite(a)||0===a||0===r&&0===a)return!1;let s=r/a*100;if(!Number.isFinite(s))return!1;return Math.round(s).toString()}catch(e){return!1}})(e.usdcAmount,e.tokenAmount),[e.tokenAmount,e.usdcAmount]),p=e.action===eC.Reward,g=(0,l.useMemo)(()=>u===eC.Redeem||u===eC.Sell||u===eC.Reward||u===eC.Yield||u===eC.Deposit||u===eC.Merge,[u]),y=(0,l.useMemo)(()=>{let t=parseFloat(e.usdcAmount);return e.action===eC.Lost||m?"-":(0,eE.jf)(g?t:-t,{signDisplay:"exceptZero"})},[e.usdcAmount,e.action,m,g]),j=(0,l.useCallback)(async()=>{var s,l,n,i;if(!a)return(0,ea.H4)("[RedeemAll > Magiclink is null]",ev.ZB.MagicLinkMissing,t),{success:!1,errorCode:ev.ZB.MagicLinkMissing,errorMessage:"Could not access MagicLink wallet"};let{chainId:o}=F.MN,m=(null==(l=e.marketData)||null==(s=l.outcomes)?void 0:s.length)||2,u=Array(m).fill(eT.gH.from(0)),{tokenIndex:x}=e,h=(0,f.wD)(e.tokenAmount);u[x]=h;let p=(0,tp.n)({chainId:o,chainConfig:F.ol,conditionId:null==(n=e.marketData)?void 0:n.conditionId,negRisk:null==(i=e.marketData)?void 0:i.negRisk,outcomeCount:m,amounts:u});try{let e=await c("eoa"===r?D.D_.EOA:D.D_.Magic,p,0,F.lg.Matic,0);await (0,O.Ut)(e)}catch(e){return(0,ea.H4)(e,"Redeem Lost Position",t,ea.o6.MISSION_CRITICAL),{success:!1,errorMessage:e.message||e.error||JSON.stringify(e)}}return d(),{success:!0}},[a,r,e,t,d,c]);return{effectiveAction:u,isRewardPayout:p,avgPrice:h,formattedValue:y,isPositiveValue:g,isUnredeemedLostPosition:x,isRedeemingLostPosition:s,handleRedeemLostPosition:(0,l.useCallback)(async()=>{i(!0);try{if((await j()).success)o.success(new eX.$().title("Success").description("Position closed successfully"));else throw Error("Failed to redeem position");return!0}catch(e){return(0,ea.H4)(e,"PortfolioHistoryItem",t),!1}finally{i(!1)}},[j,o,t]),handleViewTransaction:(0,l.useCallback)(()=>{window.open("https://".concat(80001===F.MN.chainId?"mumbai.":"","polygonscan.com/tx/").concat(e.hash),"_blank")},[e.hash])}})(s);if("mobile"===c){let e;return r[0]!==s||r[1]!==d?(e=(0,a.jsx)(rm,{historyItem:s,...d}),r[0]=s,r[1]=d,r[2]=e):e=r[2],e}if("desktop"===c){let e;return r[3]!==s||r[4]!==d||r[5]!==i?(e=(0,a.jsx)(ro,{historyItem:s,...d,rowIndex:i}),r[3]=s,r[4]=d,r[5]=i,r[6]=e):e=r[6],e}return r[7]!==s||r[8]!==d||r[9]!==i?(t=(0,a.jsx)(ro,{historyItem:s,...d,rowIndex:i}),r[7]=s,r[8]=d,r[9]=i,r[10]=t):t=r[10],t},rx=()=>{let e,t,r,n,i,c,d,m,u,x,h,p,f,g,y,j,v,b,k,w,N,S,C,A,I,R,P,M,T,D=(0,o.c)(114),{proxyAddress:E}=(0,L.Um)(),{sortPortfolioHistoryBy:O,portfolioSearchQuery:z,portfolioHistoryStartDate:B,portfolioHistoryEndDate:V,portfolioHistoryActionFilter:$,setPortfolioHistoryStartDate:q,setPortfolioHistoryEndDate:H,setCsvFormattedHistory:W,setPortfolioHistoryActionFilter:Q}=eP(),[Z,U]=(0,l.useState)(100),G=l.useRef($);D[0]!==$?(e=()=>{G.current!==$&&(G.current=$,U(100))},t=[$],D[0]=$,D[1]=e,D[2]=t):(e=D[1],t=D[2]),l.useEffect(e,t),D[3]===Symbol.for("react.memo_cache_sentinel")?(r=[eC.Deposit,eC.Withdraw,eC.Lost],D[3]=r):r=D[3];let Y=!r.includes($),{data:K,hasNextPage:X,fetchNextPage:J,isFetchingNextPage:ee,refetch:et,status:er,isError:es}=function(e){let t,r,a,s,l=(0,o.c)(12),{proxyAddress:n}=(0,L.Um)();l[0]!==n||l[1]!==e?(t=["transactions",n,100,e],l[0]=n,l[1]=e,l[2]=t):t=l[2];let i=!!n;l[3]!==n||l[4]!==e?(r=async t=>{var r;let a,s,{pageParam:l}=t;return"Oldest"===e?(a=0,s="TIMESTAMP"):"Value"===e?(a=1,s="AMOUNT"):(a=1,s="TIMESTAMP"),null!=(r=(await e5.p.get("".concat(F.qL,"/v1/transactions"),{params:{user:n,limit:100,offset:100*l,sortOrder:a,sortBy:s}})).data)?r:[]},l[3]=n,l[4]=e,l[5]=r):r=l[5],l[6]!==t||l[7]!==i||l[8]!==r?(a={queryKey:t,enabled:i,queryFn:r,initialPageParam:0,getNextPageParam:tT,refetchOnWindowFocus:!1,staleTime:6e4},l[6]=t,l[7]=i,l[8]=r,l[9]=a):a=l[9];let c=(0,e3.q)(a);return l[10]!==c?(s={PAGE_SIZE:100,...c},l[10]=c,l[11]=s):s=l[11],s}(O);e:{let e;if(!K){let e;D[4]===Symbol.for("react.memo_cache_sentinel")?(e=[],D[4]=e):e=D[4],n=e;break e}D[5]!==K.pages?(e=K.pages.flat(),D[5]=K.pages,D[6]=e):e=D[6],n=e}let en=n;D[7]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{U(100)},D[7]=i):i=D[7],D[8]!==V||D[9]!==B?(c=[B,V],D[8]=V,D[9]=B,D[10]=c):c=D[10],(0,l.useEffect)(i,c);let ei=(0,s.useRouter)(),eo=null!=E?E:tA.L;D[11]!==B?(d=tO(B),D[11]=B,D[12]=d):d=D[12],D[13]!==V?(m=tO(V),D[13]=V,D[14]=m):m=D[14],D[15]!==$||D[16]!==O||D[17]!==eo||D[18]!==d||D[19]!==m?(u={userAddress:eo,open:d,close:m,orderBy:O,actionType:$},D[15]=$,D[16]=O,D[17]=eo,D[18]=d,D[19]=m,D[20]=u):u=D[20];let{fetchNextPage:ec,hasNextPage:ed,isError:em,isFetchingNextPage:eu,status:ex,flattenedPortfolioItems:eh,refetch:ep}=(e=>{let t,r,a,s,l,n,i,c,d=(0,o.c)(33),{userAddress:m,open:u,close:x,orderBy:h,actionType:p}=e;d[0]!==h?(t=(e=>{switch(e){case eS.Newest:return"newest";case eS.Oldest:return"oldest";case eS.ValueDesc:return"value";case eS.ShareQtyDesc:return"shareQty";default:return"newest"}})(h),d[0]=h,d[1]=t):t=d[1];let f=t;d[2]!==p?(r=(e=>{switch(e){case eC.Buy:case eC.Sell:case eC.AllTrades:return"TRADE";case eC.Merge:return"MERGE";case eC.Redeem:return"REDEEM";case eC.Reward:return"REWARD";case eC.Yield:return"YIELD";case eC.Split:return"SPLIT";case eC.Convert:return"CONVERSION";default:return}})(p),d[2]=p,d[3]=r):r=d[3];let g=r;d[4]!==p?(a=(e=>{switch(e){case eC.Buy:return"BUY";case eC.Sell:return"SELL";default:return}})(p),d[4]=p,d[5]=a):a=d[5];let y=a;d[6]!==x||d[7]!==u||d[8]!==g||d[9]!==f||d[10]!==y||d[11]!==m?(s={queryKey:["api/history",m,100,u,x,f,g,y],queryFn:e=>{let{pageParam:t}=e;return tP({userAddress:m,limit:100,offset:100*t,start:u,end:x,orderBy:f,type:g,side:y})},refetchOnWindowFocus:!1,refetchOnReconnect:!0,staleTime:6e4,initialPageParam:0,getNextPageParam:tM},d[6]=x,d[7]=u,d[8]=g,d[9]=f,d[10]=y,d[11]=m,d[12]=s):s=d[12];let j=(0,e3.q)(s),{data:v,fetchNextPage:b,hasNextPage:k,isLoading:w,isPending:N,isError:S,isFetchingNextPage:C,status:_,refetch:A}=j;d[13]!==m?(l={onError:e=>{(0,ea.H4)(e,"usePortfolioActivity",m)}},d[13]=m,d[14]=l):l=d[14],(0,el.B)(j,l,"usePortfolioActivity");e:{let e;if(!v||!Array.isArray(null==v?void 0:v.pages)){let e;d[15]===Symbol.for("react.memo_cache_sentinel")?(e=[],d[15]=e):e=d[15],n=e;break e}d[16]!==v.pages?(e=tR().flattenDeep(v.pages),d[16]=v.pages,d[17]=e):e=d[17],n=e}let I=n;t:{let e;if(!I){let e;d[18]===Symbol.for("react.memo_cache_sentinel")?(e=[],d[18]=e):e=d[18],i=e;break t}d[19]!==I?(e=(e=>Array.isArray(e)?e.map(e=>({action:(e=>"MERGE"===e.type?eC.Merge:"REWARD"===e.type?eC.Reward:"YIELD"===e.type?eC.Yield:"CONVERSION"===e.type?eC.Convert:"REDEEM"===e.type?eC.Redeem:"SPLIT"===e.type?eC.Split:"TRADE"===e.type?"BUY"===e.side?eC.Buy:eC.Sell:eC.All)(e),eventSlug:e.eventSlug,hash:e.transactionHash,marketImage:e.icon,marketName:e.title,marketSlug:e.slug,timestamp:e.timestamp,tokenAmount:e.size.toString(),tokenIndex:e.outcomeIndex,tokenName:e.outcome,usdcAmount:"YIELD"===e.type?Math.abs(e.usdcSize).toString():e.usdcSize.toString()})):[])(I),d[19]=I,d[20]=e):e=d[20],i=e}let R=i;return d[21]!==b||d[22]!==I||d[23]!==R||d[24]!==k||d[25]!==v||d[26]!==S||d[27]!==C||d[28]!==w||d[29]!==N||d[30]!==A||d[31]!==_?(c={fetchNextPage:b,hasNextPage:k,isError:S,isFetchingNextPage:C,isLoading:w,isPending:N,status:_,historyItems:v,flattenedHistoryItems:I,flattenedPortfolioItems:R,refetch:A},d[21]=b,d[22]=I,d[23]=R,d[24]=k,d[25]=v,d[26]=S,d[27]=C,d[28]=w,d[29]=N,d[30]=A,d[31]=_,d[32]=c):c=d[32],c})(u);D[21]!==E?(x={proxyAddress:E},D[21]=E,D[22]=x):x=D[22];let{lostPositionsAsHistory:ef,refetch:eg,isPending:ey}=ts(x);D[23]!==eg||D[24]!==ep||D[25]!==et?(h={refetchFunctions:[eg,ep,et]},D[23]=eg,D[24]=ep,D[25]=et,D[26]=h):h=D[26],(e=>{let t,r,a,s=(0,o.c)(6),{refetchFunctions:n,dependencies:i}=e,c=void 0===i?["hasClosedAllPositions","hasMergedPositions","hasRedeemedAll"]:i,d=eP();s[0]!==n?(t=()=>{n.forEach(tF)},s[0]=n,s[1]=t):t=s[1];let m=t;return s[2]!==d?(r=e=>d[e],s[2]=d,s[3]=r):r=s[3],(0,l.useEffect)(()=>{c.some(e=>d[e])&&m()},[...c.map(r),m]),s[4]!==m?(a={refetchAll:m},s[4]=m,s[5]=a):a=s[5]})(h);t:{let e;if(!en.length){let e;D[27]===Symbol.for("react.memo_cache_sentinel")?(e=[],D[27]=e):e=D[27],p=e;break t}D[28]!==en?(e=en.map(rh),D[28]=en,D[29]=e):e=D[29],p=e}let ej=p;r:{let e,t;if($===eC.Deposit){let e;if(D[30]!==O||D[31]!==ej){let t;D[33]!==O?(t=(e,t)=>e6(e,t,O),D[33]=O,D[34]=t):t=D[34],e=ej.filter(rp).sort(t),D[30]=O,D[31]=ej,D[32]=e}else e=D[32];f=e;break r}if($===eC.Withdraw){let e;if(D[35]!==O||D[36]!==ej){let t;D[38]!==O?(t=(e,t)=>e6(e,t,O),D[38]=O,D[39]=t):t=D[39],e=ej.filter(rf).sort(t),D[35]=O,D[36]=ej,D[37]=e}else e=D[37];f=e;break r}D[40]!==eh?(e=new Set(eh.map(rg)),D[40]=eh,D[41]=e):e=D[41];let r=e;if(D[42]!==r||D[43]!==eh||D[44]!==ef||D[45]!==$||D[46]!==O||D[47]!==ej){let e,a,s;D[49]!==r?(e=e=>!r.has(e.hash),D[49]=r,D[50]=e):e=D[50];let l=ef.filter(e),n=eh.filter(ry),i=eh.filter(rj);switch($){case eC.Redeem:a=i.filter(rv);break;case eC.Lost:a=[...l,...n];break;case eC.AllTrades:a=i.filter(rb);break;case eC.All:a=[...i,...ej,...l,...n];break;default:{let e;D[51]!==$?(e=e=>e.action===$,D[51]=$,D[52]=e):e=D[52],a=i.filter(e)}}D[53]!==O?(s=(e,t)=>e6(e,t,O),D[53]=O,D[54]=s):s=D[54],t=a.sort(s),D[42]=r,D[43]=eh,D[44]=ef,D[45]=$,D[46]=O,D[47]=ej,D[48]=t}else t=D[48];f=t}let ev=f,eb=z||"";D[55]!==V||D[56]!==B?(g={start:B,end:V},D[55]=V,D[56]=B,D[57]=g):g=D[57],D[58]!==eb||D[59]!==g?(y={searchQuery:eb,dateRange:g,actionType:eC.All},D[58]=eb,D[59]=g,D[60]=y):y=D[60];let{filteredData:ek}=((e,t)=>{let r,a=(0,o.c)(3);return a[0]!==e||a[1]!==t?(r={data:e,initialFilters:t,filterFn:tL},a[0]=e,a[1]=t,a[2]=r):r=a[2],function(e){var t,r,a,s,n,i,c,d;let m,u,x,h,p,f,g,y,j,v,b,k,w=(0,o.c)(38),{data:N,initialFilters:S,filterFn:C}=e;w[0]!==S?(m=void 0===S?{}:S,w[0]=S,w[1]=m):m=w[1];let _=m,[A,I]=(0,l.useState)(_.searchQuery||""),R=(null==(t=_.dateRange)?void 0:t.start)||void 0,P=(null==(r=_.dateRange)?void 0:r.end)||void 0;w[2]!==R||w[3]!==P?(u={start:R,end:P},w[2]=R,w[3]=P,w[4]=u):u=w[4];let[M,T]=(0,l.useState)(u),[D,L]=(0,l.useState)(_.actionType||eC.All),E=(0,l.useDeferredValue)(A);w[5]!==D||w[6]!==_.actionType||w[7]!==(null==(a=_.dateRange)?void 0:a.end)||w[8]!==(null==(s=_.dateRange)?void 0:s.start)||w[9]!==_.searchQuery||w[10]!==A?(x=()=>{var e,t,r,a;let s=null!=(r=_.searchQuery)?r:"",l=null==(e=_.dateRange)?void 0:e.start,n=null==(t=_.dateRange)?void 0:t.end,i=null!=(a=_.actionType)?a:eC.All;s!==A&&I(s),i!==D&&L(i),T(e=>e.start===l&&e.end===n?e:{start:l,end:n})},w[5]=D,w[6]=_.actionType,w[7]=null==(c=_.dateRange)?void 0:c.end,w[8]=null==(d=_.dateRange)?void 0:d.start,w[9]=_.searchQuery,w[10]=A,w[11]=x):x=w[11];let F=null==(n=_.dateRange)?void 0:n.start,O=null==(i=_.dateRange)?void 0:i.end;w[12]!==D||w[13]!==_.actionType||w[14]!==_.searchQuery||w[15]!==A||w[16]!==F||w[17]!==O?(h=[_.searchQuery,F,O,_.actionType,A,D],w[12]=D,w[13]=_.actionType,w[14]=_.searchQuery,w[15]=A,w[16]=F,w[17]=O,w[18]=h):h=w[18],(0,l.useEffect)(x,h),w[19]!==D||w[20]!==M||w[21]!==E?(p={searchQuery:E,dateRange:M,actionType:D},w[19]=D,w[20]=M,w[21]=E,w[22]=p):p=w[22];let z=p;e:{if(C){f=C;break e}if(!N||0===N.length){f=null;break e}let e=N[0];if(e&&"object"==typeof e&&"action"in e&&"timestamp"in e){f=tL;break e}if(e&&"object"==typeof e&&"market"in e){f=tE;break e}f=null}let B=f;w[23]===Symbol.for("react.memo_cache_sentinel")?(g=e=>{I(e)},w[23]=g):g=w[23];let V=g;w[24]===Symbol.for("react.memo_cache_sentinel")?(y=(e,t)=>{T(r=>r.start===e&&r.end===t?r:{start:e,end:t})},w[24]=y):y=w[24];let $=y;w[25]===Symbol.for("react.memo_cache_sentinel")?(j=e=>{L(t=>t===e?t:e)},w[25]=j):j=w[25];let q=j;w[26]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{I(""),T({start:void 0,end:void 0}),L(eC.All)},w[26]=v):v=w[26];let H=v,W=""!==A||void 0!==M.start||void 0!==M.end||D!==eC.All;t:{let e;if(!N||0===N.length||!B){b=N;break t}if(w[27]!==N||w[28]!==B||w[29]!==z){let t;w[31]!==B||w[32]!==z?(t=e=>B(e,z),w[31]=B,w[32]=z,w[33]=t):t=w[33],e=N.filter(t),w[27]=N,w[28]=B,w[29]=z,w[30]=e}else e=w[30];b=e}let Q=b;return w[34]!==Q||w[35]!==z||w[36]!==W?(k={filteredData:Q,filters:z,setSearchQuery:V,setDateRange:$,setActionType:q,clearFilters:H,hasActiveFilters:W},w[34]=Q,w[35]=z,w[36]=W,w[37]=k):k=w[37],k}(r)})(ev,y);D[61]!==Z||D[62]!==ek?(j=ek.slice(0,Z),D[61]=Z,D[62]=ek,D[63]=j):j=D[63];let ew=j,eN=0===ew.length;D[64]!==ek||D[65]!==W?(v=()=>{W(ek)},b=[ek,W],D[64]=ek,D[65]=W,D[66]=v,D[67]=b):(v=D[66],b=D[67]),(0,l.useEffect)(v,b),D[68]!==ei.asPath||D[69]!==ei.isReady||D[70]!==ei.query||D[71]!==Q||D[72]!==H||D[73]!==q?(k=()=>{if(ei.isReady){let e=ei.asPath;if(e.includes("tab")&&e.includes("history")&&e.includes("rewardTime")){let e=new Date(new Date(parseInt(ei.query.rewardTime,10)));e.setDate(e.getDate()-1);let t=new Date;Q(eC.Reward),q(e),H(t)}}},D[68]=ei.asPath,D[69]=ei.isReady,D[70]=ei.query,D[71]=Q,D[72]=H,D[73]=q,D[74]=k):k=D[74],D[75]!==ei.isReady?(w=[ei.isReady],D[75]=ei.isReady,D[76]=w):w=D[76],(0,l.useEffect)(k,w);let e_=Z<ek.length||Y&&ed||X,eA="pending"===ex||"pending"===er||ey,eI=em||es;return D[77]===Symbol.for("react.memo_cache_sentinel")?(N=(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("span",{className:"text-[11px] tracking-[2px] leading-[15px] font-medium text-text-secondary",children:"ACTIVITY"})}),D[77]=N):N=D[77],D[78]===Symbol.for("react.memo_cache_sentinel")?(S=(0,a.jsx)("div",{className:"flex-[5]",children:(0,a.jsx)("span",{className:"text-[11px] tracking-[2px] leading-[15px] font-medium text-text-secondary",children:"MARKET"})}),D[78]=S):S=D[78],D[79]===Symbol.for("react.memo_cache_sentinel")?(C=(0,a.jsxs)("div",{className:"hidden lg:flex border-b border-border px-4 py-4",children:[N,S,(0,a.jsxs)("div",{className:"flex-1 flex items-center justify-end gap-4",children:[(0,a.jsx)("div",{className:"text-right w-16 flex-shrink-0",children:(0,a.jsx)("span",{className:"text-[11px] tracking-[2px] leading-[15px] font-medium text-text-secondary",children:"VALUE"})}),(0,a.jsx)("div",{className:"w-24"}),(0,a.jsx)("div",{className:"w-8 flex-shrink-0"})]})]}),D[79]=C):C=D[79],D[80]!==eI||D[81]!==eg||D[82]!==ep||D[83]!==et?(A=eI&&(0,a.jsx)(tV,{message:tD.LOADING_ERROR,onRetry:()=>{ep(),eg(),et()}}),D[80]=eI,D[81]=eg,D[82]=ep,D[83]=et,D[84]=A):A=D[84],D[85]!==eA?(I=eA&&(0,a.jsx)("div",{className:"mt-4",children:Array(20).fill(0).map(rk)}),D[85]=eA,D[86]=I):I=D[86],D[87]!==eN||D[88]!==eA?(R=!eA&&eN&&(0,a.jsx)(tz.p,{message:"You haven't traded any polymarkets yet"}),D[87]=eN,D[88]=eA,D[89]=R):R=D[89],D[90]!==ew||D[91]!==eN||D[92]!==eA||D[93]!==$?(P=!eA&&!eN&&ew&&Array.isArray(ew)&&(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("ul",{className:"lg:hidden divide-y divide-neutral-50 border-b border-neutral-50",children:ew.map(rw)}),(0,a.jsx)("div",{className:"hidden lg:block",children:ew.map(rN)})]},$),D[90]=ew,D[91]=eN,D[92]=eA,D[93]=$,D[94]=P):P=D[94],D[95]!==Y||D[96]!==Z||D[97]!==ec||D[98]!==J||D[99]!==ek.length||D[100]!==ed||D[101]!==eN||D[102]!==eu||D[103]!==ee||D[104]!==eA||D[105]!==e_||D[106]!==X?(M=!eA&&!eN&&e_&&(0,a.jsx)("div",{className:"flex justify-center items-center mt-4 mb-4",children:(0,a.jsx)(_.$,{variant:"ghost",disabled:eu||ee,onClick:async()=>{let e=Z+100;e>ek.length&&await Promise.all([Y&&ed?ec():Promise.resolve(),X?J():Promise.resolve()]),U(e)},className:"text-button-link-text",children:eu||ee?"Loading":"Load more"})}),D[95]=Y,D[96]=Z,D[97]=ec,D[98]=J,D[99]=ek.length,D[100]=ed,D[101]=eN,D[102]=eu,D[103]=ee,D[104]=eA,D[105]=e_,D[106]=X,D[107]=M):M=D[107],D[108]!==A||D[109]!==I||D[110]!==R||D[111]!==P||D[112]!==M?(T=(0,a.jsxs)("div",{className:"flex flex-col",children:[C,A,I,R,P,M]}),D[108]=A,D[109]=I,D[110]=R,D[111]=P,D[112]=M,D[113]=T):T=D[113],T};function rh(e){let t="deposit"===e.txType,r=Math.floor(new Date(e.timestamp).getTime()/1e3);return{action:t?eC.Deposit:eC.Withdraw,eventSlug:"",hash:e.txId,marketImage:"",marketName:t?"Deposited funds":"Withdrew funds",marketSlug:"",timestamp:r,tokenAmount:e.amount.toString(),tokenIndex:0,tokenName:"USDC",usdcAmount:e.amount.toString()}}function rp(e){return e.action===eC.Deposit}function rf(e){return e.action===eC.Withdraw}function rg(e){return e.hash}function ry(e){return e.action===eC.Redeem&&0===parseFloat(e.usdcAmount)}function rj(e){return e.action!==eC.Redeem||parseFloat(e.usdcAmount)>0}function rv(e){return e.action===eC.Redeem}function rb(e){return e.action===eC.Buy||e.action===eC.Sell}function rk(e,t){return(0,a.jsx)(tq,{},t)}function rw(e,t){return(0,a.jsx)(ru,{historyItem:e,rowIndex:t,variant:"mobile"},e.hash)}function rN(e,t){return(0,a.jsx)(ru,{historyItem:e,rowIndex:t,variant:"desktop"},e.hash)}var rS=r(512957);let rC=e=>{let t,r,s=(0,o.c)(6),{flex:l,justify:n,className:i,children:c}=e,d="flex items-center ".concat("left"===(void 0===n?"left":n)?"justify-start":"justify-end"," ").concat(void 0===i?"":i),m=l||1;return s[0]!==m?(t={flex:m},s[0]=m,s[1]=t):t=s[1],s[2]!==c||s[3]!==d||s[4]!==t?(r=(0,a.jsx)("div",{className:d,style:t,children:c}),s[2]=c,s[3]=d,s[4]=t,s[5]=r):r=s[5],r};var r_=r(79697);let rA=e=>{let t,r,s,l,n,i=(0,o.c)(10);i[0]!==e?({children:t,className:l,"data-state":r,...s}=e,i[0]=e,i[1]=t,i[2]=r,i[3]=s,i[4]=l):(t=i[1],r=i[2],s=i[3],l=i[4]);let c=void 0===l?"":l,d="flex w-full h-[60px] items-center transition-all duration-200 gap-6 max-lg:h-[100px] data-[state=closed]:hover:bg-[var(--legacy-gray6)]/75 data-[state=closed]:dark:hover:bg-[#44647F]/50 data-[state=open]:hover:bg-[var(--legacy-gray6)]/75 data-[state=open]:dark:hover:bg-[#44647F]/50 ".concat(c);return i[5]!==t||i[6]!==r||i[7]!==s||i[8]!==d?(n=(0,a.jsx)("div",{className:d,"data-state":r,...s,children:t}),i[5]=t,i[6]=r,i[7]=s,i[8]=d,i[9]=n):n=i[9],n},rI=e=>{let t,r=(0,o.c)(3),{children:s,variant:l}=e,n="text-xs font-sauce font-medium py-0.5 px-1 rounded ".concat("green"===l?"bg-[var(--legacy-green2)]/10 text-[var(--legacy-green2)]":"bg-[var(--legacy-red)]/10 text-[var(--legacy-red)]");return r[0]!==s||r[1]!==n?(t=(0,a.jsx)("div",{className:n,children:s}),r[0]=s,r[1]=n,r[2]=t):t=r[2],t},rR=l.forwardRef((e,t)=>{let r,s,l,n,i=(0,o.c)(9);i[0]!==e?({children:r,className:l,...s}=e,i[0]=e,i[1]=r,i[2]=s,i[3]=l):(r=i[1],s=i[2],l=i[3]);let c=void 0===l?"":l,d="bg-transparent text-text-tertiary border border-transparent text-sm font-sauce font-normal transition-all duration-200 cursor-pointer gap-1 pl-0 pr-1 py-0 h-5 w-[58px] justify-between items-center hover:opacity-80 active:opacity-70 ".concat(c);return i[4]!==r||i[5]!==s||i[6]!==t||i[7]!==d?(n=(0,a.jsx)(_.$,{ref:t,className:d,...s,children:r}),i[4]=r,i[5]=s,i[6]=t,i[7]=d,i[8]=n):n=i[8],n});rR.displayName="MoreButton";let rP=e=>{let t,r=(0,o.c)(3),{children:s,className:l}=e,n="flex-col gap-1 justify-center ".concat(void 0===l?"":l);return r[0]!==s||r[1]!==n?(t=(0,a.jsx)("div",{className:n,children:s}),r[0]=s,r[1]=n,r[2]=t):t=r[2],t},rM=l.forwardRef((e,t)=>{let r,s,l,n=(0,o.c)(7);n[0]!==e?({className:s,...r}=e,n[0]=e,n[1]=r,n[2]=s):(r=n[1],s=n[2]);let i=void 0===s?"":s,c="border-b border-neutral-50 ".concat(i);return n[3]!==r||n[4]!==t||n[5]!==c?(l=(0,a.jsx)(r_.bL,{ref:t,className:c,...r}),n[3]=r,n[4]=t,n[5]=c,n[6]=l):l=n[6],l});rM.displayName="PortfolioAccordion";let rT=l.forwardRef((e,t)=>{let r,s=(0,o.c)(3);return s[0]!==e||s[1]!==t?(r=(0,a.jsx)(r_.q7,{ref:t,...e}),s[0]=e,s[1]=t,s[2]=r):r=s[2],r});rT.displayName="PortfolioAccordionItem";let rD=l.forwardRef((e,t)=>{let r,s=(0,o.c)(3);return s[0]!==e||s[1]!==t?(r=(0,a.jsx)(r_.l9,{ref:t,...e}),s[0]=e,s[1]=t,s[2]=r):r=s[2],r});rD.displayName="StyledAccordionTrigger";let rL=l.forwardRef((e,t)=>{let r,s,l,n=(0,o.c)(7);n[0]!==e?({className:s,...r}=e,n[0]=e,n[1]=r,n[2]=s):(r=n[1],s=n[2]);let i=void 0===s?"":s,c="overflow-hidden data-[state=open]:animate-accordionSlideDown data-[state=closed]:animate-accordionSlideUp ".concat(i);return n[3]!==r||n[4]!==t||n[5]!==c?(l=(0,a.jsx)(r_.UC,{ref:t,className:c,...r}),n[3]=r,n[4]=t,n[5]=c,n[6]=l):l=n[6],l});rL.displayName="PortfolioAccordionContent";let rE=e=>{let t,r=(0,o.c)(2),{className:s}=e,l="w-3/4 h-[23px] bg-shade-medium/50 rounded-md ".concat(void 0===s?"":s);return r[0]!==l?(t=(0,a.jsx)("span",{className:l}),r[0]=l,r[1]=t):t=r[1],t},rF=()=>{let e,t,r,s,l=(0,o.c)(4);return l[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{className:"w-10 max-w-10 h-10 max-h-10 bg-shade-medium/50 rounded-lg"}),l[0]=e):e=l[0],l[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsxs)("div",{className:"flex flex-1 gap-3 h-10 items-center",children:[e,(0,a.jsx)("div",{className:"flex flex-1 w-full",children:(0,a.jsx)(rE,{className:"flex-1"})})]}),l[1]=t):t=l[1],l[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(rE,{className:"w-[30px] h-[14px]"}),(0,a.jsx)(rE,{className:"w-[30px] h-[14px]"})]}),l[2]=r):r=l[2],l[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)(rA,{className:"border-b border-neutral-50 py-2 animate-pulse lg:hidden",children:(0,a.jsxs)("div",{className:"flex flex-1 flex-col gap-2",children:[t,(0,a.jsxs)("div",{className:"flex flex-1 gap-8 justify-between",children:[r,(0,a.jsxs)("div",{className:"flex flex-col justify-end gap-1",children:[(0,a.jsx)(rE,{className:"h-[14px] w-[30px]"}),(0,a.jsx)(rE,{className:"h-[14px] w-[30px]"})]})]})]})}),l[3]=s):s=l[3],s},rO=e=>{let t,r=(0,o.c)(3),{children:s,className:l}=e,n="animate-pulse ".concat(void 0===l?"":l);return r[0]!==s||r[1]!==n?(t=(0,a.jsx)(rA,{className:n,children:s}),r[0]=s,r[1]=n,r[2]=t):t=r[2],t},rz=e=>{let t,r=(0,o.c)(2),{className:s}=e,l="w-3/4 h-[42px] bg-shade-medium/50 rounded-md ".concat(void 0===s?"":s);return r[0]!==l?(t=(0,a.jsx)("span",{className:l}),r[0]=l,r[1]=t):t=r[1],t},rB=e=>{let t,r=(0,o.c)(2),{className:s}=e,l="w-3/4 h-[23px] bg-shade-medium/50 rounded-md ".concat(void 0===s?"":s);return r[0]!==l?(t=(0,a.jsx)("span",{className:l}),r[0]=l,r[1]=t):t=r[1],t},rV=e=>{let t=(0,o.c)(39),{tab:r}=e;switch(r){case eA.Positions:{let e,r,s,l,n,i,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{className:"w-8 max-w-8 h-8 max-h-8 bg-shade-medium/50 rounded-lg"}),t[0]=e):e=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsxs)(rC,{flex:5.75,className:"gap-2",children:[e,(0,a.jsx)("div",{className:"flex flex-1 w-full",children:(0,a.jsx)("span",{className:"flex-1 h-[23px] bg-shade-medium/50 rounded-md"})})]}),t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)(rC,{flex:.75,children:(0,a.jsx)(rB,{})}),t[2]=s):s=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)(rC,{flex:.75,children:(0,a.jsx)(rB,{})}),t[3]=l):l=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)(rC,{flex:2,children:(0,a.jsx)(rB,{})}),t[4]=n):n=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(rC,{flex:1,children:(0,a.jsx)(rB,{})}),t[5]=i):i=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(rO,{className:"max-lg:hidden px-4",children:[r,s,l,n,i,(0,a.jsx)(rC,{flex:1.5,justify:"right",children:(0,a.jsx)(rB,{})})]}),(0,a.jsx)(rF,{})]}),t[6]=o):o=t[6],o}case eA.Orders:{let e,r,s,l,n,i,o,c,d;return t[7]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{className:"w-8 max-w-8 h-8 max-h-8 bg-shade-medium/50 rounded-lg"}),t[7]=e):e=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsxs)(rC,{flex:5,className:"gap-3",children:[e,(0,a.jsx)("div",{className:"flex flex-1",children:(0,a.jsx)("span",{className:"flex-1 h-[23px] bg-shade-medium/50 rounded-md"})})]}),t[8]=r):r=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)(rC,{flex:.5,children:(0,a.jsx)(rB,{})}),t[9]=s):s=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)(rC,{flex:1,children:(0,a.jsx)(rB,{})}),t[10]=l):l=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)(rC,{flex:.5,children:(0,a.jsx)(rB,{})}),t[11]=n):n=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(rC,{flex:1,children:(0,a.jsx)(rB,{})}),t[12]=i):i=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)(rC,{flex:1,children:(0,a.jsx)(rB,{})}),t[13]=o):o=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsx)(rC,{flex:1.75,children:(0,a.jsx)(rB,{})}),t[14]=c):c=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(d=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(rO,{className:"max-lg:hidden px-4",children:[r,s,l,n,i,o,c,(0,a.jsx)(rC,{flex:2,justify:"right",children:(0,a.jsx)(rz,{className:"w-8 h-8"})})]}),(0,a.jsx)(rF,{})]}),t[15]=d):d=t[15],d}case eA.Liquidity:{let e,r,s,l,n,i,o;return t[16]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{className:"w-8 max-w-8 h-8 max-h-8 bg-shade-medium/50 rounded-lg"}),t[16]=e):e=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsxs)(rC,{flex:5,className:"gap-2",children:[e,(0,a.jsx)("div",{className:"flex flex-1 w-full",children:(0,a.jsx)("span",{className:"flex-1 h-[23px] bg-shade-medium/50 rounded-md"})})]}),t[17]=r):r=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)(rC,{children:(0,a.jsx)(rB,{})}),t[18]=s):s=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)(rC,{children:(0,a.jsx)(rB,{})}),t[19]=l):l=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)(rC,{children:(0,a.jsx)(rB,{})}),t[20]=n):n=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(rC,{children:(0,a.jsx)(rB,{})}),t[21]=i):i=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(rO,{className:"max-lg:hidden px-4",children:[r,s,l,n,i,(0,a.jsx)(rC,{flex:2,justify:"right",children:(0,a.jsx)(rz,{})})]}),(0,a.jsx)(rF,{})]}),t[22]=o):o=t[22],o}case eA.History:{let e,r,s,l,n,i,o,c;return t[23]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(rC,{children:(0,a.jsx)(rB,{})}),t[23]=e):e=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("div",{className:"w-8 max-w-8 h-8 max-h-8 bg-shade-medium/50 rounded-lg"}),t[24]=r):r=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsxs)(rC,{flex:5,className:"gap-2",children:[r,(0,a.jsx)("div",{className:"flex flex-1 w-full",children:(0,a.jsx)("span",{className:"flex-1 h-[23px] bg-shade-medium/50 rounded-md"})})]}),t[25]=s):s=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)(rC,{children:(0,a.jsx)(rB,{})}),t[26]=l):l=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)(rC,{children:(0,a.jsx)(rB,{})}),t[27]=n):n=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(rC,{children:(0,a.jsx)(rB,{})}),t[28]=i):i=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)(rC,{children:(0,a.jsx)(rB,{})}),t[29]=o):o=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(rO,{className:"max-lg:hidden px-4",children:[e,s,l,n,i,o,(0,a.jsx)(rC,{flex:2,justify:"right",children:(0,a.jsx)(rB,{})})]}),(0,a.jsx)(rF,{})]}),t[30]=c):c=t[30],c}default:{let e,r,s,l,n,i,o,c;return t[31]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)("div",{className:"w-8 max-w-8 h-8 max-h-8 bg-shade-medium/50 rounded-lg"}),t[31]=e):e=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsxs)(rC,{flex:4,className:"gap-2",children:[e,(0,a.jsx)("div",{className:"flex flex-1 w-full",children:(0,a.jsx)("span",{className:"flex-1 h-[23px] bg-shade-medium/50 rounded-md"})})]}),t[32]=r):r=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)(rC,{flex:1.5,children:(0,a.jsx)(rB,{})}),t[33]=s):s=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)(rC,{flex:.5,children:(0,a.jsx)(rB,{})}),t[34]=l):l=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)(rC,{flex:.5,children:(0,a.jsx)(rB,{})}),t[35]=n):n=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(rC,{children:(0,a.jsx)(rB,{})}),t[36]=i):i=t[36],t[37]===Symbol.for("react.memo_cache_sentinel")?(o=(0,a.jsx)(rC,{flex:1.5,children:(0,a.jsx)(rB,{})}),t[37]=o):o=t[37],t[38]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(rO,{className:"max-lg:hidden px-4",children:[r,s,l,n,i,o,(0,a.jsx)(rC,{flex:2,justify:"right",children:(0,a.jsx)(rz,{})})]}),(0,a.jsx)(rF,{})]}),t[38]=c):c=t[38],c}}};var r$=r(253306),rq=r(274752);let rH=e=>{let t,r,s,n,i,c,d,m,u,x,h,p,f,g,y,j,v,b,k,w,N,S,C,A,I,R,P,M,T,D,L,E,F,O,z,B,V,$,q,H,W,Q,Z,U,G,Y,K,X,J,ee,et,er,ea=(0,o.c)(128),{liquidityPosition:es,rowIndex:el}=e,[en,ei]=(0,l.useState)(""),eo="".concat((void 0===el?0:el)%2==0?"bg-[var(--legacy-gray8)]":"bg-background"," hover:bg-[var(--legacy-gray6)]/75 dark:hover:bg-[#44647F]/50 px-4");ea[0]!==es.icon?(t=(0,a.jsx)("div",{children:(0,a.jsx)(ty.A,{image:es.icon,size:32,coerceToDefaultImgTag:!0,className:"!rounded-sm overflow-hidden"})}),ea[0]=es.icon,ea[1]=t):t=ea[1];let ec=es.eslug?rq.a.EventDetail:rq.a.MarketDetail,ed=es.eslug?"/event/".concat(es.eslug,"/").concat(es.slug):"/market/".concat(es.slug);ea[2]!==es.market?(r=(0,a.jsx)("a",{className:"flex-1 cursor-pointer hover:underline text-base font-bold",children:es.market}),ea[2]=es.market,ea[3]=r):r=ea[3],ea[4]!==ec||ea[5]!==ed||ea[6]!==r?(s=(0,a.jsx)(tg(),{href:ec,as:ed,passHref:!0,legacyBehavior:!0,children:r}),ea[4]=ec,ea[5]=ed,ea[6]=r,ea[7]=s):s=ea[7],ea[8]!==t||ea[9]!==s?(n=(0,a.jsxs)(rC,{flex:5,className:"flex gap-3",children:[t,s]}),ea[8]=t,ea[9]=s,ea[10]=n):n=ea[10],ea[11]!==es.liquidityShares?(i=t5()(es.liquidityShares).format("0,0.000000"),ea[11]=es.liquidityShares,ea[12]=i):i=ea[12],ea[13]!==es.liquidityShares?(c=t5()(es.liquidityShares).format("0,0"),ea[13]=es.liquidityShares,ea[14]=c):c=ea[14],ea[15]!==c||ea[16]!==i?(d=(0,a.jsx)(rC,{children:(0,a.jsx)("span",{className:"text-base",title:i,children:c})}),ea[15]=c,ea[16]=i,ea[17]=d):d=ea[17],ea[18]!==es.sharesValue?(m=t5()(es.sharesValue).format("$0,0.000000"),ea[18]=es.sharesValue,ea[19]=m):m=ea[19],ea[20]!==es.sharesValue?(u=t5()(es.sharesValue).format("$0,0.00"),ea[20]=es.sharesValue,ea[21]=u):u=ea[21],ea[22]!==m||ea[23]!==u?(x=(0,a.jsx)(rC,{children:(0,a.jsx)("span",{className:"text-base",title:m,children:u})}),ea[22]=m,ea[23]=u,ea[24]=x):x=ea[24],ea[25]!==es.poolPercentage?(h=t5()(es.poolPercentage).divide(100).format("0.000000%"),ea[25]=es.poolPercentage,ea[26]=h):h=ea[26],ea[27]!==es.poolPercentage?(p=.01>Number(t5()(es.poolPercentage).value())?"<0.01%":t5()(es.poolPercentage).divide(100).format("0.00%"),ea[27]=es.poolPercentage,ea[28]=p):p=ea[28],ea[29]!==h||ea[30]!==p?(f=(0,a.jsx)(rC,{children:(0,a.jsx)("span",{className:"text-base",title:h,children:p})}),ea[29]=h,ea[30]=p,ea[31]=f):f=ea[31],ea[32]!==es.fees?(g=t5()(es.fees).format("$0,0.000000"),ea[32]=es.fees,ea[33]=g):g=ea[33],ea[34]!==es.fees?(y=t5()(es.fees).format("$0,0.00"),ea[34]=es.fees,ea[35]=y):y=ea[35],ea[36]!==g||ea[37]!==y?(j=(0,a.jsx)(rC,{children:(0,a.jsx)("span",{className:"text-base",title:g,children:y})}),ea[36]=g,ea[37]=y,ea[38]=j):j=ea[38];let em=es.eslug?rq.a.EventDetail:rq.a.MarketDetail,eu=es.eslug?"/event/".concat(es.eslug,"/").concat(es.slug):"/market/".concat(es.slug);ea[39]===Symbol.for("react.memo_cache_sentinel")?(v=(0,a.jsx)(_.$,{variant:"default",className:"flex-[0.7] !h-10 !font-sauce !font-bold !text-base",asChild:!0,children:(0,a.jsx)("a",{children:"Manage"})}),ea[39]=v):v=ea[39],ea[40]!==em||ea[41]!==eu?(b=(0,a.jsx)(rC,{flex:1.75,justify:"right",children:(0,a.jsx)(tg(),{href:em,as:eu,passHref:!0,legacyBehavior:!0,children:v})}),ea[40]=em,ea[41]=eu,ea[42]=b):b=ea[42],ea[43]!==d||ea[44]!==x||ea[45]!==f||ea[46]!==eo||ea[47]!==j||ea[48]!==b||ea[49]!==n?(k=(0,a.jsx)("div",{className:"flex flex-col w-full border-b border-neutral-50 max-lg:hidden",children:(0,a.jsxs)(rA,{className:eo,children:[n,d,x,f,j,b]})}),ea[43]=d,ea[44]=x,ea[45]=f,ea[46]=eo,ea[47]=j,ea[48]=b,ea[49]=n,ea[50]=k):k=ea[50];let ex=es.slug;ea[51]===Symbol.for("react.memo_cache_sentinel")?(w=e=>ei(e),ea[51]=w):w=ea[51];let eh=es.slug;ea[52]!==es.icon?(N=(0,a.jsx)("div",{children:(0,a.jsx)(ty.A,{image:es.icon,size:40,coerceToDefaultImgTag:!0,className:"!rounded-sm overflow-hidden"})}),ea[52]=es.icon,ea[53]=N):N=ea[53];let ep=es.eslug?rq.a.EventDetail:rq.a.MarketDetail,ef=es.eslug?"/event/".concat(es.eslug,"/").concat(es.slug):"/market/".concat(es.slug);ea[54]!==es.market?(S=(0,a.jsx)("a",{className:"flex-1 cursor-pointer hover:underline hover:decoration-black text-base font-semibold",children:es.market}),ea[54]=es.market,ea[55]=S):S=ea[55],ea[56]!==ep||ea[57]!==ef||ea[58]!==S?(C=(0,a.jsx)(tg(),{href:ep,as:ef,passHref:!0,legacyBehavior:!0,children:S}),ea[56]=ep,ea[57]=ef,ea[58]=S,ea[59]=C):C=ea[59],ea[60]!==N||ea[61]!==C?(A=(0,a.jsxs)("div",{className:"flex flex-1 gap-3",children:[N,C]}),ea[60]=N,ea[61]=C,ea[62]=A):A=ea[62];let eg=en===es.slug?"Less":"More",ey="pb-[1px] text-text-tertiary transition-all duration-200 ".concat(en===es.slug?"rotate-180":"");ea[63]!==ey?(I=(0,a.jsx)(r$.s,{size:20,className:ey}),ea[63]=ey,ea[64]=I):I=ea[64],ea[65]!==eg||ea[66]!==I?(R=(0,a.jsx)(rD,{asChild:!0,children:(0,a.jsxs)(rR,{className:"mt-1",children:[eg,I]})}),ea[65]=eg,ea[66]=I,ea[67]=R):R=ea[67],ea[68]!==A||ea[69]!==R?(P=(0,a.jsxs)(rC,{className:"flex gap-1 flex-col items-start",children:[A,R]}),ea[68]=A,ea[69]=R,ea[70]=P):P=ea[70],ea[71]!==es.sharesValue?(M=t5()(es.sharesValue).format("$0,0.00"),ea[71]=es.sharesValue,ea[72]=M):M=ea[72],ea[73]!==M?(T=(0,a.jsx)("span",{className:"text-sm font-semibold",children:M}),ea[73]=M,ea[74]=T):T=ea[74],ea[75]!==es.poolPercentage?(D=.01>Number(t5()(es.poolPercentage).value())?"<0.01%":t5()(es.poolPercentage).divide(100).format("0.00%"),ea[75]=es.poolPercentage,ea[76]=D):D=ea[76],ea[77]!==D?(L=(0,a.jsx)("span",{className:"text-sm font-medium !text-text-tertiary",children:D}),ea[77]=D,ea[78]=L):L=ea[78],ea[79]!==T||ea[80]!==L?(E=(0,a.jsxs)(rC,{flex:.35,className:"flex flex-col items-end gap-2",children:[T,L]}),ea[79]=T,ea[80]=L,ea[81]=E):E=ea[81],ea[82]!==P||ea[83]!==E?(F=(0,a.jsxs)(rA,{className:"h-auto",children:[P,E]}),ea[82]=P,ea[83]=E,ea[84]=F):F=ea[84],ea[85]===Symbol.for("react.memo_cache_sentinel")?(O=(0,a.jsx)("span",{className:"text-sm font-normal text-text-tertiary",children:"Shares"}),ea[85]=O):O=ea[85],ea[86]!==es.liquidityShares?(z=t5()(es.liquidityShares).format("0,0"),ea[86]=es.liquidityShares,ea[87]=z):z=ea[87],ea[88]!==z?(B=(0,a.jsxs)(rP,{children:[O,(0,a.jsx)("span",{className:"text-sm font-normal",children:z})]}),ea[88]=z,ea[89]=B):B=ea[89],ea[90]===Symbol.for("react.memo_cache_sentinel")?(V=(0,a.jsx)("span",{className:"text-sm font-normal text-text-tertiary",children:"Value"}),ea[90]=V):V=ea[90],ea[91]!==es.sharesValue?($=t5()(es.sharesValue).format("$0,0.00"),ea[91]=es.sharesValue,ea[92]=$):$=ea[92],ea[93]!==$?(q=(0,a.jsxs)(rP,{children:[V,(0,a.jsx)("span",{className:"text-sm font-normal",children:$})]}),ea[93]=$,ea[94]=q):q=ea[94],ea[95]===Symbol.for("react.memo_cache_sentinel")?(H=(0,a.jsx)("span",{className:"text-sm font-normal text-text-tertiary",children:"Pool %"}),ea[95]=H):H=ea[95],ea[96]!==es.poolPercentage?(W=.01>Number(t5()(es.poolPercentage).value())?"<0.01%":t5()(es.poolPercentage).divide(100).format("0.00%"),ea[96]=es.poolPercentage,ea[97]=W):W=ea[97],ea[98]!==W?(Q=(0,a.jsxs)(rP,{children:[H,(0,a.jsx)("span",{className:"text-sm font-normal",children:W})]}),ea[98]=W,ea[99]=Q):Q=ea[99],ea[100]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,a.jsx)("span",{className:"text-sm font-normal text-text-tertiary",children:"Fees"}),ea[100]=Z):Z=ea[100],ea[101]!==es.fees?(U=t5()(es.fees).format("$0,0.00"),ea[101]=es.fees,ea[102]=U):U=ea[102],ea[103]!==U?(G=(0,a.jsxs)(rP,{children:[Z,(0,a.jsx)("span",{className:"text-sm font-normal",children:U})]}),ea[103]=U,ea[104]=G):G=ea[104],ea[105]!==B||ea[106]!==q||ea[107]!==Q||ea[108]!==G?(Y=(0,a.jsxs)("div",{className:"flex gap-5 flex-1 justify-start",children:[B,q,Q,G]}),ea[105]=B,ea[106]=q,ea[107]=Q,ea[108]=G,ea[109]=Y):Y=ea[109];let ej=es.eslug?rq.a.EventDetail:rq.a.MarketDetail,ev=es.eslug?"/event/".concat(es.eslug,"/").concat(es.slug):"/market/".concat(es.slug);return ea[110]===Symbol.for("react.memo_cache_sentinel")?(K=(0,a.jsx)(_.$,{variant:"default",className:"flex flex-[0.7] gap-1 items-center !h-9",asChild:!0,children:(0,a.jsx)("a",{children:"Manage"})}),ea[110]=K):K=ea[110],ea[111]!==ej||ea[112]!==ev?(X=(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(tg(),{href:ej,as:ev,passHref:!0,legacyBehavior:!0,children:K})}),ea[111]=ej,ea[112]=ev,ea[113]=X):X=ea[113],ea[114]!==Y||ea[115]!==X?(J=(0,a.jsx)(rL,{className:"mt-3",children:(0,a.jsxs)("div",{className:"flex flex-1 bg-shade-medium/50 rounded-sm p-3 gap-3",children:[Y,X]})}),ea[114]=Y,ea[115]=X,ea[116]=J):J=ea[116],ea[117]!==es.slug||ea[118]!==F||ea[119]!==J?(ee=(0,a.jsxs)(rT,{value:eh,children:[F,J]}),ea[117]=es.slug,ea[118]=F,ea[119]=J,ea[120]=ee):ee=ea[120],ea[121]!==es.slug||ea[122]!==ee||ea[123]!==en?(et=(0,a.jsx)(rM,{type:"single",collapsible:!0,value:en,onValueChange:w,className:"py-4 lg:hidden",children:ee},ex),ea[121]=es.slug,ea[122]=ee,ea[123]=en,ea[124]=et):et=ea[124],ea[125]!==k||ea[126]!==et?(er=(0,a.jsxs)(a.Fragment,{children:[k,et]}),ea[125]=k,ea[126]=et,ea[127]=er):er=ea[127],er},rW=()=>{let e,t,r,s,l,n,i,c,d,m,u,x=(0,o.c)(29),{proxyAddress:h}=(0,L.Um)(),{sortPortfolioLiquidityBy:p,portfolioSearchQuery:f,redeemableStatus:g}=eP();x[0]!==h?(e={proxyAddress:h},x[0]=h,x[1]=e):e=x[1];let{liquidityPositions:y,liquidityMarkets:j,isPending:v}=e1(e);x[2]!==j||x[3]!==g?(t=null==j?void 0:j.filter(e=>{switch(g){case e_.All:return!0;case e_.Active:return!e.closed;case e_.Ended:return e.closed;default:return!0}}),x[2]=j,x[3]=g,x[4]=t):t=x[4];let b=t;e:{let e;if((null==j?void 0:j.length)&&(null==y?void 0:y.length)){let e;if(x[5]!==b||x[6]!==y||x[7]!==p){let t;x[9]!==b||x[10]!==p?(t=(e,t)=>((e,t,r,a)=>{switch(r){case eN.Value:return parseFloat(t.sharesValue)-parseFloat(e.sharesValue);case eN.Market:return e.market.localeCompare(t.market);case eN.PoolShare:return parseFloat(t.poolPercentage)-parseFloat(e.poolPercentage);case eN.Fees:return parseFloat(t.fees)-parseFloat(e.fees);case eN.Resolution:var s,l;if(e.isClosed||t.isClosed)return Number(t.isClosed)-Number(e.isClosed);let n=null==a?void 0:a.find(t=>t.question===e.market),i=null==a?void 0:a.find(e=>e.question===t.market);return new Date(null!=(s=null==n?void 0:n.end_date)?s:0).getTime()-new Date(null!=(l=null==i?void 0:i.end_date)?l:0).getTime();default:return parseFloat(t.sharesValue)-parseFloat(e.sharesValue)}})(e,t,p,b),x[9]=b,x[10]=p,x[11]=t):t=x[11],e=(0,t_.e)(null!=b?b:[],y).sort(t),x[5]=b,x[6]=y,x[7]=p,x[8]=e}else e=x[8];r=e;break e}x[12]===Symbol.for("react.memo_cache_sentinel")?(e=[],x[12]=e):e=x[12],r=e}let k=r;if(x[13]!==k||x[14]!==f){let e;x[16]!==f?(e=e=>!f||e.market.toLowerCase().includes(f.toLowerCase()),x[16]=f,x[17]=e):e=x[17],s=k.filter(e),x[13]=k,x[14]=f,x[15]=s}else s=x[15];let w=s,N=!v&&(null==y?void 0:y.length)===0&&0===w.length;return x[18]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)(rC,{flex:5,children:(0,a.jsx)("span",{className:"font-bold text-base",children:"Market"})}),x[18]=l):l=x[18],x[19]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)(rC,{children:(0,a.jsx)("span",{className:"font-bold text-base",children:"Shares"})}),x[19]=n):n=x[19],x[20]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(rC,{children:(0,a.jsx)("span",{className:"font-bold text-base",children:"Value"})}),x[20]=i):i=x[20],x[21]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsx)(rC,{children:(0,a.jsx)("span",{className:"font-bold text-base",children:"Pool %"})}),x[21]=c):c=x[21],x[22]===Symbol.for("react.memo_cache_sentinel")?(d=(0,a.jsxs)("div",{className:"flex w-full gap-6 sticky bg-background z-[1] border-b border-border pt-4 pb-2 px-4 top-[110px] max-lg:hidden",children:[l,n,i,c,(0,a.jsx)(rC,{children:(0,a.jsx)("span",{className:"font-bold text-base",children:"Fees"})}),(0,a.jsx)(rC,{flex:1.75,justify:"right",children:" "})]}),x[22]=d):d=x[22],x[23]!==w||x[24]!==N||x[25]!==v?(m=v?Array.from({length:20}).map(rQ):N?(0,a.jsx)("div",{className:"h-full w-full flex items-center justify-center my-10",children:(0,a.jsx)("span",{className:"text-base font-medium",children:"No liquidity positions found."})}):w.map(rZ),x[23]=w,x[24]=N,x[25]=v,x[26]=m):m=x[26],x[27]!==m?(u=(0,a.jsx)("div",{className:"flex flex-col gap-2 pb-4",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[d,m]})}),x[27]=m,x[28]=u):u=x[28],u};function rQ(){return(0,a.jsx)(rV,{tab:eA.Liquidity},(0,rS.uniqueId)("port-liq-skel-"))}function rZ(e,t){return(0,a.jsx)(rH,{liquidityPosition:e,rowIndex:t},e.slug)}var rU=r(878957),rG=r(991406),rY=r(402278),rK=r(2069);let rX=(0,k.I4)(g.$,{borderRadius:"$md",backgroundColor:"$polyBlue",color:"$white",width:"100%","&:hover":{cursor:"pointer"}}),rJ=e=>{let t,r,s,l,i,c=(0,o.c)(19),{triggerCopy:d}=e,{setShowDeploySafeModal:m}=(0,rG.k3)(),{proxyAddress:u,authenticationType:x,closedDynamic:h}=(0,L.Um)(),{isSafeDeployed:p}=(0,n.nb)(),{side:f}=(0,rY.Dh)(),g=(0,K.Ss)(),{hasFetchedLocation:y}=g,j=(0,X.Ny)(u,g.permissions,h);if(y&&(!j.canApprove||!j.canCreateApiKey)){let e;return c[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(rU.A,{copy:X.rE,withTermsLink:!0}),c[0]=e):e=c[0],e}if("eoa"===x&&!p){let e,t,r,s;return c[1]===Symbol.for("react.memo_cache_sentinel")?(e={height:"44px !important"},c[1]=e):e=c[1],c[2]!==m?(t=()=>{m(!0)},c[2]=m,c[3]=t):t=c[3],c[4]!==f||c[5]!==d?(r=null!=d?d:(0,eG.capitalize)(f),c[4]=f,c[5]=d,c[6]=r):r=c[6],c[7]!==t||c[8]!==r?(s=(0,a.jsx)(rX,{variant:"primary",fontWeight:"medium",fontSize:"md",css:e,onClick:t,children:r}),c[7]=t,c[8]=r,c[9]=s):s=c[9],s}return c[10]===Symbol.for("react.memo_cache_sentinel")?(t={height:"44px !important"},c[10]=t):t=c[10],c[11]!==f||c[12]!==d?(r=null!=d?d:(0,eG.capitalize)(f),c[11]=f,c[12]=d,c[13]=r):r=c[13],c[14]!==r?(s=(0,a.jsx)(td.zM,{asChild:!0,children:(0,a.jsx)(rX,{variant:"primary",fontWeight:"medium",fontSize:"md",css:t,children:r})}),c[14]=r,c[15]=s):s=c[15],c[16]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)(rK.A,{}),c[16]=l):l=c[16],c[17]!==s?(i=(0,a.jsxs)(td.lG,{children:[s,l]}),c[17]=s,c[18]=i):i=c[18],i};var r0=r(672661),r1=r(726057),r2=r(919672),r3=r(135393),r5=r(229654),r4=r(941378),r7=r(952479),r6=r(223237),r8=r(225150);let r9=e=>{let t,r,s,l=(0,o.c)(8),{heading:n,subheading:i,align:c}=e,d="flex flex-col gap-1 ".concat("left"===c?"items-start":"items-end");return l[0]!==n?(t=(0,a.jsx)("span",{className:"text-sm font-normal",children:n}),l[0]=n,l[1]=t):t=l[1],l[2]!==i?(r=(0,a.jsx)("span",{className:"text-xs font-medium !text-[#828282] dark:!text-[#858D92]",children:i}),l[2]=i,l[3]=r):r=l[3],l[4]!==d||l[5]!==t||l[6]!==r?(s=(0,a.jsxs)("div",{className:d,children:[t,r]}),l[4]=d,l[5]=t,l[6]=r,l[7]=s):s=l[7],s};var ae=r(673508);let at=e=>{let{groupedOrders:t,rowIndex:r=0}=e,s=(0,eQ.jE)(),n=(0,eK.d)(),i=(0,r6.A)(),[o,c]=(0,l.useState)(""),[d,m]=(0,l.useState)(!1),[u,x]=(0,l.useState)(!1),[h,p]=(0,l.useState)(),y=t.sort((e,t)=>t.parsed.price-e.parsed.price),j=(0,l.useCallback)(async e=>{try{await i(y[e].order,y[e].market,!1)}finally{s.invalidateQueries({queryKey:er.l[Y.k.OpenOrders]._def})}},[i,s,y]),v=(0,l.useCallback)(async()=>{let{question:e}=y[0].market;try{await Promise.all(y.map(e=>i(e.order,e.market,!0))),n.success(new eX.$().title("Orders cancelled").description(e).subtext("".concat(y.length," orders were cancelled")))}catch(t){n.error(new eX.$().title("Error cancelling orders").description(e).subtext("Error cancelling ".concat(y.length," orders")))}finally{s.invalidateQueries({queryKey:er.l[Y.k.OpenOrders]._def}),x(!1)}},[i,s,n,x,y]),{eslug:b,slug:k}=y[0],{url:w,href:N}=(0,r7.qO)("slug",b,k);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(rM,{type:"single",collapsible:!0,value:o,onValueChange:e=>c(e),className:"max-lg:hidden",children:(0,a.jsxs)(rT,{value:"item-1",children:[(0,a.jsxs)(rA,{className:"".concat(r%2==0?"bg-[var(--legacy-gray8)]":"bg-background"," hover:bg-[var(--legacy-gray6)]/75 dark:hover:bg-[#44647F]/50 px-4"),children:[(0,a.jsx)(rC,{flex:ar.market,className:"flex gap-3",children:(0,a.jsx)("div",{className:"[&_h2]:!break-normal [&_h2]:!word-break-normal [&_h2]:line-clamp-2",children:(0,a.jsx)(t7,{marketName:y[0].market.question,marketHref:{href:N,url:w},marketImage:y[0].market.image,size:"md",showImage:!0})})}),1===y.length&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(rC,{flex:ar.side,children:(0,a.jsx)("span",{className:"text-sm",children:(0,eG.capitalize)(y[0].order.side)})}),(0,a.jsx)(rC,{flex:ar.outcome,children:(0,a.jsx)(rI,{variant:0===y[0].parsed.outcomeIndex?"green":"red",children:y[0].order.outcome})}),(0,a.jsx)(rC,{flex:ar.price,children:(0,a.jsxs)("span",{className:"text-sm",children:[(0,f.Zw)(y[0].parsed.price,(0,r8.uf)(y[0].parsed.price)),"\xa2"]})}),(0,a.jsx)(rC,{flex:ar.filled,children:(0,a.jsx)("span",{className:"text-sm",children:"".concat(t5()(y[0].parsed.totalQty-y[0].parsed.availableQty).format("0,0")," / ").concat(t5()(y[0].parsed.totalQty).format("0,0"))})}),(0,a.jsx)(rC,{flex:ar.total,children:(0,a.jsx)("span",{className:"text-sm",children:t5()(y[0].parsed.totalQty*y[0].parsed.price).format("$0,0.00")})}),(0,a.jsx)(rC,{flex:ar.expiration,children:(0,a.jsx)("span",{className:"text-sm",children:y[0].parsed.expiration})}),(0,a.jsx)(rC,{flex:ar.cancel,justify:"right",children:(0,a.jsx)(ae.A,{mode:"single",callback:()=>j(0)})})]}),y.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(rC,{flex:ar.side,children:(0,a.jsx)("span",{children:"-"})}),(0,a.jsx)(rC,{flex:ar.outcome,children:(0,a.jsx)("span",{children:"-"})}),(0,a.jsx)(rC,{flex:ar.price,children:(0,a.jsx)("span",{children:"-"})}),(0,a.jsx)(rC,{flex:ar.filled,children:(0,a.jsx)("span",{children:"-"})}),(0,a.jsx)(rC,{flex:ar.total,children:(0,a.jsx)("span",{children:"-"})}),(0,a.jsx)(rC,{flex:ar.expiration,children:(0,a.jsx)("span",{children:"-"})}),(0,a.jsxs)(rC,{flex:ar.cancel,justify:"right",children:[(0,a.jsx)(rD,{asChild:!0,children:(0,a.jsxs)("div",{className:"flex flex-1 items-center justify-end gap-1 text-text-tertiary text-sm transition-all duration-200 cursor-pointer hover:text-text-secondary hover:[&_svg]:text-text-secondary active:text-text-primary active:[&_svg]:text-text-primary",children:[""===o?"".concat(y.length," orders"):"Hide",(0,a.jsx)(r$.s,{size:22,className:"text-text-tertiary transition-all duration-200 ".concat(""!==o?"rotate-180":"rotate-0")})]})}),(0,a.jsx)(ae.A,{mode:"multiple",callback:()=>m(!0)})]})]})]}),y.length>1&&(0,a.jsx)(rL,{children:y.map((e,t)=>(0,a.jsxs)(rA,{className:"".concat((r+t+1)%2==0?"bg-[var(--legacy-gray8)]":"bg-background"," hover:bg-[var(--legacy-gray6)]/75 dark:hover:bg-[#44647F]/50 px-4"),children:[(0,a.jsx)(rC,{flex:ar.market,children:"\xa0"}),(0,a.jsx)(rC,{flex:ar.side,children:(0,a.jsx)("span",{className:"text-sm",children:(0,eG.capitalize)(e.order.side)})}),(0,a.jsx)(rC,{flex:ar.outcome,children:(0,a.jsx)(rI,{variant:0===e.parsed.outcomeIndex?"green":"red",children:e.order.outcome})}),(0,a.jsx)(rC,{flex:ar.price,children:(0,a.jsxs)("span",{className:"text-sm",children:[(0,f.Zw)(e.parsed.price,(0,r8.uf)(e.parsed.price)),"\xa2"]})}),(0,a.jsx)(rC,{flex:ar.filled,children:(0,a.jsx)("span",{className:"text-sm",children:"".concat(t5()(e.parsed.totalQty-e.parsed.availableQty).format("0,0")," / ").concat(t5()(e.parsed.totalQty).format("0,0"))})}),(0,a.jsx)(rC,{flex:ar.total,children:(0,a.jsx)("span",{className:"text-sm",children:t5()(e.parsed.totalQty*e.parsed.price).format("$0,0.00")})}),(0,a.jsx)(rC,{flex:ar.expiration,children:(0,a.jsx)("span",{className:"text-sm",children:e.parsed.expiration})}),(0,a.jsx)(rC,{flex:ar.cancel,justify:"right",children:(0,a.jsx)(ae.A,{mode:"single",callback:()=>{j(t)}})})]},e.order.orderID))})]})}),(0,a.jsxs)("div",{className:"flex flex-col w-full border-b border-neutral-50 py-4 gap-2 lg:hidden",children:[(0,a.jsxs)(rA,{className:"!h-auto items-start",children:[(0,a.jsx)(rC,{flex:1,className:"flex gap-1 flex-col items-start",children:(0,a.jsx)("div",{className:"[&_h2]:!break-normal [&_h2]:!word-break-normal [&_h2]:line-clamp-2",children:(0,a.jsx)(t7,{marketName:y[0].market.question,marketHref:{href:N,url:w},marketImage:y[0].market.image,size:"md",showImage:!0})})}),(0,a.jsx)(rC,{flex:.35,className:"flex flex-col justify-start items-end gap-1",children:(0,a.jsx)(ae.A,{mode:y.length>1?"multiple":"single",callback:()=>{1===y.length?j(0):(p(void 0),m(!0))}})})]}),(0,a.jsxs)(rA,{className:"!h-auto",children:[1===y.length&&(0,a.jsxs)("div",{className:"flex flex-1 justify-between",children:[(0,a.jsx)(r9,{heading:"".concat((0,eG.capitalize)(y[0].order.side)," ").concat(y[0].order.outcome),subheading:"".concat((0,f.Zw)(y[0].parsed.price,(0,r8.uf)(y[0].parsed.price)),"\xa2 â€¢ ").concat(t5()(y[0].parsed.totalQty*y[0].parsed.price).format("$0,0.00")),align:"left"}),(0,a.jsx)(r9,{heading:"".concat(t5()(y[0].parsed.totalQty-y[0].parsed.availableQty).format("0,0")," / ").concat(t5()(y[0].parsed.totalQty).format("0,0")),subheading:"Expiration: ".concat(y[0].parsed.expiration),align:"right"})]}),y.length>1&&(0,a.jsxs)(_.$,{type:"button",variant:"secondary",className:"w-full !h-9 !text-sm !font-medium !text-text-tertiary mt-2",onClick:e=>{e.preventDefault(),e.stopPropagation(),p(void 0),x(!0)},children:[y.length," open"]})]})]}),(0,a.jsx)(tm.ed,{injectedId:"open-orders-mobile-drawer",shouldScaleBackground:!1,open:u,onOpenChange:x,modal:!0,dismissible:!0,children:(0,a.jsxs)(tm.SA,{children:[(0,a.jsx)(tm.Yo,{className:"fixed inset-0 bg-black/40 z-[215]"}),(0,a.jsx)(tm.BP,{className:"z-[215] flex flex-col fixed bottom-0 left-0 right-0 top-[calc(26px+env(safe-area-inset-top))] bg-background rounded-t-lg",children:(0,a.jsxs)("div",{className:"flex w-full flex-1 mx-auto flex-col overflow-auto pt-4 rounded-t-lg bg-background",children:[(0,a.jsx)(tm.ED,{}),(0,a.jsxs)("div",{className:"flex w-full flex-col px-4 pt-8 pb-4 gap-4 border-b border-neutral-50 sticky bg-background top-0 z-[1]",children:[(0,a.jsxs)("div",{className:"flex flex-1 justify-between",children:[(0,a.jsxs)("span",{className:"text-sm font-bold",children:[y.length," Orders"]}),(0,a.jsx)("span",{className:"text-sm font-semibold text-red-500 cursor-pointer hover:opacity-80 active:opacity-70",onClick:()=>{p(void 0),m(!0)},children:"Cancel all"})]}),(0,a.jsx)("div",{className:"flex flex-1 gap-3 items-center",children:(0,a.jsx)("div",{className:"[&_h2]:!break-normal [&_h2]:!word-break-normal [&_h2]:line-clamp-2",children:(0,a.jsx)(t7,{marketName:y[0].market.question,marketHref:{href:N,url:w},marketImage:y[0].market.image,size:"md",showImage:!0})})})]}),(0,a.jsx)("div",{className:"flex flex-col",children:y.map((e,t)=>(0,a.jsxs)("div",{className:"flex flex-1 gap-2 p-4 border-b border-neutral-50",children:[(0,a.jsxs)("div",{className:"flex flex-1 justify-between",children:[(0,a.jsx)(r9,{heading:"".concat((0,eG.capitalize)(e.order.side)," ").concat(e.order.outcome),subheading:"".concat((0,f.Zw)(e.parsed.price,(0,r8.uf)(e.parsed.price)),"\xa2 â€¢ ").concat(t5()(e.parsed.totalQty*e.parsed.price).format("$0,0.00")),align:"left"}),(0,a.jsx)(r9,{heading:"".concat(t5()(e.parsed.totalQty-e.parsed.availableQty).format("0,0")," / ").concat(t5()(e.parsed.totalQty).format("0,0")),subheading:"Expiration: ".concat(e.parsed.expiration),align:"right"})]}),(0,a.jsx)("div",{className:"flex items-center translate-x-1",children:(0,a.jsx)(ae.A,{mode:"single",callback:()=>{j(t)}})})]},e.order.orderID))})]})})]})}),d&&(0,a.jsx)(td.lG,{defaultOpen:!0,open:d,onOpenChange:m,children:(0,a.jsxs)(td.Cf,{className:"!max-w-[350px] max-[640px]:!w-[calc(100vw-1rem)] !p-6",children:[(0,a.jsx)(td.HM,{className:"absolute right-6 top-6 cursor-pointer","aria-label":"Close",onClick:()=>p(void 0),children:(0,a.jsx)(r4.G,{size:28})}),(0,a.jsx)(td.L3,{className:"text-lg font-bold text-text-primary mb-2",children:"Are you sure?"}),(0,a.jsx)(td.rr,{className:"text-sm text-text-secondary text-center mb-4",children:void 0===h?"You will cancel ".concat(y.length," open orders."):"Are you sure you want to cancel this open order?"}),(0,a.jsxs)("div",{className:"flex w-full gap-4",children:[(0,a.jsx)(g.$,{variant:"quaternary",color:"gray5",height:"md",fontSize:"md",fontWeight:"bold",onClick:()=>{p(void 0),m(!1)},className:"flex-1",children:"Never mind"}),(0,a.jsx)(g.$,{variant:"primary",color:"red",height:"md",fontSize:"md",fontWeight:"bold",onClick:async()=>{let e=void 0===h;e?v():i(y[h].order,y[h].market),p(void 0),m(!1),e&&x(!1)},className:"flex-1",children:"Confirm"})]})]})})]})},ar={market:5,side:.5,outcome:1,price:.5,filled:1,total:1,expiration:1.75,cancel:2},aa=()=>{let e,t,r,s,l,n,i,c,d=(0,o.c)(30),{authenticated:m,authenticationType:u,proxyAddress:x}=(0,L.Um)(),{clob:h}=(0,r2.Gx)(),{userOpenOrders:p,areOpenOrdersPending:f}=(0,r1.A)(),{sortPortfolioOpenOrdersBy:g,portfolioSearchQuery:y}=eP();d[0]!==p?(e=(null==p?void 0:p.map(as))||[],d[0]=p,d[1]=e):e=d[1];let j=e,v=x!==tA.L&&j.length>0;d[2]!==x?(t=er.l[Y.k.Markets].forOpenOrders(x),d[2]=x,d[3]=t):t=d[3],d[4]!==j?(r=()=>(0,tr.Oy)(void 0,j),d[4]=j,d[5]=r):r=d[5],d[6]!==v||d[7]!==t||d[8]!==r?(s={queryKey:t,queryFn:r,enabled:v},d[6]=v,d[7]=t,d[8]=r,d[9]=s):s=d[9];let{data:b,isPending:k}=(0,et.I)(s),w=f||v&&k;d[10]!==b||d[11]!==p?(l=((e,t)=>Array.isArray(e)&&Array.isArray(t)&&t&&e?e.map(e=>{let r=t.filter(e=>!e.closed&&e.active).find(t=>{var r;return null==(r=t.clobTokenIds)?void 0:r.includes(e.tokenID)});return{...e,marketObj:r}}).filter(e=>!!e.marketObj):[])(p,b),d[10]=b,d[11]=p,d[12]=l):l=d[12];let N=l;e:{let e;if(null==N?void 0:N.length){let e;if(d[13]!==g||d[14]!==N){let t;d[16]!==g?(t=(e,t)=>((e,t,r)=>{let a=e.reduce((e,t)=>({availableQty:e.availableQty+t.parsed.availableQty,totalQty:e.totalQty+t.parsed.totalQty}),{availableQty:0,totalQty:0}),s=t.reduce((e,t)=>({availableQty:e.availableQty+t.parsed.availableQty,totalQty:e.totalQty+t.parsed.totalQty}),{availableQty:0,totalQty:0});switch(r){case ew.Market:return e[0].market.question.localeCompare(t[0].market.question);case ew.FilledQty:return s.totalQty-s.availableQty-(a.totalQty-a.availableQty);case ew.TotalQty:return s.totalQty-a.totalQty;case ew.OrderDate:return t[0].parsed.endDate-e[0].parsed.endDate;case ew.Resolution:return e[0].parsed.endDate-t[0].parsed.endDate;default:return e[0].market.question.localeCompare(t[0].market.question)}})(e,t,g),d[16]=g,d[17]=t):t=d[17],e=Object.values((e=>{if(0===e.length)return{};try{return(0,r3.groupBy)((e=>{if(0===e.length)return[];try{return e.map(e=>(e=>{let{marketObj:t,...r}=e;try{var a,s;return{slug:e.marketObj.slug,eslug:(null==(a=e.marketObj.events)?void 0:a.length)?e.marketObj.events[0].slug:void 0,parsed:{outcomeIndex:e.marketObj.outcomes.indexOf(e.outcome),availableQty:parseFloat(e.available_size),totalQty:parseFloat(e.size),price:parseFloat(e.price),time:parseInt(e.timestamp),endDate:new Date(null!=(s=e.marketObj.end_date)?s:0).getTime(),expiration:(0,r5.AD)(null==e?void 0:e.expiration)},order:r,market:e.marketObj}}catch(e){throw(0,ea.H4)(e,"fromOpenOrderToOpenOrderPortfolioItem"),e}})(e))}catch(e){return(0,ea.H4)(e,"fromOpenOrdersToOpenOrderPortfolioItems"),[]}})(e),"slug")}catch(e){return(0,ea.H4)(e,"fromOpenOrdersToGroupedOpenOrderPortfolioItems"),{}}})(N)).sort(t),d[13]=g,d[14]=N,d[15]=e}else e=d[15];n=e;break e}d[18]===Symbol.for("react.memo_cache_sentinel")?(e=[],d[18]=e):e=d[18],n=e}let S=n;if(d[19]!==S||d[20]!==y){let e;d[22]!==y?(e=e=>!y||e[0].market.question.toLowerCase().includes(y.toLowerCase()),d[22]=y,d[23]=e):e=d[23],i=S.filter(e),d[19]=S,d[20]=y,d[21]=i}else i=d[21];let C=i;return m?(d[24]!==u||d[25]!==h||d[26]!==C||d[27]!==w||d[28]!==p?(c=(0,a.jsx)("div",{className:"flex flex-col",children:(0,r0.p4)(h,u)?(0,a.jsx)("div",{className:"w-full flex justify-center mt-8",children:(0,a.jsx)("div",{className:"w-[400px]",children:(0,a.jsx)(rJ,{triggerCopy:"Generate"})})}):(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"hidden lg:flex border-b border-border py-4 px-4",children:[(0,a.jsx)("div",{style:{flex:ar.market},className:"pr-2",children:(0,a.jsx)("span",{className:"text-[11px] tracking-[2px] leading-[15px] font-medium text-text-secondary",children:"MARKET"})}),(0,a.jsx)("div",{style:{flex:ar.side},className:"px-2",children:(0,a.jsx)("span",{className:"text-[11px] tracking-[2px] leading-[15px] font-medium text-text-secondary",children:"SIDE"})}),(0,a.jsx)("div",{style:{flex:ar.outcome},className:"px-2",children:(0,a.jsx)("span",{className:"text-[11px] tracking-[2px] leading-[15px] font-medium text-text-secondary",children:"OUTCOME"})}),(0,a.jsx)("div",{style:{flex:ar.price},className:"px-2",children:(0,a.jsx)("span",{className:"text-[11px] tracking-[2px] leading-[15px] font-medium text-text-secondary",children:"PRICE"})}),(0,a.jsx)("div",{style:{flex:ar.filled},className:"px-2",children:(0,a.jsx)("span",{className:"text-[11px] tracking-[2px] leading-[15px] font-medium text-text-secondary",children:"FILLED"})}),(0,a.jsx)("div",{style:{flex:ar.total},className:"px-2",children:(0,a.jsx)("span",{className:"text-[11px] tracking-[2px] leading-[15px] font-medium text-text-secondary",children:"TOTAL"})}),(0,a.jsx)("div",{style:{flex:ar.expiration},className:"px-2",children:(0,a.jsx)("span",{className:"text-[11px] tracking-[2px] leading-[15px] font-medium text-text-secondary",children:"EXPIRATION"})}),(0,a.jsx)("div",{style:{flex:ar.cancel},className:"flex justify-end pl-2",children:" "})]}),w&&!Array.isArray(p)?(0,a.jsx)(tq,{count:5,variant:"desktop"}):null,w||0!==C.length?null:(0,a.jsx)(tz.p,{message:"No open orders found."}),!w&&C.length>0?C.map(al):null]})}),d[24]=u,d[25]=h,d[26]=C,d[27]=w,d[28]=p,d[29]=c):c=d[29],c):null};function as(e){return e.tokenID}function al(e,t){return(0,a.jsx)(at,{groupedOrders:e,rowIndex:t},e[0].slug)}var an=r(401259),ai=r(167731),ao=r(673840);let ac=e=>{let t,r,s,l,n,i,c,d=(0,o.c)(17),m=e.size||12,u=e.title||"calendar",x=e.color||"currentColor";return d[0]!==u?(t=(0,a.jsx)("title",{children:u}),d[0]=u,d[1]=t):t=d[1],d[2]!==x?(r=(0,a.jsx)("line",{x1:"1.25",y1:"4.75",x2:"10.75",y2:"4.75",fill:"none",stroke:x,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),s=(0,a.jsx)("rect",{x:"1.25",y:"1.75",width:"9.5",height:"9.5",rx:"2",ry:"2",fill:"none",stroke:x,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),l=(0,a.jsx)("line",{x1:"3.75",y1:".75",x2:"3.75",y2:"1.75",fill:"none",stroke:x,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),n=(0,a.jsx)("line",{x1:"8.25",y1:".75",x2:"8.25",y2:"1.75",fill:"none",stroke:x,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),d[2]=x,d[3]=r,d[4]=s,d[5]=l,d[6]=n):(r=d[3],s=d[4],l=d[5],n=d[6]),d[7]!==x||d[8]!==r||d[9]!==s||d[10]!==l||d[11]!==n?(i=(0,a.jsxs)("g",{fill:x,children:[r,s,l,n]}),d[7]=x,d[8]=r,d[9]=s,d[10]=l,d[11]=n,d[12]=i):i=d[12],d[13]!==m||d[14]!==t||d[15]!==i?(c=(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:m,height:m,viewBox:"0 0 12 12",children:[t,i]}),d[13]=m,d[14]=t,d[15]=i,d[16]=c):c=d[16],c},ad=e=>{let t,r,s,l,n,i,c=(0,o.c)(11),d=e.size||12,m=e.title||"download",u=e.color||"currentColor";return c[0]!==m?(t=(0,a.jsx)("title",{children:m}),c[0]=m,c[1]=t):t=c[1],c[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("line",{x1:"6",y1:"7.5",x2:"6",y2:"1.75"}),s=(0,a.jsx)("polyline",{points:"3.75 5.5 6 7.75 8.25 5.5"}),l=(0,a.jsx)("path",{d:"m10.75,7.75v1c0,1.105-.895,2-2,2H3.25c-1.105,0-2-.895-2-2v-1"}),c[2]=r,c[3]=s,c[4]=l):(r=c[2],s=c[3],l=c[4]),c[5]!==u?(n=(0,a.jsxs)("g",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",stroke:u,children:[r,s,l]}),c[5]=u,c[6]=n):n=c[6],c[7]!==d||c[8]!==t||c[9]!==n?(i=(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:d,height:d,viewBox:"0 0 12 12",children:[t,n]}),c[7]=d,c[8]=t,c[9]=n,c[10]=i):i=c[10],i};var am=r(796128);let au=e=>{let t,r,s,l,n,i,c,d=(0,o.c)(12),m=e.size||18,u=e.title||"merge",x=e.color||"currentColor";return d[0]!==u?(t=(0,a.jsx)("title",{children:u}),d[0]=u,d[1]=t):t=d[1],d[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("path",{d:"M9.5,9l-2.172-3.752c-.358-.618-1.017-.998-1.731-.998H2.75"}),s=(0,a.jsx)("path",{d:"M9.5,9l-2.172,3.752c-.358,.618-1.017,.998-1.731,.998H2.75"}),l=(0,a.jsx)("line",{x1:"16.25",y1:"9",x2:"9.5",y2:"9"}),n=(0,a.jsx)("polyline",{points:"13.5 6.25 16.25 9 13.5 11.75"}),d[2]=r,d[3]=s,d[4]=l,d[5]=n):(r=d[2],s=d[3],l=d[4],n=d[5]),d[6]!==x?(i=(0,a.jsxs)("g",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",stroke:x,children:[r,s,l,n]}),d[6]=x,d[7]=i):i=d[7],d[8]!==m||d[9]!==t||d[10]!==i?(c=(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:m,height:m,viewBox:"0 0 18 18",children:[t,i]}),d[8]=m,d[9]=t,d[10]=i,d[11]=c):c=d[11],c};var ax=r(808479),ah=r(9258),ap=r(62727),af=r(539684),ag=r(707685),ay=r(516703),aj=r(948375),av=r(508494);let ab=(0,k.I4)(av.y,{position:"relative",'&[data-state="open"]':{transform:"rotate(-180deg)"},"@media (prefers-reduced-motion: no-preference)":{transition:"transform 250ms ease"},variants:{color:{black:{color:"black !important"},dark:{color:"$shadeDarker !important"},medium:{color:"$shadeMedium !important"},light:{color:"var(--color-background) !important"}},orientation:{down:{transform:"rotate(0deg)"},up:{transform:"rotate(180deg)"},left:{transform:"rotate(90deg)"},right:{transform:"rotate(-90deg)"}}},defaultVariants:{color:"dark"}});var ak=r(979770),aw=r(52348);let aN={transition:"all 0.1s ease-in-out",display:"inline-block",width:"calc((100% / 7) - 4px)",border:"none",cursor:"pointer",py:"6px","@media (hover: hover), (pointer: fine)":{"&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"}}},aS=(0,k.I4)(g.$,{borderRadius:"2px",color:"var(--color-text-primary)",p:"$1"}),aC=(0,k.I4)("ul",{listStyleType:"none",margin:0,padding:"$2 0","@phones":{display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap",gap:"$2"}}),a_=(0,k.I4)("li",{padding:"6px 16px 6px 32px",cursor:"pointer",display:"flex",alignItems:"center","@phones":{px:"$2 !important",py:"$1 !important",borderRadius:"$md",border:"1px solid var(--color-border)"},variants:{dense:{true:{paddingTop:"$1",paddingBottom:"$1",minHeight:"$8"}},selected:{true:{backgroundColor:"var(--color-neutral-50)","&:hover":{backgroundColor:"var(--color-neutral-100)"}}}},"&:hover":{backgroundColor:"var(--color-neutral-50)"}}),aA=e=>{let t=(0,l.useRef)(null),r=(0,l.useCallback)(e=>{let{selected:t,isInRange:r}=e,a=r?"var(--color-neutral-100)":"";return t?"var(--color-bg-brand)":a},[]),s=(0,l.useCallback)(e=>{let{selected:t,unavailable:r,isInRange:a}=e,s="var(--color-text-primary)";return s=a?"var(--color-text-primary)":s,s=t?"var(--color-white)":s,s=r?"var(--color-text-disabled)":s},[]),n=()=>{t.current=null},i=(0,l.useCallback)(r=>{let{selected:a}=e,s=r.getTime();if(Array.isArray(a)&&a.length){let e=a[0].getTime();if(2===a.length){let t=a[1].getTime();return e<s&&t>s}return t.current&&(e<s&&t.current>=r||s<e&&r>=t.current)}return!1},[e.selected]),o=(0,l.useCallback)(t=>{let{selected:r}=e;if(Array.isArray(r)&&r.length){let e=(0,ap.A)(t).getTime(),a=(0,ap.A)(r[0]).getTime();if(2===r.length)return a===e}return!1},[e.selected]),c=(0,l.useCallback)(t=>{let{selected:r}=e;if(Array.isArray(r)&&r.length){let e=(0,ap.A)(t).getTime();if(2===r.length)return(0,ap.A)(r[1]).getTime()===e}return!1},[e.selected]);return(0,a.jsx)(aj.A,{...e,render:l=>{let{calendars:d,getDateProps:m,getBackProps:u,getForwardProps:x}=l;return d.length?(0,a.jsxs)(h.az,{onMouseLeave:n,css:{textAlign:"center",position:"relative",maxWidth:"300px","@phones":{maxWidth:"100vw",width:"100vw"}},children:[(0,a.jsxs)(h.az,{css:{display:"flex",justifyContent:"space-between",alignItems:"center",position:"absolute",top:"$3",left:"20px",right:"20px"},children:[(0,a.jsxs)(h.so,{css:{alignItems:"center"},children:[(0,a.jsx)(aS,{variant:"tertiary",...u({calendars:d,offset:12}),css:{borderRadius:"2px",color:"var(--color-text-primary)"},children:(0,a.jsx)(ab,{orientation:"left",css:{size:"20px",color:"var(--color-text-primary)"}})}),(0,a.jsx)(aS,{variant:"tertiary",...u({calendars:d}),css:{borderRadius:"2px",color:"var(--color-text-primary)"},children:(0,a.jsx)(r$.s,{orientation:"left",css:{size:"20px",color:"var(--color-text-primary)"}})})]}),(0,a.jsxs)(h.so,{css:{alignItems:"center"},children:[(0,a.jsx)(aS,{variant:"tertiary",...x({calendars:d}),css:{borderRadius:"2px",color:"var(--color-text-primary)"},children:(0,a.jsx)(r$.s,{orientation:"right",css:{size:"20px",color:"var(--color-text-primary)"}})}),(0,a.jsx)(aS,{variant:"tertiary",...x({calendars:d,offset:12}),css:{borderRadius:"2px",color:"var(--color-text-primary)"},children:(0,a.jsx)(ab,{orientation:"right",css:{size:"20px",color:"var(--color-text-primary)"}})})]})]}),d.map(l=>(0,a.jsxs)(h.az,{css:{display:"inline-block",width:"100%",boxSizing:"border-box",padding:"0 10px 30px","@notLaptops":{padding:"0 10px 0"}},children:[(0,a.jsx)(h.az,{css:{py:"18px"},children:(0,a.jsxs)(p.EY,{size:"md",weight:"semi",children:[(0,ak.A)(l.month)," ",l.year]})}),aw.A.map(e=>(0,a.jsx)(h.az,{css:{...aN,background:"transparent"},children:(0,a.jsx)(p.EY,{size:"md",weight:"semi",children:e})},"".concat(l.month).concat(l.year).concat(e))),l.weeks.map((n,d)=>n.map((n,u)=>{let x="".concat(l.month).concat(l.year).concat(d).concat(u);if(!n)return(0,a.jsx)(h.az,{css:{...aN,background:"transparent"}},x);let{date:f,selected:g,selectable:y}=n,j=i(f),v=o(f),b=c(f),k=r({selected:g,isInRange:!!j,unavailable:!y});return(0,a.jsx)(h.az,{...m({dateObj:n,onMouseEnter:()=>{!e.selected||Array.isArray(e.selected)&&!e.selected.length||(t.current=f)}}),css:{...aN,minWidth:0,backgroundColor:k,position:"relative",borderRadius:2*(!j&&!g),borderTopLeftRadius:8*!!v,borderBottomLeftRadius:8*!!v,borderTopRightRadius:8*!!b,borderBottomRightRadius:8*!!b,...(j||b||v)&&{"&:hover":{backgroundColor:"".concat(k," !important"),opacity:.7}}},children:(0,a.jsx)(p.EY,{size:"md",css:{color:"".concat(s({selected:g,unavailable:!y,isInRange:j})," !important")},children:f.getDate()})},x)}))]},"".concat(l.month).concat(l.year)))]}):null}})},aI=e=>{var t,r,s,n,i,c,d,m;let u,x,f,y,j,v,b,k,w,N,S,C,_,A,I,R,P,M,T,D,L,E,F,O,z,B,V,$,q,H,W,Q,Z,U,G,Y,K,X,J,ee,et,er,ea,es,el,en,ei,eo,ec,ed,em,eu=(0,o.c)(90),{handleCancel:ex,handleSetDates:eh,initialSelection:ep}=e,[ef,eg]=(0,l.useState)(0);eu[0]===Symbol.for("react.memo_cache_sentinel")?(u=(0,ap.A)(new Date),eu[0]=u):u=eu[0];let ey=u,[ej,ev]=(0,l.useState)(ep);eu[1]!==ej?(x=e=>{let{selectable:t,date:r}=e;if(!t)return;let a=r.getTime(),s=ej?[...ej]:[];ej&&ej.length?1===ej.length?(ej[0].getTime()<a?s.push(r):s.unshift(r),ev(s)):2===s.length&&ev([r]):(s.push(r),ev(s))},eu[1]=ej,eu[2]=x):x=eu[2];let eb=x;eu[3]===Symbol.for("react.memo_cache_sentinel")?(f={"@phones":{width:"100vw",maxWidth:"100vw",maxHeight:"calc(100vh - 216px)",overflowY:"scroll",top:0,pb:"48px"},"@tablets":{width:"fit-content",maxWidth:"100vw",maxHeight:"calc(100vh - 160px)",overflowY:"scroll",top:0}},eu[3]=f):f=eu[3],eu[4]===Symbol.for("react.memo_cache_sentinel")?(y={display:"inline-flex","@phones":{flexDirection:"column-reverse"},"@tablets":{flexDirection:"row"},"@laptops":{flexDirection:"row"}},eu[4]=y):y=eu[4],eu[5]===Symbol.for("react.memo_cache_sentinel")?(j={borderRight:"1px solid var(--color-border)","@laptops":{pt:"$2"}},eu[5]=j):j=eu[5],eu[6]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{ev([ey,(0,af.A)(ey)]),eg(0)},eu[6]=v):v=eu[6],eu[7]!==ej?(b=ej&&2===ej.length&&ej[0].getDate()===ey.getTime()&&(0,ap.A)(ej[1]).getTime()===ey.getTime(),eu[7]=ej,eu[8]=b):b=eu[8],eu[9]===Symbol.for("react.memo_cache_sentinel")?(k=(0,a.jsx)(p.EY,{size:"md",children:"Today"}),eu[9]=k):k=eu[9],eu[10]!==b?(w=(0,a.jsx)(a_,{role:"menuitem",onClick:v,selected:b,dense:window&&(null==(t=window)?void 0:t.innerWidth)<600,children:k}),eu[10]=b,eu[11]=w):w=eu[11],eu[12]===Symbol.for("react.memo_cache_sentinel")?(N=()=>{ev([(0,ag.A)(ey,{days:1}),(0,ag.A)(ey,{seconds:1})]),eg(0)},eu[12]=N):N=eu[12],eu[13]!==ej?(S=ej&&2===ej.length&&ej[0].getTime()===(0,ag.A)(ey,{days:1}).getTime()&&(0,ap.A)(ej[1]).getTime()===(0,ag.A)(ey,{days:1}).getTime(),eu[13]=ej,eu[14]=S):S=eu[14],eu[15]===Symbol.for("react.memo_cache_sentinel")?(C=(0,a.jsx)(p.EY,{size:"md",children:"Yesterday"}),eu[15]=C):C=eu[15],eu[16]!==S?(_=(0,a.jsx)(a_,{role:"menuitem",onClick:N,selected:S,dense:window&&(null==(r=window)?void 0:r.innerWidth)<600,children:C}),eu[16]=S,eu[17]=_):_=eu[17],eu[18]===Symbol.for("react.memo_cache_sentinel")?(A=()=>{ev([(0,ag.A)(ey,{weeks:1}),ey]),eg(0)},eu[18]=A):A=eu[18],eu[19]!==ej?(I=ej&&2===ej.length&&ej[0].getTime()===(0,ag.A)(ey,{weeks:1}).getTime()&&(0,ap.A)(ej[1]).getTime()===ey.getTime(),eu[19]=ej,eu[20]=I):I=eu[20],eu[21]===Symbol.for("react.memo_cache_sentinel")?(R=(0,a.jsx)(p.EY,{size:"md",children:"Last Week"}),eu[21]=R):R=eu[21],eu[22]!==I?(P=(0,a.jsx)(a_,{role:"menuitem",onClick:A,selected:I,dense:window&&(null==(s=window)?void 0:s.innerWidth)<600,children:R}),eu[22]=I,eu[23]=P):P=eu[23],eu[24]===Symbol.for("react.memo_cache_sentinel")?(M=()=>{ev([(0,ag.A)(ey,{months:1}),ey]),eg(-1)},eu[24]=M):M=eu[24],eu[25]!==ej?(T=ej&&2===ej.length&&ej[0].getTime()===(0,ag.A)(ey,{months:1}).getTime()&&(0,ap.A)(ej[1]).getTime()===ey.getTime(),eu[25]=ej,eu[26]=T):T=eu[26],eu[27]===Symbol.for("react.memo_cache_sentinel")?(D=(0,a.jsx)(p.EY,{size:"md",children:"Last Month"}),eu[27]=D):D=eu[27],eu[28]!==T?(L=(0,a.jsx)(a_,{role:"menuitem",onClick:M,selected:T,dense:window&&(null==(n=window)?void 0:n.innerWidth)<600,children:D}),eu[28]=T,eu[29]=L):L=eu[29],eu[30]===Symbol.for("react.memo_cache_sentinel")?(E=()=>{ev([(0,ag.A)(ey,{months:3}),ey]),eg(-3)},eu[30]=E):E=eu[30],eu[31]!==ej?(F=ej&&2===ej.length&&ej[0].getTime()===(0,ag.A)(ey,{months:3}).getTime()&&(0,ap.A)(ej[1]).getTime()===ey.getTime(),eu[31]=ej,eu[32]=F):F=eu[32],eu[33]===Symbol.for("react.memo_cache_sentinel")?(O={paddingRight:"56px"},eu[33]=O):O=eu[33],eu[34]===Symbol.for("react.memo_cache_sentinel")?(z=(0,a.jsx)(p.EY,{size:"md",children:"Last 3 Months"}),eu[34]=z):z=eu[34],eu[35]!==F?(B=(0,a.jsx)(a_,{role:"menuitem",onClick:E,selected:F,css:O,dense:window&&(null==(i=window)?void 0:i.innerWidth)<600,children:z}),eu[35]=F,eu[36]=B):B=eu[36],eu[37]===Symbol.for("react.memo_cache_sentinel")?(V=()=>{ev([(0,ap.A)(new Date(new Date().getFullYear(),0,1)),ey]),eg(-new Date().getMonth())},eu[37]=V):V=eu[37],eu[38]!==ej?($=ej&&2===ej.length&&ej[0].getTime()===(0,ap.A)(new Date(new Date().getFullYear(),0,1)).getTime()&&(0,ap.A)(ej[1]).getTime()===ey.getTime(),eu[38]=ej,eu[39]=$):$=eu[39],eu[40]===Symbol.for("react.memo_cache_sentinel")?(q={paddingRight:"56px"},eu[40]=q):q=eu[40],eu[41]===Symbol.for("react.memo_cache_sentinel")?(H=(0,a.jsx)(p.EY,{size:"md",children:"Year to Date"}),eu[41]=H):H=eu[41],eu[42]!==$?(W=(0,a.jsx)(a_,{role:"menuitem",onClick:V,selected:$,css:q,dense:window&&(null==(c=window)?void 0:c.innerWidth)<600,children:H}),eu[42]=$,eu[43]=W):W=eu[43],eu[44]===Symbol.for("react.memo_cache_sentinel")?(Q=()=>{ev([(0,ag.A)(ey,{years:1}),ey]),eg(-12)},eu[44]=Q):Q=eu[44],eu[45]!==ej?(Z=ej&&2===ej.length&&ej[0].getTime()===(0,ag.A)(ey,{years:1}).getTime()&&(0,ap.A)(ej[1]).getTime()===ey.getTime(),eu[45]=ej,eu[46]=Z):Z=eu[46],eu[47]===Symbol.for("react.memo_cache_sentinel")?(U={paddingRight:"56px"},eu[47]=U):U=eu[47],eu[48]===Symbol.for("react.memo_cache_sentinel")?(G=(0,a.jsx)(p.EY,{size:"md",children:"Last Year"}),eu[48]=G):G=eu[48],eu[49]!==Z?(Y=(0,a.jsx)(a_,{role:"menuitem",onClick:Q,selected:Z,css:U,dense:window&&(null==(d=window)?void 0:d.innerWidth)<600,children:G}),eu[49]=Z,eu[50]=Y):Y=eu[50],eu[51]===Symbol.for("react.memo_cache_sentinel")?(K=()=>{ev(void 0),eg(0)},eu[51]=K):K=eu[51];let ek=!ej;return eu[52]===Symbol.for("react.memo_cache_sentinel")?(X={paddingRight:"56px"},eu[52]=X):X=eu[52],eu[53]===Symbol.for("react.memo_cache_sentinel")?(J=(0,a.jsx)(p.EY,{size:"md",children:"All"}),eu[53]=J):J=eu[53],eu[54]!==ek?(ee=(0,a.jsx)(a_,{role:"menuitem",onClick:K,selected:ek,css:X,dense:window&&(null==(m=window)?void 0:m.innerWidth)<600,children:J}),eu[54]=ek,eu[55]=ee):ee=eu[55],eu[56]!==_||eu[57]!==P||eu[58]!==L||eu[59]!==B||eu[60]!==W||eu[61]!==Y||eu[62]!==ee||eu[63]!==w?(et=(0,a.jsx)(h.az,{css:j,children:(0,a.jsxs)(aC,{role:"menu",children:[w,_,P,L,B,W,Y,ee]})}),eu[56]=_,eu[57]=P,eu[58]=L,eu[59]=B,eu[60]=W,eu[61]=Y,eu[62]=ee,eu[63]=w,eu[64]=et):et=eu[64],eu[65]===Symbol.for("react.memo_cache_sentinel")?(er={pt:2,width:"300px","@phones":{width:"100%"},"@tablets":{width:"fit-content"}},eu[65]=er):er=eu[65],eu[66]===Symbol.for("react.memo_cache_sentinel")?(ea=(0,ay.A)(ey,{days:1,seconds:-1}),eu[66]=ea):ea=eu[66],eu[67]!==eb||eu[68]!==ef||eu[69]!==ej?(es=(0,a.jsx)(h.az,{css:er,children:(0,a.jsx)(aA,{date:ey,selected:ej,onDateSelected:eb,monthsToDisplay:1,maxDate:ea,offset:ef,onOffsetChanged:eg})}),eu[67]=eb,eu[68]=ef,eu[69]=ej,eu[70]=es):es=eu[70],eu[71]!==et||eu[72]!==es?(el=(0,a.jsxs)(h.so,{css:y,children:[et,es]}),eu[71]=et,eu[72]=es,eu[73]=el):el=eu[73],eu[74]===Symbol.for("react.memo_cache_sentinel")?(en={justifyContent:"flex-end",py:"$2",pr:"$3",borderTop:"1px solid var(--color-border)",gap:"$2"},eu[74]=en):en=eu[74],eu[75]!==eh||eu[76]!==ej?(ei=ej&&(0,a.jsx)(g.$,{variant:"tertiary",onClick:()=>{eh(void 0)},style:{background:"transparent",cursor:"pointer"},children:"Clear Date Range"}),eu[75]=eh,eu[76]=ej,eu[77]=ei):ei=eu[77],eu[78]!==ex?(eo=(0,a.jsx)(g.$,{variant:"quaternary",onClick:ex,children:"Cancel"}),eu[78]=ex,eu[79]=eo):eo=eu[79],eu[80]!==eh||eu[81]!==ej?(ec=(0,a.jsx)(g.$,{variant:"primary",onClick:()=>{eh(ej?[(0,ap.A)(ej[0]),(0,af.A)(ej[1])]:void 0)},children:"Set Dates"}),eu[80]=eh,eu[81]=ej,eu[82]=ec):ec=eu[82],eu[83]!==ei||eu[84]!==eo||eu[85]!==ec?(ed=(0,a.jsxs)(h.so,{css:en,children:[ei,eo,ec]}),eu[83]=ei,eu[84]=eo,eu[85]=ec,eu[86]=ed):ed=eu[86],eu[87]!==el||eu[88]!==ed?(em=(0,a.jsxs)(h.eB,{css:f,children:[el,ed]}),eu[87]=el,eu[88]=ed,eu[89]=em):em=eu[89],em};var aR=r(125048),aP=r(106517),aM=r(770274),aT=r(807270);let aD=async e=>{let[t,r,{proxyAddress:a,fetchAll:s}]=e.queryKey;if(e7.Sl.has(a))return[];let l=async e=>{let{offset:t}=e,{data:r}=await (0,e5.p)("".concat(F.qL,"/positions?").concat(new URLSearchParams({user:a,sizeThreshold:".1",mergeable:"true",limit:String(100),offset:t.toString()})));return{positionDbItems:r,hasMore:r&&100===r.length}},{positionDbItems:n,hasMore:i}=await l({offset:0});if(s)for(;i;){let{positionDbItems:e,hasMore:t}=await l({offset:n.length});n.push(...e),i=t}return n},aL=e=>{let t,r,a,s,n,i,c,d,m,u=(0,o.c)(35),{proxyAddress:x,fetchAll:h}=e,p=void 0!==h&&h;u[0]!==p||u[1]!==x?(t=er.l[Y.k.Positions].mergeable({proxyAddress:x,fetchAll:p}),u[0]=p,u[1]=x,u[2]=t):t=u[2];let f=!!x;u[3]!==t||u[4]!==f?(r={queryKey:t,queryFn:aD,enabled:f,refetchOnReconnect:!1,refetchOnWindowFocus:!1,gcTime:6e4,staleTime:6e4,placeholderData:ee.rX},u[3]=t,u[4]=f,u[5]=r):r=u[5];let{data:g,refetch:y}=(0,et.I)(r);u[6]!==x?(a={proxyAddress:x},u[6]=x,u[7]=a):a=u[7];let{optimisticPositions:j,upsertPositionDbItems:v}=(0,Z.Ay)(a);u[8]!==g||u[9]!==v?(s=()=>{g&&v(g)},u[8]=g,u[9]=v,u[10]=s):s=u[10],u[11]!==g?(n=[g],u[11]=g,u[12]=n):n=u[12],(0,l.useEffect)(s,n);e:{let e,t,r,a;if(!j||!j.size){let e;u[13]!==g?(e=(null!=g?g:[]).reduce(aE,{positions:void 0,markets:void 0}),u[13]=g,u[14]=e):e=u[14],i=e;break e}if(u[15]!==g||u[16]!==j){let r,a=(null!=g?g:[]).map(aF);t=(null!=g?g:[]).reduce(aO,{}),u[19]!==j?(r=e=>{let t=(0,Z.Yo)(j,(0,Z.Gy)({conditionId:e.market.id,outcomeIndex:e.outcomeIndex}));return null!=t?t:e},u[19]=j,u[20]=r):r=u[20],e=a.map(r);let s=new Set(a.map(az));j.forEach((r,a)=>{!s.has(a)&&r.position&&r.position&&(e.push(r.position),r.market&&(t[r.market.conditionId]=r.market))}),u[15]=g,u[16]=j,u[17]=e,u[18]=t}else e=u[17],t=u[18];if(!g&&!e.length){let e;u[21]===Symbol.for("react.memo_cache_sentinel")?(e={positions:void 0,markets:void 0},u[21]=e):e=u[21],i=e;break e}u[22]!==t?(r=Object.values(t),u[22]=t,u[23]=r):r=u[23],u[24]!==e||u[25]!==r?(a={positions:e,markets:r},u[24]=e,u[25]=r,u[26]=a):a=u[26],i=a}let{positions:b,markets:k}=i;u[27]!==y?(c=async e=>{await y(e)},u[27]=y,u[28]=c):c=u[28];let w=c;return u[29]!==b?(d=b?(e=>{let t=new Map;for(let r of e){t.get(r.market.id)||t.set(r.market.id,{balances:[null,null],mergeAmount:aT.XK,position:null});let e=t.get(r.market.id);if(e){if(e.balances[parseInt(r.outcomeIndex,10)]=eT.gH.from(r.netQuantity),e.balances[0]&&e.balances[1]){let t=eT.gH.from(e.balances[0]).toNumber()<eT.gH.from(e.balances[1]).toNumber()?0:1;e.mergeAmount=e.balances[t]}eT.gH.from(e.mergeAmount).gt(aT.XK)&&(e.position=r)}}return e.map(e=>{var r;return{...e,mergeInfo:null!=(r=t.get(e.market.id))?r:null}})})(b).filter(aB):void 0,u[29]=b,u[30]=d):d=u[30],u[31]!==k||u[32]!==d||u[33]!==w?(m={positions:d,markets:k,refetch:w},u[31]=k,u[32]=d,u[33]=w,u[34]=m):m=u[34],m};function aE(e,t){return e.positions||(e.positions=[]),e.markets||(e.markets=[]),e.positions.push((0,e4.Vh)(t)),e.markets.push((0,e4.Ir)(t)),e}function aF(e){return(0,e4.Vh)(e)}function aO(e,t){let r=(0,e4.Ir)(t);return e[r.conditionId]=r,e}function az(e){return(0,Z.Gy)({conditionId:e.market.id,outcomeIndex:e.outcomeIndex})}function aB(e){return!!e.mergeInfo&&e.mergeInfo.mergeAmount!==aT.XK}var aV=r(81756),a$=r(553905);let aq=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"';return e.filter(e=>e).map(e=>e.map(e=>null==e?"":String(e)).map(e=>"".concat(r).concat(e).concat(r)).join(t)).join("\n")},aH=function(e){let t,r,s,n,i,c,d,m,u,x,h=(0,o.c)(19);h[0]!==e?({data:r,separator:n,filename:i,uFEFF:c,children:t,enclosingCharacter:d,...s}=e,h[0]=e,h[1]=t,h[2]=r,h[3]=s,h[4]=n,h[5]=i,h[6]=c,h[7]=d):(t=h[1],r=h[2],s=h[3],n=h[4],i=h[5],c=h[6],d=h[7]);let p=void 0===n?",":n,f=void 0===i?"generatedBy_react-csv.csv":i,g=void 0===c||c,y=void 0===d?'"':d,[j,v]=l.useState("");return h[8]!==r||h[9]!==y||h[10]!==p||h[11]!==g?(m=()=>{let e=new Blob([g?"\uFEFF":"",aq(r,p,y)],{type:"text/csv"}),t=URL.createObjectURL(e);return v(t),()=>{URL.revokeObjectURL(t)}},u=[r,g,p,y],h[8]=r,h[9]=y,h[10]=p,h[11]=g,h[12]=m,h[13]=u):(m=h[12],u=h[13]),l.useEffect(m,u),h[14]!==t||h[15]!==f||h[16]!==j||h[17]!==s?(x=(0,a.jsx)("a",{download:f,...s,target:"_self",href:j,children:t}),h[14]=t,h[15]=f,h[16]=j,h[17]=s,h[18]=x):x=h[18],x},aW=e=>{var t;let{className:r}=e,n=(0,s.useRouter)(),i=eP(),{sortBy:c,setSortBy:d,sortByVariables:m}=(()=>{let e,t=(0,o.c)(20),{selectedTab:r,sortPortfolioMarketsBy:a,sortPortfolioOpenOrdersBy:s,sortPortfolioLiquidityBy:l,sortPortfolioHistoryBy:n,setSortPortfolioMarketsBy:i,setSortPortfolioOpenOrdersBy:c,setSortPortfolioLiquidityBy:d,setSortPortfolioHistoryBy:m}=eP();switch(r){case eA.Positions:{let r,s;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=Object.values(eb),t[0]=r):r=t[0],t[1]!==i||t[2]!==a?(s={sortBy:a,setSortBy:i,sortByVariables:r},t[1]=i,t[2]=a,t[3]=s):s=t[3],e=s;break}case eA.Orders:{let r,a;t[4]===Symbol.for("react.memo_cache_sentinel")?(r=Object.values(ew),t[4]=r):r=t[4],t[5]!==c||t[6]!==s?(a={sortBy:s,setSortBy:c,sortByVariables:r},t[5]=c,t[6]=s,t[7]=a):a=t[7],e=a;break}case eA.Liquidity:{let r,a;t[8]===Symbol.for("react.memo_cache_sentinel")?(r=Object.values(eN),t[8]=r):r=t[8],t[9]!==d||t[10]!==l?(a={sortBy:l,setSortBy:d,sortByVariables:r},t[9]=d,t[10]=l,t[11]=a):a=t[11],e=a;break}case eA.History:{let r,a;t[12]===Symbol.for("react.memo_cache_sentinel")?(r=Object.values(eS),t[12]=r):r=t[12],t[13]!==m||t[14]!==n?(a={sortBy:n,setSortBy:m,sortByVariables:r},t[13]=m,t[14]=n,t[15]=a):a=t[15],e=a;break}default:{let r,s;t[16]===Symbol.for("react.memo_cache_sentinel")?(r=Object.values(eb),t[16]=r):r=t[16],t[17]!==i||t[18]!==a?(s={sortBy:a,setSortBy:i,sortByVariables:r},t[17]=i,t[18]=a,t[19]=s):s=t[19],e=s}}return e})(),{sortPortfolioMarketsDirection:u,setSortPortfolioMarketsDirection:x}=i,{proxyAddress:h}=(0,L.Um)(),{selectedTab:p,portfolioHistoryStartDate:f,portfolioHistoryEndDate:g,portfolioHistoryActionFilter:y,portfolioSearchQuery:j,setPortfolioSearchQuery:v,setPortfolioHistoryStartDate:b,setPortfolioHistoryEndDate:k,setPortfolioHistoryActionFilter:w,setShowCloseAllModal:N,setShowMergePositionsModal:S,csvFormattedHistory:C}=i,{setListenersEnabled:A}=(0,a$.Ru)(),{positions:I}=aL({proxyAddress:h,fetchAll:!0}),{hasMergedPositions:R,hasClosedAllPositions:P}=eP(),{positions:M,markets:T}=(0,ey.M)({proxyAddress:h,fetchAll:!0}),[D,E]=(0,l.useState)(!1),[F,O]=(0,l.useState)(null),z=(0,l.useRef)(null),[B,V]=(0,l.useState)(j||""),$=(0,l.useMemo)(()=>(0,ah.debounce)(e=>{v(e)},300),[]),q=(0,l.useCallback)(e=>{let{value:t}=e.target;V(t),$(t)},[$]);(0,l.useEffect)(()=>()=>{$.cancel()},[$]);let H=(0,l.useMemo)(()=>ta(M,T).filter(e=>!e.hasMatchingWonPosition),[T,M]),W=()=>{O(null)};return((0,ax.A)("keydown",e=>{"Escape"===e.key&&z.current&&document.activeElement===z.current&&z.current.blur()}),(0,eU.A)(()=>E(!0)),D)?(0,a.jsxs)("div",{className:(0,aV.cn)("w-full bg-background z-[2] flex","lg:pt-4 lg:pb-[1px] lg:gap-2 lg:px-4","max-lg:pt-6 max-lg:pb-1 max-lg:gap-1","max-lg:flex-wrap max-lg:gap-y-1",r),children:[(0,a.jsxs)("div",{className:(0,aV.cn)("relative flex-1","max-lg:h-[45px]",p===eA.Positions&&"max-lg:flex-1",p===eA.History&&"min-w-lg:order-1"),children:[(0,a.jsx)(aP.p,{ref:z,value:B,onChange:q,placeholder:"Search",onFocus:()=>{A(!1)},onBlur:()=>{A(!0)},className:"pl-10 rounded-md placeholder:text-muted-foreground",variant:"outlined"}),(0,a.jsx)("div",{className:"absolute inset-y-0 pointer-events-none flex items-center left-3 text-text-secondary",children:(0,a.jsx)(am.A,{})})]}),(p===eA.Positions||p===eA.Orders)&&(0,a.jsxs)(aR.rI,{children:[(0,a.jsx)(aR.ty,{asChild:!0,children:(0,a.jsxs)(_.$,{variant:"outline",size:"lg",className:"flex items-center gap-2 px-4",children:[c===eb.Value&&u===ek.Asc?(0,a.jsx)(an.A,{}):(0,a.jsx)(ai.A,{}),c]})}),(0,a.jsx)(aR.SQ,{className:"w-48",children:m.map(e=>(0,a.jsx)(aR._2,{className:c===e?"bg-surface":"",onClick:()=>{e===eb.Value&&c===eb.Value&&x(u===ek.Asc?ek.Desc:ek.Asc),d(e)},children:e},e))})]}),p===eA.Positions&&!R&&I&&I.length>0&&(0,a.jsx)(_.$,{variant:"outline",size:"lg",className:"px-3",onClick:()=>{S(!0)},children:(0,a.jsx)(au,{})}),p===eA.History&&(0,a.jsxs)(a.Fragment,{children:[H.length>0&&!P&&(0,a.jsxs)(_.$,{variant:"outline",size:"lg",className:"px-4 min-lg:order-2",onClick:()=>{N(!0)},children:[(0,a.jsx)(rt,{className:"size-4"}),"Close Losses"]}),(0,a.jsx)("div",{className:"basis-full w-0 lg:hidden order-3"}),(0,a.jsxs)(aR.rI,{children:[(0,a.jsx)(aR.ty,{asChild:!0,children:(0,a.jsxs)(_.$,{variant:"outline",size:"lg",className:"px-4 max-lg:order-4 max-lg:flex-1",children:[(0,a.jsx)(ao.A,{}),y]})}),(0,a.jsx)(aR.SQ,{className:"w-[200px] max-h-[200px] overflow-y-auto",children:Object.values(eC).map(e=>(0,a.jsx)(aR._2,{className:y===e?"bg-surface":"",onClick:()=>{w(e),n.push({pathname:"/portfolio",query:{tab:eA.History}})},children:e},e))})]}),(0,a.jsxs)(aR.rI,{children:[(0,a.jsx)(aR.ty,{asChild:!0,children:(0,a.jsxs)(_.$,{variant:"outline",size:"lg",className:"px-4 max-lg:order-5 max-lg:flex-1",children:[(0,a.jsx)(ai.A,{}),c]})}),(0,a.jsx)(aR.SQ,{className:"w-[200px]",children:m.map(e=>(0,a.jsx)(aR._2,{className:c===e?"bg-surface":"",onClick:()=>{p===eA.History&&d(e)},children:e},e))})]}),(0,a.jsxs)(aM.AM,{open:!!F,onOpenChange:e=>{var t,r,a;if(!e)return void W();(null==(t=window)?void 0:t.innerWidth)<1024&&(null==(a=document)||null==(r=a.getElementById("__pm_main"))||r.scrollTo({top:360,behavior:"smooth"}))},modal:!0,children:[(0,a.jsx)(aM.Wv,{asChild:!0,children:(0,a.jsxs)(_.$,{variant:"outline",onClick:e=>{O(e.currentTarget)},size:"lg",className:"px-4 max-lg:order-6",children:[(0,a.jsx)(ac,{className:"size-4"}),f&&g?"".concat(f.toLocaleDateString()," - ").concat(g.toLocaleDateString()):""]})}),(0,a.jsx)(_.$,{variant:"outline",size:"lg",className:"px-4 max-lg:hidden",children:(0,a.jsxs)(aH,{filename:"Polymarket-Transaction-History-".concat(new Date,".csv"),data:C,className:"flex gap-2 items-center",children:[(0,a.jsx)(ad,{className:"size-4"}),"Export"]})}),(0,a.jsx)(aM.hl,{align:"start",sideOffset:window&&(null==(t=window)?void 0:t.innerWidth)<600?1:10,sticky:"always",className:"w-auto p-0",children:(0,a.jsx)(aI,{handleCancel:()=>{W()},handleSetDates:e=>{(e=>{b(e?e[0]:void 0),k(e?e[1]:void 0)})(e),W()},initialSelection:f&&g&&[f,g]})})]})]})]}):null};var aQ=r(88703),aZ=r(396144),aU=r(551464),aG=r(33556),aY=r(22711),aK=r(703279),aX=r(167729);let aJ=e=>{let{closeModal:t,onMergeResult:r,optimisticallyRefresh:s,isMobile:i}=e,o=(0,tu.Be)(),{authenticated:c,authenticationType:d,proxyAddress:m}=(0,L.Um)(),{positions:u,markets:x}=aL({proxyAddress:m,fetchAll:!0}),{refreshNonce:h}=(0,n.nb)(),{sendTransaction:p}=(0,D.Ay)(),{accountWalletPreferences:g}=(0,aZ.A)(),y=(0,aU.A)(),{setHasMergedPositions:j}=eP(),[v,b]=(0,l.useState)(tv.b.Start),[k,w]=(0,l.useState)(0),[N,S]=(0,l.useState)(0),[C,A]=(0,l.useState)(!1),I=(0,l.useRef)(null),R=(0,l.useMemo)(()=>u&&u.length>0&&x&&x.length>0?(e=>{let{markets:t,positions:r}=e,a=t.reduce((e,t)=>(e[t.conditionId]=t,e),{}),s=r.filter(e=>!!e.mergeInfo&&eT.gH.from(e.mergeInfo.mergeAmount).toNumber()===eT.gH.from(e.netQuantity).toNumber()).reduce((e,t)=>{let r=a[t.market.id];return e.push({...r,value:t.mergeInfo.mergeAmount}),e},[]).sort((e,t)=>(null==e?void 0:e.value)&&(null==t?void 0:t.value)?parseFloat(t.value.toString())-parseFloat(e.value.toString()):0);return tR().uniqBy(s,e=>e.conditionId)})({markets:x,positions:u}):[],[x,u]),P=(0,l.useMemo)(()=>(null==R?void 0:R.length)>0?R.reduce((e,t)=>e+parseFloat((0,f.e5)(t.value)),0):0,[R]);(0,l.useEffect)(()=>{let e=()=>{if(I.current){let{scrollHeight:e,clientHeight:t}=I.current;A(e>t)}};e();let t=new ResizeObserver(e);return I.current&&t.observe(I.current),()=>{t.disconnect()}},[R]);let M=(0,l.useCallback)(async()=>{if(b(tv.b.InProgress),!c)return(0,ea.H4)("[MergeAll > Magiclink is null]",ev.ZB.MagicLinkMissing,m),{success:!1,errorCode:ev.ZB.MagicLinkMissing,errorMessage:"Could not access MagicLink wallet"};let{chainId:e}=F.MN,t=(R||[]).map(t=>{var r,a,s,l;let n=(0,aX.L)({chainId:e,chainConfig:F.ol,negRisk:!!(null==t?void 0:t.negRisk),conditionId:null==t?void 0:t.conditionId,outcomeCount:null==t||null==(r=t.outcomes)?void 0:r.length,amount:null!=(a=t.value)?a:0}),i={quantity:eT.gH.from(null!=(s=t.value)?s:0),positionChangeData:(0,aY.mI)(eT.gH.from(null!=(l=t.value)?l:0),t.outcomePrices)};return{txns:n,market:t,metadata:i}});S(t.length);let r=tR().chunk(t,tv.r),a=0;for(let[s,l]of r.entries())try{a+=l.length,w(a);let r=Date.now(),n=await p("eoa"===d?D.D_.EOA:D.D_.Magic,l.flatMap(e=>e.txns),0,F.lg.Matic,s);for(let{txns:t,market:a,metadata:s}of l){let l=(0,aQ.id)(m+a.conditionId+r),i=new aK.$N(l,aG.rM.PENDING).metadata({txns:t,chainId:e,outcome:"",outcomeIndex:-1,usdc:aT.XK,enqueuedAt:r,lastUpdatedAt:r,ctfTxnType:aG.cI.Merge,hash:n.hash,...s,...(null==g?void 0:g.advancedMode)?{gasPreference:null==g?void 0:g.gasPreference,customGasPrice:null==g?void 0:g.customGasPrice}:{gasPreference:null,customGasPrice:null}}).conditionId(a.conditionId).build();await y(i,a)}o.trackEvent(tc.h8.TRANSACTION,{trade_type:"merge_all",trade_status:"".concat(s+1,"_").concat(t.length),event_status:"success"})}catch(e){return(0,ea.H4)(e,"Merge All Shares",m,ea.o6.MISSION_CRITICAL),o.trackEvent(tc.h8.TRANSACTION,{trade_type:"merge_all",trade_status:"".concat(s+1,"_").concat(t.length),event_status:"error",event_error_msg:e.message||e.error||JSON.stringify(e)}),{success:!1,errorMessage:e.message||e.error||JSON.stringify(e)}}return h(),s(),j(!0),{success:!0}},[R,c,d,x,s,u,m,h,p,y,g,j]),T=(0,l.useCallback)(()=>{b(tv.b.Start),w(0),h()},[b,h]),E=(0,l.useCallback)(async()=>{let{success:e,errorMessage:t}=await M();e?b(tv.b.Success):((0,ea.H4)(t,"mergeAll",m),b(tv.b.Failure)),r()},[M,r,m]),O=(()=>{switch(v){case tv.b.Start:return{text:"Merge positions",disabled:!1,onClick:E};case tv.b.InProgress:return{text:"Processing... ".concat(k,"/").concat(N),disabled:!0,onClick:()=>{}};case tv.b.Success:return{text:"Done",disabled:!1,onClick:t};case tv.b.Failure:return{text:"Try again",disabled:!1,onClick:T};default:return{text:"Merge positions",disabled:!1,onClick:E}}})();return(0,a.jsxs)("div",{className:"relative w-full ".concat(i?"h-[80vh] rounded-t-3xl":"h-full rounded-xl"," flex flex-col"),children:[(0,a.jsx)(_.$,{variant:"ghost",size:"sm",onClick:t,className:"absolute ".concat(i?"top-4 right-4":"top-1 right-0"," w-8 h-8 p-0 z-10"),children:(0,a.jsx)(to.A,{size:16})}),(0,a.jsxs)("div",{className:"flex flex-col h-full min-h-0",children:[(0,a.jsx)("div",{className:"flex flex-col items-center text-center flex-shrink-0 ".concat(i?"pt-12":"pt-4"),children:(0,a.jsxs)("div",{className:"px-6 pt-6 pb-4",children:[(0,a.jsxs)("h2",{className:"text-2xl text-text-primary font-bold mb-2",children:["Merge $",P.toFixed(2)," in positions"]}),(0,a.jsx)("p",{className:"text-text-secondary text-pretty",children:"This will merge all eligible market positions."})]})}),v===tv.b.Start||v===tv.b.InProgress?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex-1 flex flex-col relative",children:[(0,a.jsx)("div",{ref:I,className:"overflow-y-auto flex-1 max-h-[45vh]",children:R.map(e=>(0,a.jsx)(tj,{market:e,type:"merge"},e.conditionId))}),C&&(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-10 pointer-events-none bg-gradient-to-t from-background to-transparent"})]}),(0,a.jsx)("div",{className:"mt-3 flex-shrink-0 ".concat(i?"px-4 pb-2":""),children:(0,a.jsx)(_.$,{onClick:O.onClick,disabled:O.disabled,className:"w-full h-12 text-base font-medium rounded-lg transition-all",children:O.text})})]}):null,v===tv.b.Success&&(0,a.jsx)(tN,{message:"You successfully merged all your eligible positions.",onClick:t}),v===tv.b.Failure&&(0,a.jsx)(tw,{onClick:T})]})]})},a0=e=>{let t,r,s,n,i,c,d,m,u,x,h,p=(0,o.c)(28),{open:f,onOpenChange:g,onMergeResult:y,optimisticallyRefresh:j}=e,[v,b]=(0,l.useState)(!1);p[0]!==f?(t=()=>{b(f)},r=[f],p[0]=f,p[1]=t,p[2]=r):(t=p[1],r=p[2]),(0,l.useEffect)(t,r),p[3]!==g?(s=()=>{(0,tx.M9)()?b(!1):g(!1)},p[3]=g,p[4]=s):s=p[4];let k=s;p[5]!==g?(n=e=>{b(e),e||setTimeout(()=>{g(!1)},500)},p[5]=g,p[6]=n):n=p[6];let w=n;return p[7]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(tm.Yo,{className:"fixed inset-0 bg-black/40 z-[calc(var(--zIndices-drawer)+15)]"}),p[7]=i):i=p[7],p[8]!==k||p[9]!==y||p[10]!==j?(c=(0,a.jsxs)(tm.SA,{children:[i,(0,a.jsx)(tm.BP,{className:"z-[calc(var(--zIndices-drawer)+15)] fixed bottom-0 left-0 right-0 flex flex-col rounded-t-3xl bg-background w-full max-h-[90vh]",children:(0,a.jsx)(aJ,{closeModal:k,onMergeResult:y,optimisticallyRefresh:j,isMobile:!0})})]}),p[8]=k,p[9]=y,p[10]=j,p[11]=c):c=p[11],p[12]!==w||p[13]!==v||p[14]!==c?(d=(0,a.jsx)(eM.$U,{lessThan:"lg",children:(0,a.jsx)(tm.ed,{shouldScaleBackground:!1,open:v,onOpenChange:w,modal:!0,dismissible:!0,children:c})}),p[12]=w,p[13]=v,p[14]=c,p[15]=d):d=p[15],p[16]!==k?(m=e=>{e||k()},p[16]=k,p[17]=m):m=p[17],p[18]!==k||p[19]!==y||p[20]!==j?(u=(0,a.jsx)(td.Cf,{children:(0,a.jsx)(aJ,{closeModal:k,onMergeResult:y,optimisticallyRefresh:j,isMobile:!1})}),p[18]=k,p[19]=y,p[20]=j,p[21]=u):u=p[21],p[22]!==m||p[23]!==u?(x=(0,a.jsx)(eM.$U,{greaterThanOrEqual:"lg",children:(0,a.jsx)(td.lG,{defaultOpen:!0,onOpenChange:m,children:u})}),p[22]=m,p[23]=u,p[24]=x):x=p[24],p[25]!==x||p[26]!==d?(h=(0,a.jsxs)(a.Fragment,{children:[d,x]}),p[25]=x,p[26]=d,p[27]=h):h=p[27],h};var a1=r(923430),a2=r(839237),a3=r(620361);let a5=async e=>{let[t,r,a]=e.queryKey,s=[];try{s=JSON.parse(a)}catch(e){}if(!s.length)return{};let l=await (0,a2.v$)(s,"aggregate");if(!l.length)return{};let n=Object.entries((0,r7.a4)(l)),i=[];if(n.length){let e=n.map(e=>{let[t,r]=e;return(0,a3.sc)(t,r)});i=(await Promise.all(e)).flat()}else{let e=(0,r7.NV)(l);i=await (0,a3.sc)(void 0,e)}let o=(0,r7.xr)(i),c=(0,a1.S7)(o);return l.reduce((e,t)=>{let[r,a]=(0,a1.gI)(t,c);return r&&r.color&&a&&a.color&&(e[t.slug]=[r.color,a.color]),e},{})};function a4(e,t){return t.eslug&&(0,r7.qO)("slug",t.eslug).href===rq.a.Sports&&e.add(t.eslug),e}var a7=r(750627),a6=r(579836),a8=r(559993),a9=r(343386),se=r(333199),st=r(96605),sr=r(30993),sa=r(730879),ss=r(102544),sl=r(915583),sn=r(278320),si=r(454880),so=r(760358),sc=r(46562),sd=r(458635),sm=r(25441),su=r(639871),sx=r(931822),sh=r(896150);let sp=l.createContext({}),sf=e=>{let t,r,s,i=(0,o.c)(12),{market:c,mode:d,children:u}=e,x=(0,se.S)(),{redeem:h,orderCreationState:p,redemptionValue:g}=(e=>{let{positions:t}=(0,su.B)(),{switchChainAsync:r}=(0,so.R)(),{enqueueTransaction:a}=(0,sx.Fn)(),{generateApiCreds:s}=(0,r2.Gx)(),{triggerAllApprovals:i}=(0,sd.Fk)(),{deploySafe:c}=(0,n.nb)(),d=l.useRef(null),m=l.useRef(null),[u,x]=l.useState("rest"),h=l.useMemo(()=>e.conditionId,[e.conditionId]),p=(0,sm.A)(h),g=l.useMemo(()=>(null!=t?t:[]).map(e=>((e,t)=>{var r,a;return{...e,netQuantity:null!=(a=null==t||null==(r=t[Number(null==e?void 0:e.outcomeIndex)])?void 0:r.toString())?a:e.netQuantity}})(e,p.map(e=>(0,f.wD)(e.toFixed(6))))),[t,p]),y=l.useMemo(()=>g.reduce((e,t)=>e.add((0,eD.Ff)(t)),aT.XK),[g]),j=(()=>{let e,t,r=(0,o.c)(14),{authenticated:a}=(0,L.Um)(),{accountWalletPreferences:s}=(0,aZ.A)(),{chainId:l,address:i,proxyAddress:c,authenticationType:d}=(0,n.F7)(),{clob:m}=(0,r2.Gx)(),{areAllAllowancesApproved:u,isUpdatingAllowances:x}=(0,sd.Fk)(),{isSafeDeployed:h}=(0,n.nb)();r[0]===Symbol.for("react.memo_cache_sentinel")?(e={chainId:F.MN.chainId},r[0]=e):e=r[0];let p=(0,sc.N3)(e),f=(0,se.S)(),g=(0,si.A)(l),y=(0,si.A)(h),j=(0,si.A)(d),v=(0,si.A)(m),b=(0,si.A)(u),k=(0,si.A)(x),w=(0,si.A)(s),N=(0,si.A)(i),S=(0,si.A)(c),C=(0,si.A)(p),_=(0,si.A)(a),A=(0,si.A)(f);return r[1]!==w||r[2]!==N||r[3]!==b||r[4]!==_||r[5]!==j||r[6]!==g||r[7]!==v||r[8]!==y||r[9]!==k||r[10]!==A||r[11]!==S||r[12]!==C?(t={chainIdRef:g,isSafeDeployedRef:y,authenticationTypeRef:j,clobRef:v,areAllAllowancesApprovedRef:b,isUpdatingAllowancesRef:k,accountWalletPreferencesRef:w,addressRef:N,proxyAddressRef:S,signerRef:C,authenticatedRef:_,permissionsRef:A},r[1]=w,r[2]=N,r[3]=b,r[4]=_,r[5]=j,r[6]=g,r[7]=v,r[8]=y,r[9]=k,r[10]=A,r[11]=S,r[12]=C,r[13]=t):t=r[13],t})(),v=(0,si.A)(g),b=l.useCallback(async function(){for(var t=arguments.length,l=Array(t),n=0;n<t;n++)l[n]=arguments[n];let o=v.current,{chainIdRef:{current:u},isSafeDeployedRef:{current:h},authenticationTypeRef:{current:p},clobRef:{current:f},areAllAllowancesApprovedRef:{current:g},isUpdatingAllowancesRef:{current:b},accountWalletPreferencesRef:{current:k},addressRef:{current:w},proxyAddressRef:{current:N},signerRef:{current:S},authenticatedRef:{current:C},permissionsRef:{current:_}}=j,[A,I,R]=l;if(C&&(null==_?void 0:_.canRedeem))try{F.MN.chainId!==u&&(x("switching-networks"),await r({chainId:F.MN.chainId})),h||"eoa"!==p||(x("deploy-safe"),await c()),(0,r0.p4)(f,null!=p?p:void 0)&&"eoa"===p&&(x("generate-api-key"),await s(w,N,S)),(0,r0.QC)({authenticationType:null!=p?p:void 0,areAllAllowancesApproved:null!=g&&g,isUpdatingAllowances:null!=b&&b})&&"eoa"===p&&(x("sign-approvals"),await i(!1,"MobileDrawer")),"eoa"===p&&x("submitting");let t=[eT.gH.from(0),eT.gH.from(0)];(null==o?void 0:o.length)&&o.forEach(e=>{t[parseInt(e.outcomeIndex,10)]=eT.gH.from(e.netQuantity)});let l=(0,tp.n)({chainId:F.MN.chainId,chainConfig:F.ol,conditionId:e.conditionId,negRisk:!!(null==e?void 0:e.negRisk),outcomeCount:e.outcomes.length,amounts:t}),n=(0,aY.eY)(y),j=a(l,F.lg.Matic,aG.cI.Redeem,"NA",y,y,e,n,(null==k?void 0:k.advancedMode)?k.gasPreference:null,(null==k?void 0:k.advancedMode)?k.customGasPrice:null,null,null,null,!1);"magic"===p&&(x("success"),n.shareValue.some(e=>e>.01)&&(null==R||R(A,I)),m.current&&clearTimeout(m.current),d.current&&clearTimeout(d.current),m.current=setTimeout(()=>{x("rest")},3e3)),await j&&"eoa"===p&&(x("success"),n.shareValue.some(e=>e>.01)&&(null==R||R(A,I)),m.current=setTimeout(()=>{x("rest")},3e3))}catch(e){x("rest"),(0,ea.H4)(e,"[BuySellWidgetV2 > BuySellButton > handleClick]",null!=N?N:"")}},[a,y,r,c,s,i,x,j]);return l.useEffect(()=>()=>{d.current&&clearTimeout(d.current),m.current&&clearTimeout(m.current)},[]),l.useMemo(()=>({redeem:b,orderCreationState:u,redemptionValue:parseFloat((0,f.e5)(y))}),[b,u,y])})(c),{sell:y,orderCreationState:j,sellValue:v}=(e=>{let t=l.useRef(null),r=l.useRef(null),{setShares:a,setAmountUpdateLocation:s,setHasClicked:i,setHasTouchedShares:c,setHasTouchedPrice:d}=(0,rY.Dh)(),{switchChainAsync:u}=(0,so.R)(),{generateApiCreds:x}=(0,r2.Gx)(),{triggerAllApprovals:h}=(0,sd.Fk)(),{deploySafe:p}=(0,n.nb)(),f=(0,sn.c)((0,m.s)()),[g,y]=l.useState("rest"),j=l.useCallback(()=>{a(""),s("click"),i(!1),d(!1),c(!1)},[a,d,c,i,s]),v=(()=>{let e,t,r=(0,o.c)(15),{authenticated:a,authenticationType:s}=(0,L.Um)(),{isOrderInvalid:l,orderError:i}=(0,sh.V)(),{chainId:c,proxyAddress:d,address:m}=(0,n.F7)(),u=(0,se.S)();r[0]===Symbol.for("react.memo_cache_sentinel")?(e={chainId:F.MN.chainId},r[0]=e):e=r[0];let x=(0,sc.N3)(e),{clob:h}=(0,r2.Gx)(),{areAllAllowancesApproved:p,isUpdatingAllowances:f}=(0,sd.Fk)(),{isSafeDeployed:g}=(0,n.nb)(),y=(0,si.A)(l),j=(0,si.A)(i),v=(0,si.A)(c),b=(0,si.A)(g),k=(0,si.A)(s),w=(0,si.A)(h),N=(0,si.A)(p),S=(0,si.A)(f),C=(0,si.A)(m),_=(0,si.A)(d),A=(0,si.A)(x),I=(0,si.A)(a),R=(0,si.A)(u);return r[1]!==C||r[2]!==N||r[3]!==I||r[4]!==k||r[5]!==v||r[6]!==w||r[7]!==y||r[8]!==b||r[9]!==S||r[10]!==j||r[11]!==R||r[12]!==_||r[13]!==A?(t={isOrderInvalidRef:y,orderErrorRef:j,chainIdRef:v,isSafeDeployedRef:b,authenticationTypeRef:k,clobRef:w,areAllAllowancesApprovedRef:N,isUpdatingAllowancesRef:S,addressRef:C,proxyAddressRef:_,signerRef:A,authenticatedRef:I,permissionsRef:R},r[1]=C,r[2]=N,r[3]=I,r[4]=k,r[5]=v,r[6]=w,r[7]=y,r[8]=b,r[9]=S,r[10]=j,r[11]=R,r[12]=_,r[13]=A,r[14]=t):t=r[14],t})(),b=(0,eK.d)(),k=l.useCallback(async function(){for(var s=arguments.length,l=Array(s),n=0;n<s;n++)l[n]=arguments[n];let{isOrderInvalidRef:{current:i},orderErrorRef:{current:o},chainIdRef:{current:c},isSafeDeployedRef:{current:d},authenticationTypeRef:{current:k},clobRef:{current:w},areAllAllowancesApprovedRef:{current:N},isUpdatingAllowancesRef:{current:S},addressRef:{current:C},proxyAddressRef:{current:_},signerRef:{current:A},authenticatedRef:{current:I},permissionsRef:{current:R}}=v,[P,M,T]=l;if(I&&(null==R?void 0:R.canSell)){if(i&&o)return void b.error(new eX.$().title("Error").description(o.message));try{F.MN.chainId!==c&&(y("switching-networks"),await u({chainId:F.MN.chainId})),d||"eoa"!==k||(y("deploy-safe"),await p()),(0,r0.p4)(w,null!=k?k:void 0)&&"eoa"===k&&(y("generate-api-key"),await x(null!=C?C:"",null!=_?_:"",null!=A?A:void 0)),(0,r0.QC)({authenticationType:null!=k?k:void 0,areAllAllowancesApproved:null!=N&&N,isUpdatingAllowances:null!=S&&S})&&"eoa"===k&&(y("sign-approvals"),await h(!1,"MobileDrawer")),"eoa"===k&&y("submitting");let s=f({options:{successToast:!1,errorToast:"desktop"===e},tracking:{page:"portfolio",source:"cash-out-modal"}});"magic"===k&&(y("success"),null==T||T(P,M),j(),r.current&&clearTimeout(r.current),t.current=setTimeout(()=>{},2e3),r.current=setTimeout(()=>{y("rest")},3e3));let l=await s;if(l===m.r.GeneralError||l===m.r.SignatureError){b.error(new eX.$().title(m.r.SignatureError?"Request cancelled":"An unexpected error occured")),y("rest");return}"eoa"===k&&(y("success"),j(),null==T||T(P,M),t.current&&clearTimeout(t.current),r.current&&clearTimeout(r.current),t.current=setTimeout(()=>{},2e3),r.current=setTimeout(()=>{a(""),y("rest")},3e3))}catch(t){y("rest"),b.error(new eX.$().title("An unexpected error occured")),(0,ea.H4)(t,"portfolio_sell_position_error",null!=_?_:"","high",{orderCreationState:g,mode:e,authenticationType:k,chainId:c,isSafeDeployed:d,areAllAllowancesApproved:N,isUpdatingAllowances:S,permissions:R,hasOrderValidation:i,orderErrorMessage:null==o?void 0:o.message})}}},[f,u,p,x,h,a,e,j,b,v]);return l.useEffect(()=>()=>{t.current&&clearTimeout(t.current),r.current&&clearTimeout(r.current)},[]),l.useMemo(()=>({sell:k,orderCreationState:g,sellValue:0}),[k,g])})(d),b=(0,sn.c)(h),k=(0,sn.c)(y);i[0]!==c.closed||i[1]!==b||i[2]!==k?(t=async function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return c.closed?b(...t):k(...t)},i[0]=c.closed,i[1]=b,i[2]=k,i[3]=t):t=i[3];let w=t,N=c.closed?g:v,S=c.closed?p:j,C=c.closed?x.canRedeem:x.canSell;i[4]!==w||i[5]!==N||i[6]!==S||i[7]!==C?(r={cashOut:w,orderCreationState:S,canCashOut:C,cashOutValue:N},i[4]=w,i[5]=N,i[6]=S,i[7]=C,i[8]=r):r=i[8];let _=r;return i[9]!==u||i[10]!==_?(s=(0,a.jsx)(sp.Provider,{value:_,children:u}),i[9]=u,i[10]=_,i[11]=s):s=i[11],s};var sg=r(798017),sy=r(860085),sj=r(544214),sv=r(396192);let sb=e=>{let t,r,s,n,i,c,d,m=(0,o.c)(24),{handleSuccess:u,market:x,outcomeIndex:h}=e,{cashOut:p,canCashOut:f,orderCreationState:g,cashOutValue:y}=l.useContext(sp),{confetti:j}=(0,sv.k)(),v=(0,tu.P2)(),b=(0,eQ.jE)(),{proxyAddress:k}=(0,L.Um)(),w=(0,eK.d)();m[0]===Symbol.for("react.memo_cache_sentinel")?(t={inProgress:!1,rollbackData:null},m[0]=t):t=m[0];let N=l.useRef(t);m[1]!==g||m[2]!==b||m[3]!==w?(r=()=>{N.current.inProgress&&"rest"===g&&(N.current.rollbackData&&(b.setQueryData(N.current.rollbackData.queryKey,N.current.rollbackData.previousData),w.error(new eX.$().title("Transaction failed or was cancelled."))),N.current={inProgress:!1,rollbackData:null})},s=[g,b,w],m[1]=g,m[2]=b,m[3]=w,m[4]=r,m[5]=s):(r=m[4],s=m[5]),l.useEffect(r,s),m[6]!==v||m[7]!==p||m[8]!==y||m[9]!==j||m[10]!==u||m[11]!==(null==x?void 0:x.closed)||m[12]!==(null==x?void 0:x.conditionId)||m[13]!==(null==x?void 0:x.slug)||m[14]!==h||m[15]!==k||m[16]!==b?(n=async(e,t)=>{let r=null==x?void 0:x.conditionId,a=null;if(r&&k&&void 0!==h){let e=er.l[Y.k.Positions].optimistic(k),t=b.getQueryData(e);if(t){let s=new Map(t),l=(0,Z.Gy)({conditionId:r,outcomeIndex:String(h)}),n=s.get(l)||{isDirty:!1,updatedAt:Date.now(),position:void 0,market:void 0};s.set(l,{...n,isDirty:!0,updatedAt:Date.now(),position:void 0}),a={queryKey:e,previousData:t},b.setQueryData(e,s)}}N.current={inProgress:!0,rollbackData:a},p(e,t,(e,t)=>{N.current&&(N.current.rollbackData=null),j({e:e,info:t}),u(),v.trackEvent(sy.sV.SellPositionsSuccess,{closed:null==x?void 0:x.closed,slug:null==x?void 0:x.slug,value:y})}),v.trackEvent(sy.sV.SellPositionsModalClick,{closed:null==x?void 0:x.closed,slug:null==x?void 0:x.slug,value:y})},m[6]=v,m[7]=p,m[8]=y,m[9]=j,m[10]=u,m[11]=null==x?void 0:x.closed,m[12]=null==x?void 0:x.conditionId,m[13]=null==x?void 0:x.slug,m[14]=h,m[15]=k,m[16]=b,m[17]=n):n=m[17],null==x||x.closed,null==x||x.slug,null==x||x.conditionId;let S=n;e:{if(!f&&!x){i="Cash out";break e}if(!f){i="Unavailable";break e}i=(null==x?void 0:x.closed)===!0?"Redeem":"Cash out"}let C=i;m[18]===Symbol.for("react.memo_cache_sentinel")?(c={scale:.9999},m[18]=c):c=m[18];let _=!f||!x;return m[19]!==C||m[20]!==S||m[21]!==g||m[22]!==_?(d=(0,a.jsx)(ef.P.div,{layout:"preserve-aspect",style:c,className:"overflow-hidden w-full",children:(0,a.jsx)(sj.Q,{color:"green",label:C,disabled:_,orderCreationState:g,type:"button",onTap:S,height:48,shadowHeight:5,hoverHeightOffset:2})}),m[19]=C,m[20]=S,m[21]=g,m[22]=_,m[23]=d):d=m[23],d};sb.displayName="CashOutButton";var sk=r(363760),sw=r(937256),sN=r(643040);let sS=e=>{let t,r,s,l,n,i,c,d=(0,o.c)(17),{isLoading:m,isOpen:u,amount:x,shares:h,avgPrice:p,className:f}=e,g=!!h&&!!p,y=!!m&&!!u,j="flex flex-col justify-center items-center gap-2 bg-[#E6F8EE] dark:bg-[var(--legacy-gray6)] rounded-md ".concat(g||y?"min-h-[100px] h-[100px] max-h-[100px]":"min-h-[72px] h-[72px] max-h-[72px]"," ").concat(void 0===f?"":f);return d[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("span",{className:"text-sm font-semibold text-[var(--legacy-shadeBlack)] !leading-[16px]",children:"Receive"}),d[0]=t):t=d[0],d[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)(eo.V,{}),d[1]=r):r=d[1],d[2]!==x?(s=x||(0,a.jsx)(sw.A,{css:{width:"50px",height:"24px",display:"inline-block"}}),d[2]=x,d[3]=s):s=d[3],d[4]!==s?(l=(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[r,(0,a.jsx)("span",{className:"text-lg font-bold text-green-600 dark:text-green-500 !leading-7 tracking-[0.15px]",children:s})]}),d[4]=s,d[5]=l):l=d[5],d[6]!==p||d[7]!==g||d[8]!==h?(n=g&&(0,a.jsx)("span",{className:"text-xs font-medium text-[var(--legacy-gray3)] !leading-[15px]",children:"Selling ".concat(h," shares @ ").concat(p)}),d[6]=p,d[7]=g,d[8]=h,d[9]=n):n=d[9],d[10]!==y?(i=y?(0,a.jsx)("span",{className:"text-xs font-medium text-[var(--legacy-gray3)] !leading-[15px]",children:(0,a.jsx)(sw.A,{css:{width:"150px",height:"14px",display:"inline-block"}})}):null,d[10]=y,d[11]=i):i=d[11],d[12]!==j||d[13]!==l||d[14]!==n||d[15]!==i?(c=(0,a.jsxs)("div",{className:j,children:[t,l,n,i]}),d[12]=j,d[13]=l,d[14]=n,d[15]=i,d[16]=c):c=d[16],c},sC=e=>{let t,r,s=(0,o.c)(26),{item:l,market:n}=e,{originalPosition:i}=l,{enrichedPosition:c}=(0,sN.z)(i,-1,n),{usdcReceived:d,averagePrice:m}=(0,sk.T)();e:{var u;let e,r,a,i,o,x;if(!c){let e;s[0]===Symbol.for("react.memo_cache_sentinel")?(e={shareQuantity:"--",averagePrice:"--",totalReturn:"--",totalReturnColor:"black",amountToReceive:"--",cost:"--"},s[0]=e):e=s[0],t=e;break e}let h=null!=(u=null==n?void 0:n.orderPriceMinTickSize)?u:.01;s[1]!==h?(e=(0,r8.li)(h),s[1]=h,s[2]=e):e=s[2];let p=e,g=c.qty;s[3]!==m||s[4]!==p?(r=t5()(100*m).format(3===p?"0.0":"0"),s[3]=m,s[4]=p,s[5]=r):r=s[5];let y="".concat(r,"\xa2"),j="".concat(c.totalReturn.totalProfit," (").concat(c.totalReturn.totalProfitPercent,")"),v="green"===c.totalReturn.color||"red"===c.totalReturn.color?c.totalReturn.color:"black";s[6]!==c?(a=c?(0,f.dL)(c.value.currentMarketValue):"--",s[6]=c,s[7]=a):a=s[7],s[8]!==l.currentMarketValue||s[9]!==n.closed||s[10]!==d?(i=n.closed?(0,f.dL)(l.currentMarketValue):(0,f.dL)(d),s[8]=l.currentMarketValue,s[9]=n.closed,s[10]=d,s[11]=i):i=s[11],s[12]!==c.value.cost?(o="-"===c.value.cost?"-":(0,f.dL)(c.value.cost),s[12]=c.value.cost,s[13]=o):o=s[13],s[14]!==c.qty||s[15]!==i||s[16]!==o||s[17]!==y||s[18]!==j||s[19]!==v||s[20]!==a?(x={shareQuantity:g,averagePrice:y,totalReturn:j,totalReturnColor:v,amount:a,amountToReceive:i,cost:o},s[14]=c.qty,s[15]=i,s[16]=o,s[17]=y,s[18]=j,s[19]=v,s[20]=a,s[21]=x):x=s[21],t=x}let{shareQuantity:x,averagePrice:h,amountToReceive:p}=t,g=n.closed?void 0:x,y=n.closed?void 0:h;return s[22]!==p||s[23]!==g||s[24]!==y?(r=(0,a.jsx)(sS,{amount:p,shares:g,avgPrice:y,isLoading:!1}),s[22]=p,s[23]=g,s[24]=y,s[25]=r):r=s[25],r};var s_=r(784557),sA=r.n(s_),sI=r(327315);let sR=e=>{let t,r,s,l,n,i,c,d,m,u=(0,o.c)(25),{market:x,image:h,outcome:p,mode:f,onClose:y}=e;u[0]!==p?(t=(0,eG.capitalize)(p),u[0]=p,u[1]=t):t=u[1];let j="".concat(x.closed?"Redeem":"Sell"," ").concat(t);u[2]!==x.groupItemTitle||u[3]!==j?(r={heading:j,subheading:x.groupItemTitle},u[2]=x.groupItemTitle,u[3]=j,u[4]=r):r=u[4];let{heading:v,subheading:b}=r;u[5]!==f||u[6]!==y?(s="desktop"===f&&(0,a.jsx)("div",{className:"flex h-0 overflow-visible w-full justify-end -translate-y-1.5",children:(0,a.jsx)(td.HM,{"aria-label":"Close",asChild:!0,children:(0,a.jsx)(g.$,{variant:"tertiary",className:"!w-6 !h-6 !p-0 !bg-transparent hover:!bg-shade-medium/20",onClick:y,children:(0,a.jsx)(sI.b,{className:"!text-text-secondary hover:!text-text-primary cursor-pointer",size:24})})})}),u[5]=f,u[6]=y,u[7]=s):s=u[7];let k="mb-2 relative overflow-hidden ".concat("desktop"===f?"w-[60px] h-[60px] min-w-[60px] min-h-[60px] max-w-[60px] max-h-[60px]":"w-[42px] h-[42px] min-w-[42px] min-h-[42px] max-w-[42px] max-h-[42px]");return u[8]!==h?(l=(0,a.jsx)(sA(),{src:h,alt:"Redeem icon",fill:!0,className:"object-cover rounded",priority:!0}),u[8]=h,u[9]=l):l=u[9],u[10]!==k||u[11]!==l?(n=(0,a.jsx)("div",{className:k,children:l}),u[10]=k,u[11]=l,u[12]=n):n=u[12],u[13]!==v?(i=(0,a.jsx)("span",{className:"text-base font-semibold text-[var(--legacy-shadeBlack)] !leading-6 tracking-[0.15px]",children:v}),u[13]=v,u[14]=i):i=u[14],u[15]!==x.groupItemTitle||u[16]!==b?(c=!!x.groupItemTitle&&(0,a.jsx)("span",{className:"text-xs font-medium text-[var(--legacy-gray3)] !leading-[18px] tracking-[0.15px]",children:b}),u[15]=x.groupItemTitle,u[16]=b,u[17]=c):c=u[17],u[18]!==i||u[19]!==c?(d=(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[i,c]}),u[18]=i,u[19]=c,u[20]=d):d=u[20],u[21]!==d||u[22]!==s||u[23]!==n?(m=(0,a.jsxs)("div",{className:"flex flex-col items-center relative",children:[s,n,d]}),u[21]=d,u[22]=s,u[23]=n,u[24]=m):m=u[24],m},sP=e=>{var t;let r,s,l,n,i,c,d,m,u,x,h,p,f=(0,o.c)(47),{market:y,item:j,setIsDialogOpen:v,mode:b,optimisticallyRefresh:k}=e,w=(0,tu.P2)(),N=j.isClosed?"dateAndSlug":"slug";f[0]!==j.eslug||f[1]!==j.slug||f[2]!==N?(r=(0,r7.qO)(N,j.eslug,j.slug),f[0]=j.eslug,f[1]=j.slug,f[2]=N,f[3]=r):r=f[3];let S=r;f[4]!==j.originalPosition.market.id||f[5]!==j.outcomeIndex||f[6]!==j.qty||f[7]!==S?(s=((e,t)=>e&&e.url?"/event"===e.url.substring(0,6)||"/market"===e.url.substring(0,7)?"".concat(e.url,"?").concat(t.toString()):e.url:e)(S,new URLSearchParams({side:sr.Side.SELL,orderType:ss.ZN.Market,outcomeIndex:j.outcomeIndex.toString(),shares:j.qty,conditionId:j.originalPosition.market.id})),f[4]=j.originalPosition.market.id,f[5]=j.outcomeIndex,f[6]=j.qty,f[7]=S,f[8]=s):s=f[8];let C=s;f[9]!==j.isClosed||f[10]!==j.market?(l={closed:j.isClosed,groupItemTitle:j.market},f[9]=j.isClosed,f[10]=j.market,f[11]=l):l=f[11];let _=l,A=(0,sg.j$)(y),I=Array.isArray(A)&&!!(null==A||null==(t=A[0])?void 0:t.price)&&!j.isClosed||j.isClosed;return f[12]!==v?(n=()=>v(!1),f[12]=v,f[13]=n):n=f[13],f[14]!==j.icon||f[15]!==j.outcome||f[16]!==b||f[17]!==_||f[18]!==n?(i=(0,a.jsx)(sR,{market:_,image:j.icon,outcome:j.outcome,onClose:n,mode:b}),f[14]=j.icon,f[15]=j.outcome,f[16]=b,f[17]=_,f[18]=n,f[19]=i):i=f[19],f[20]!==I||f[21]!==j||f[22]!==y?(c=y&&j&&I?(0,a.jsx)(sC,{market:y,item:j}):(0,a.jsx)(sS,{isLoading:!0,isOpen:!j.isClosed}),f[20]=I,f[21]=j,f[22]=y,f[23]=c):c=f[23],f[24]!==k||f[25]!==v?(d=()=>{v(!1),k()},f[24]=k,f[25]=v,f[26]=d):d=f[26],f[27]!==j.outcomeIndex||f[28]!==y||f[29]!==d?(m=(0,a.jsx)("div",{className:"flex flex-1 overflow-hidden justify-center",children:(0,a.jsx)(sb,{handleSuccess:d,market:y,outcomeIndex:j.outcomeIndex})}),f[27]=j.outcomeIndex,f[28]=y,f[29]=d,f[30]=m):m=f[30],f[31]!==w||f[32]!==j.isClosed||f[33]!==j.slug||f[34]!==S||f[35]!==C||f[36]!==v?(u=!j.isClosed&&(0,a.jsx)(tg(),{href:S.href,as:C,passHref:!0,legacyBehavior:!0,children:(0,a.jsx)(g.$,{variant:"primary",color:"transparent",onClick:()=>{v(!1),w.trackEvent(sy.sV.SellPositionsEditClick,{slug:j.slug})},className:"!text-text-brand hover:!text-text-brand-hover !text-sm underline decoration-2 decoration-transparent transition-[text-decoration-color] duration-100 ease-out hover:!bg-transparent hover:decoration-text-brand-hover",children:"Edit order"})}),f[31]=w,f[32]=j.isClosed,f[33]=j.slug,f[34]=S,f[35]=C,f[36]=v,f[37]=u):u=f[37],f[38]!==m||f[39]!==u?(x=(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[m,u]}),f[38]=m,f[39]=u,f[40]=x):x=f[40],f[41]!==x||f[42]!==c?(h=(0,a.jsx)("div",{className:"flex flex-col gap-2",children:(0,a.jsxs)("div",{className:"flex flex-col w-full gap-4",children:[c,x]})}),f[41]=x,f[42]=c,f[43]=h):h=f[43],f[44]!==h||f[45]!==i?(p=(0,a.jsxs)("div",{className:"flex flex-col w-full pt-3 gap-3",children:[i,h]}),f[44]=h,f[45]=i,f[46]=p):p=f[46],p};sP.displayName="SellContent";var sM=r(912961);let sT=e=>{var t,r,s,l,n,i;let c,d,m,u,x,h,p,f=(0,o.c)(24),{item:g,isDialogOpen:y,setIsDialogOpen:j,mode:v,optimisticallyRefresh:b}=e,k=null==g||null==(r=g.originalPosition)||null==(t=r.market)?void 0:t.id;f[0]!==k?(c=er.l[Y.k.Rewards].marketToTrade(k),f[0]=k,f[1]=c):c=f[1];let w=!!k&&y;f[2]!==c||f[3]!==w?(d={queryKey:c,queryFn:tr.Nu,enabled:w},f[2]=c,f[3]=w,f[4]=d):d=f[4];let{data:N}=(0,et.I)(d),S=null!=(n=null==N||null==(l=N.events)||null==(s=l[0])?void 0:s.slug)?n:"";f[5]!==N?(m=[N],f[5]=N,f[6]=m):m=f[6],f[7]!==S||f[8]!==m?(u={slug:S,markets:m},f[7]=S,f[8]=m,f[9]=u):u=f[9];let C=u;f[10]!==g.qty?(x=(e=>{try{let t=parseFloat(e);if(t>0)return t;return 0}catch(e){return 0}})(g.qty),f[10]=g.qty,f[11]=x):x=f[11];let _=x;f[12]!==k||f[13]!==N?(h=!!N&&!!k&&(null==(i=N.conditionId)?void 0:i.toLowerCase())===k.toLowerCase(),f[12]=k,f[13]=N,f[14]=h):h=f[14];let A=h;return f[15]!==A||f[16]!==C||f[17]!==g||f[18]!==N||f[19]!==v||f[20]!==b||f[21]!==_||f[22]!==j?(p=A?(0,a.jsx)(sl.Xe,{event:C,market:N,children:(0,a.jsx)(rY.Rc,{forcedOrderType:ss.ZN.Market,initialShares:_,forcedSelectedOutcomeIdx:Number(g.outcomeIndex),forcedSide:sr.Side.SELL,children:(0,a.jsx)(sa.e3,{market:N,prefetch:{book:!0,lastPrice:!0},children:(0,a.jsx)(sM.hn,{markets:[N],children:(0,a.jsx)(sf,{market:N,mode:v,children:(0,a.jsx)(sP,{item:g,market:N,setIsDialogOpen:j,mode:v,optimisticallyRefresh:b})})})})})}):(0,a.jsx)(sP,{item:g,setIsDialogOpen:j,mode:v,optimisticallyRefresh:b}),f[15]=A,f[16]=C,f[17]=g,f[18]=N,f[19]=v,f[20]=b,f[21]=_,f[22]=j,f[23]=p):p=f[23],p};var sD=r(66892),sL=r(845588),sE=r(423499);let sF=[{label:"MARKET",value:eb.Market},{value:eb.LatestPrice,label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"AVG"}),(0,a.jsx)(sL.A,{size:10}),(0,a.jsx)("span",{children:"NOW"})]}),align:"center",tooltip:e=>{let{label:t}=e;return(0,a.jsxs)("div",{className:"flex flex-row items-center gap-x-1 cursor-pointer",children:[t,(0,a.jsx)(rs.m_,{content:(0,a.jsxs)("span",{className:"text-xs font-medium py-2 tracking-tight",children:["Your average buy price per share vs the current price.",(0,a.jsx)("br",{}),(0,a.jsx)("a",{href:"https://docs.polymarket.com/polymarket-learn/trading/how-are-prices-calculated",target:"_blank",rel:"noopener noreferrer",className:"underline text-text-secondary",children:"How do share prices work?"})]}),children:(0,a.jsx)("div",{className:"flex flex-row items-center gap-x-1 cursor-pointer",children:(0,a.jsx)(sD.A,{size:10})})})]})}},{label:"BET",align:"center",value:eb.Investment},{label:"TO WIN",align:"center",value:eb.ToWin},{label:"VALUE",align:"right",value:eb.Value}],sO=e=>{let t,r,s,l,n,i,c,d=(0,o.c)(23),{onClick:m,isSortedBy:u,isSortedByAscending:x,label:h,leftMarginClassName:p,tooltip:f,align:g}=e,y="flex flex-row items-center ".concat("center"===g?"justify-center":"right"===g?"justify-end":"justify-start");return d[0]!==g||d[1]!==p?(t="center"===g?(0,a.jsx)("div",{className:"w-3 h-3 mr-1 ".concat(p||"")}):null,d[0]=g,d[1]=p,d[2]=t):t=d[2],d[3]!==h||d[4]!==f?(r=f?(0,a.jsx)(a.Fragment,{children:f({label:h})}):h,d[3]=h,d[4]=f,d[5]=r):r=d[5],d[6]!==r?(s=(0,a.jsx)("span",{className:"text-[11px] tracking-[2px] leading-[15px]",children:r}),d[6]=r,d[7]=s):s=d[7],d[8]!==u||d[9]!==x?(l=u?x?(0,a.jsx)(sE.A,{}):(0,a.jsx)(rc.A,{}):null,d[8]=u,d[9]=x,d[10]=l):l=d[10],d[11]!==m||d[12]!==s||d[13]!==l?(n=(0,a.jsxs)(_.$,{variant:"ghost",className:"px-[6px] flex flex-row items-center cursor-pointer gap-x-1 py-[2px] h-auto text-text-secondary",onClick:m,children:[s,l]}),d[11]=m,d[12]=s,d[13]=l,d[14]=n):n=d[14],d[15]!==g||d[16]!==u?(i=u||"right"===g?null:(0,a.jsx)("div",{className:"w-3 h-3 ml-1"}),d[15]=g,d[16]=u,d[17]=i):i=d[17],d[18]!==y||d[19]!==t||d[20]!==n||d[21]!==i?(c=(0,a.jsx)(a8.nd,{className:"py-4 px-4 sticky bg-background z-1",children:(0,a.jsxs)("div",{className:y,children:[t,n,i]})}),d[18]=y,d[19]=t,d[20]=n,d[21]=i,d[22]=c):c=d[22],c},sz=()=>{let e,t,r,s=(0,o.c)(11),{sortPortfolioMarketsBy:l,setSortPortfolioMarketsBy:n,sortPortfolioMarketsDirection:i,setSortPortfolioMarketsDirection:c}=eP();s[0]!==n||s[1]!==c||s[2]!==l||s[3]!==i?(e=e=>{l===e&&c(i===ek.Asc?ek.Desc:ek.Asc),n(e)},s[0]=n,s[1]=c,s[2]=l,s[3]=i,s[4]=e):e=s[4];let d=e;return s[5]!==d||s[6]!==l||s[7]!==i?(t=sF.map((e,t)=>{var r;return(0,a.jsx)(sO,{align:null!=(r=e.align)?r:"left",label:e.label,tooltip:e.tooltip,onClick:()=>d(e.value),isSortedBy:l===e.value,isSortedByAscending:i===ek.Asc},t)}),s[5]=d,s[6]=l,s[7]=i,s[8]=t):t=s[8],s[9]!==t?(r=(0,a.jsx)(a8.A0,{children:(0,a.jsx)(a8.Hj,{className:"hover:bg-transparent",children:t})}),s[9]=t,s[10]=r):r=s[10],r};var sB=r(194430),sV=r(904154);let s$=e=>{let t,r,s,l,n=(0,o.c)(16),{marketName:i,marketHref:c,marketImage:d,shares:m,priceAvg:u,outcomeIndex:x,outcome:h,teamColor:p}=e;n[0]!==m?(t=(0,f.Ym)(m),n[0]=m,n[1]=t):t=n[1];let g="".concat(t," share").concat(1===Number(m)?"":"s");n[2]!==u?(r=(0,eE.RM)(u),n[2]=u,n[3]=r):r=n[3],n[4]!==g||n[5]!==r?(s={formattedShares:g,formattedPriceAvg:r},n[4]=g,n[5]=r,n[6]=s):s=n[6];let{formattedShares:y,formattedPriceAvg:j}=s;return n[7]!==j||n[8]!==y||n[9]!==c||n[10]!==d||n[11]!==i||n[12]!==h||n[13]!==x||n[14]!==p?(l=(0,a.jsx)(a8.nA,{className:"px-4 py-3",children:(0,a.jsx)(t7,{marketName:i,marketHref:c,marketImage:d,outcome:h,outcomeIndex:x,teamColor:p,badgeContent:j,subText:y,size:"md"})}),n[7]=j,n[8]=y,n[9]=c,n[10]=d,n[11]=i,n[12]=h,n[13]=x,n[14]=p,n[15]=l):l=n[15],l},sq=e=>{let t,r,s,l,n,i,c,d=(0,o.c)(15),{priceAvg:m,priceCurr:u}=e;d[0]!==m?(t=(0,eE.RM)(m),d[0]=m,d[1]=t):t=d[1],d[2]!==u?(r=(0,eE.RM)(u),d[2]=u,d[3]=r):r=d[3],d[4]!==t||d[5]!==r?(s=[t,r],d[4]=t,d[5]=r,d[6]=s):s=d[6];let[x,h]=s;return d[7]!==x?(l=(0,a.jsx)("span",{className:"text-neutral-600 font-normal block w-[40px] text-right",children:x}),d[7]=x,d[8]=l):l=d[8],d[9]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)("span",{className:"text-neutral-300",children:(0,a.jsx)(sL.A,{size:10})}),d[9]=n):n=d[9],d[10]!==h?(i=(0,a.jsx)("span",{className:"text-text-primary font-normal block w-[40px] text-left",children:h}),d[10]=h,d[11]=i):i=d[11],d[12]!==l||d[13]!==i?(c=(0,a.jsx)(a8.nA,{children:(0,a.jsxs)("div",{className:"flex flex-row items-center justify-center gap-1 ml-[-18px]",children:[l,n,i]})}),d[12]=l,d[13]=i,d[14]=c):c=d[14],c},sH=e=>{let t,r,s,l,n,i=(0,o.c)(17),{currentValue:c,profit:d,profitPercent:m,isClosed:u}=e,x=0>parseFloat(d),h=u?x?"lost":"won":"active";i[0]!==c?(t=(0,eE.jf)(c),i[0]=c,i[1]=t):t=i[1],i[2]!==d?(r=(0,eE.jf)(d,{signDisplay:"exceptZero"}),i[2]=d,i[3]=r):r=i[3],i[4]!==m?(s=(0,eE.N1)(m,{signDisplay:"never"}),i[4]=m,i[5]=s):s=i[5],i[6]!==h||i[7]!==t||i[8]!==r||i[9]!==s?(l={value:t,profit:r,profitPercent:s,status:h},i[6]=h,i[7]=t,i[8]=r,i[9]=s,i[10]=l):l=i[10];let p=l,f=u?void 0:p.profit,g=u?void 0:p.profitPercent,y=0>parseFloat(d);return i[11]!==p.status||i[12]!==p.value||i[13]!==f||i[14]!==g||i[15]!==y?(n=(0,a.jsx)(a8.nA,{children:(0,a.jsx)(sV.y,{value:p.value,profit:f,profitPercent:g,status:p.status,isLoss:y,showStatus:!0,size:"md",align:"right"})}),i[11]=p.status,i[12]=p.value,i[13]=f,i[14]=g,i[15]=y,i[16]=n):n=i[16],n},sW=e=>{let t,r,s=(0,o.c)(4),{value:l}=e;s[0]!==l?(t=(0,eE.jf)(l),s[0]=l,s[1]=t):t=s[1];let n=t;return s[2]!==n?(r=(0,a.jsx)(a8.nA,{children:(0,a.jsx)("div",{className:"flex flex-row items-center justify-center",children:(0,a.jsx)("span",{className:"text-neutral-600 font-normal",children:n})})}),s[2]=n,s[3]=r):r=s[3],r},sQ=e=>{let t,r,s,l,n=(0,o.c)(11),{onActionClicked:i,onShareClicked:c,actionLabel:d,isActionDisabled:m,isClosed:u}=e;return n[0]!==d||n[1]!==m||n[2]!==u||n[3]!==i?(t=!m&&(0,a.jsx)(_.$,{onClick:i,variant:u?"outline":"default",className:"h-[32px] min-w-[84px] ".concat(u?"dark:hover:bg-[#44647F]/50 hover:bg-[var(--legacy-gray6)]":""),children:d}),n[0]=d,n[1]=m,n[2]=u,n[3]=i,n[4]=t):t=n[4],n[5]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)(sB.A,{size:14}),n[5]=r):r=n[5],n[6]!==c?(s=(0,a.jsx)(_.$,{onClick:c,variant:"outline",size:"icon",className:"dark:hover:bg-[#44647F]/50 hover:bg-[var(--legacy-gray6)] h-[32px] w-[32px]",children:r}),n[6]=c,n[7]=s):s=n[7],n[8]!==t||n[9]!==s?(l=(0,a.jsx)(a8.nA,{className:"px-4",children:(0,a.jsxs)("div",{className:"flex flex-row items-center gap-2 justify-end",children:[t,s]})}),n[8]=t,n[9]=s,n[10]=l):l=n[10],l},sZ=l.memo(e=>{let t,r,s,l,n,i,c,d,m=(0,o.c)(38),{portfolioItem:u,onActionClicked:x,onShareClicked:h,isPositionActionDisabled:p}=e,f=u.isClosed?"dateAndSlug":"slug";m[0]!==u.eslug||m[1]!==u.slug||m[2]!==f?(t=(0,r7.qO)(f,u.eslug,u.slug),m[0]=u.eslug,m[1]=u.slug,m[2]=f,m[3]=t):t=m[3];let g=t,y="teamColor"in u?u.teamColor:void 0;m[4]!==g||m[5]!==u.icon||m[6]!==u.market||m[7]!==u.outcome||m[8]!==u.outcomeIndex||m[9]!==u.priceAvg||m[10]!==u.qty||m[11]!==y?(r=(0,a.jsx)(s$,{marketName:u.market,marketHref:g,marketImage:u.icon,outcomeIndex:u.outcomeIndex,outcome:u.outcome,teamColor:y,priceAvg:u.priceAvg,shares:u.qty}),m[4]=g,m[5]=u.icon,m[6]=u.market,m[7]=u.outcome,m[8]=u.outcomeIndex,m[9]=u.priceAvg,m[10]=u.qty,m[11]=y,m[12]=r):r=m[12],m[13]!==u.priceAvg||m[14]!==u.priceCurr?(s=(0,a.jsx)(sq,{priceAvg:u.priceAvg,priceCurr:u.priceCurr}),m[13]=u.priceAvg,m[14]=u.priceCurr,m[15]=s):s=m[15],m[16]!==u.valueInit?(l=(0,a.jsx)(sW,{value:u.valueInit}),m[16]=u.valueInit,m[17]=l):l=m[17],m[18]!==u.maxPayout?(n=(0,a.jsx)(sW,{value:u.maxPayout}),m[18]=u.maxPayout,m[19]=n):n=m[19],m[20]!==u.currentMarketValue||m[21]!==u.isClosed||m[22]!==u.loss||m[23]!==u.profit?(i=(0,a.jsx)(sH,{currentValue:u.currentMarketValue,profit:u.profit,profitPercent:u.loss,isClosed:u.isClosed}),m[20]=u.currentMarketValue,m[21]=u.isClosed,m[22]=u.loss,m[23]=u.profit,m[24]=i):i=m[24];let j=u.isClosed?"Redeem":"Sell";return m[25]!==p||m[26]!==x||m[27]!==h||m[28]!==u.isClosed||m[29]!==j?(c=(0,a.jsx)(sQ,{isActionDisabled:p,actionLabel:j,onActionClicked:x,onShareClicked:h,isClosed:u.isClosed}),m[25]=p,m[26]=x,m[27]=h,m[28]=u.isClosed,m[29]=j,m[30]=c):c=m[30],m[31]!==c||m[32]!==r||m[33]!==s||m[34]!==l||m[35]!==n||m[36]!==i?(d=(0,a.jsxs)(a8.Hj,{className:"odd:bg-[var(--legacy-gray8)] hover:bg-[var(--legacy-gray6)]/75 dark:hover:bg-[#44647F]/50",children:[r,s,l,n,i,c]}),m[31]=c,m[32]=r,m[33]=s,m[34]=l,m[35]=n,m[36]=i,m[37]=d):d=m[37],d}),sU=e=>{let t,r,s,n,i,c,d,m,u,x,h,p,f,g,y,j,v,b,k,w,N,S,C,A,I,R,P,M,T,D,L,E,F,O,z,B,V,$,q=(0,o.c)(105),{portfolioItem:H,onActionClicked:W,onShareClicked:Q,isPositionActionDisabled:Z}=e,[U,G]=(0,l.useState)(!1),Y=!1;try{Y=0>parseFloat(H.profit)}catch(e){}let K=parseFloat(H.qty),X=Y;q[0]!==H.currentMarketValue?(t=(0,eE.jf)(H.currentMarketValue),q[0]=H.currentMarketValue,q[1]=t):t=q[1],q[2]!==H.loss?(r=(0,eE.N1)(H.loss,{signDisplay:"never",maximumFractionDigits:1}),q[2]=H.loss,q[3]=r):r=q[3],q[4]!==H.priceAvg?(s=(0,eE.RM)(H.priceAvg),q[4]=H.priceAvg,q[5]=s):s=q[5],q[6]!==H.priceCurr?(n=(0,eE.RM)(H.priceCurr),q[6]=H.priceCurr,q[7]=n):n=q[7],q[8]!==K?(i=(0,eE.jf)(K.toString()),q[8]=K,q[9]=i):i=q[9];let J=parseFloat(H.priceAvg);q[10]!==K||q[11]!==J?(c=(0,eE.jf)((K*J).toString()),q[10]=K,q[11]=J,q[12]=c):c=q[12],q[13]!==H.profit?(d=(0,eE.jf)(H.profit,{signDisplay:"exceptZero"}),q[13]=H.profit,q[14]=d):d=q[14],q[15]!==Y||q[16]!==t||q[17]!==r||q[18]!==s||q[19]!==n||q[20]!==i||q[21]!==c||q[22]!==d?(m={isLoss:X,formattedCurrentValue:t,formattedPnl:r,formattedPriceAvg:s,formattedPriceCurr:n,potentialWinnings:i,amountInvested:c,formattedProfit:d},q[15]=Y,q[16]=t,q[17]=r,q[18]=s,q[19]=n,q[20]=i,q[21]=c,q[22]=d,q[23]=m):m=q[23];let{isLoss:ee,formattedCurrentValue:et,formattedPnl:er,formattedPriceAvg:ea,formattedPriceCurr:es,potentialWinnings:el,amountInvested:en,formattedProfit:ei}=m,eo="teamColor"in H?H.teamColor:void 0,ec=parseFloat(H.priceCurr),ed=parseFloat(H.priceAvg),em=ec>ed,eu=H.eslug===H.slug?"/event/".concat(H.eslug):"/event/".concat(H.eslug,"/").concat(H.slug);q[24]!==U?(u=()=>G(!U),x=e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),G(!U))},q[24]=U,q[25]=u,q[26]=x):(u=q[25],x=q[26]),q[27]!==H.icon?(h=(0,a.jsx)(sA(),{src:H.icon,alt:"",className:"w-12 h-12 rounded-sm object-cover flex-shrink-0",width:48,height:48}),q[27]=H.icon,q[28]=h):h=q[28],q[29]!==eu||q[30]!==h?(p=(0,a.jsx)(tg(),{href:eu,onClick:sG,children:h}),q[29]=eu,q[30]=h,q[31]=p):p=q[31],q[32]!==eu||q[33]!==H.market?(f=(0,a.jsx)(tg(),{onClick:sY,href:eu,className:"text-sm font-medium text-text-primary text-pretty",children:H.market}),q[32]=eu,q[33]=H.market,q[34]=f):f=q[34];let ex=eo?"text-[var(--team-color)]":0===H.outcomeIndex?"text-green-600 dark:text-green-500":"text-red-500";q[35]!==eo?(g=eo?{"--team-color":eo}:void 0,q[35]=eo,q[36]=g):g=q[36],q[37]!==H.outcome||q[38]!==ex||q[39]!==g?(y=(0,a.jsx)("span",{className:ex,style:g,children:H.outcome}),q[37]=H.outcome,q[38]=ex,q[39]=g,q[40]=y):y=q[40],q[41]!==en||q[42]!==y?(j=(0,a.jsxs)("span",{className:"text-xs text-text-secondary",children:[en," on"," ",y]}),q[41]=en,q[42]=y,q[43]=j):j=q[43],q[44]!==el?(v=(0,a.jsxs)("span",{className:"text-xs text-text-secondary",children:["to win ",el]}),q[44]=el,q[45]=v):v=q[45],q[46]!==j||q[47]!==v?(b=(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-1.5",children:[j,v]}),q[46]=j,q[47]=v,q[48]=b):b=q[48],q[49]!==f||q[50]!==b?(k=(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[f,b]}),q[49]=f,q[50]=b,q[51]=k):k=q[51],q[52]!==p||q[53]!==k?(w=(0,a.jsxs)("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[p,k]}),q[52]=p,q[53]=k,q[54]=w):w=q[54],q[55]!==et?(N=(0,a.jsx)("span",{className:"text-sm font-medium text-text-primary",children:et}),q[55]=et,q[56]=N):N=q[56];let eh="text-xs font-medium ".concat(ec===ed?"text-text-secondary":ee?"text-red-500":"text-green-600 dark:text-green-500");q[57]!==er||q[58]!==ei||q[59]!==eh?(S=(0,a.jsxs)("span",{className:eh,children:[ei," (",er,")"]}),q[57]=er,q[58]=ei,q[59]=eh,q[60]=S):S=q[60],q[61]!==N||q[62]!==S?(C=(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[N,S]}),q[61]=N,q[62]=S,q[63]=C):C=q[63],q[64]!==U||q[65]!==u||q[66]!==x||q[67]!==w||q[68]!==C?(A=(0,a.jsxs)("div",{className:"flex items-center justify-between py-4 cursor-pointer active:bg-neutral-50",onClick:u,onKeyDown:x,role:"button",tabIndex:0,"aria-expanded":U,"aria-label":"Toggle position details",children:[w,C]}),q[64]=U,q[65]=u,q[66]=x,q[67]=w,q[68]=C,q[69]=A):A=q[69];let ep=U?"auto":0;return q[70]===Symbol.for("react.memo_cache_sentinel")?(I=(0,a.jsxs)("p",{className:"flex items-center gap-2 text-xs text-text-secondary",children:[(0,a.jsx)("span",{children:"AVG"}),(0,a.jsx)("span",{children:"â€¢"}),(0,a.jsx)("span",{children:"NOW"})]}),q[70]=I):I=q[70],q[71]!==ea?(R=(0,a.jsx)("span",{className:"text-text-primary",children:ea}),q[71]=ea,q[72]=R):R=q[72],q[73]!==em?(P=em&&(0,a.jsx)(sL.A,{className:"-rotate-45 text-green-600 dark:text-green-500"}),q[73]=em,q[74]=P):P=q[74],q[75]!==em?(M=!em&&(0,a.jsx)(sL.A,{className:"rotate-45 text-red-500"}),q[75]=em,q[76]=M):M=q[76],q[77]!==es?(T=(0,a.jsx)("span",{children:es}),q[77]=es,q[78]=T):T=q[78],q[79]!==R||q[80]!==P||q[81]!==M||q[82]!==T?(D=(0,a.jsxs)("div",{children:[I,(0,a.jsxs)("p",{className:"text-sm font-medium flex items-center gap-1",children:[R,P,M,T]})]}),q[79]=R,q[80]=P,q[81]=M,q[82]=T,q[83]=D):D=q[83],q[84]!==Z||q[85]!==W||q[86]!==H.isClosed?(L=!Z&&(0,a.jsx)(_.$,{variant:H.isClosed?"outline":"default",size:"lg",className:"!h-8",onClick:e=>{e.stopPropagation(),W()},children:H.isClosed?"Redeem":"Sell"}),q[84]=Z,q[85]=W,q[86]=H.isClosed,q[87]=L):L=q[87],q[88]!==Q?(E=e=>{e.stopPropagation(),Q()},q[88]=Q,q[89]=E):E=q[89],q[90]===Symbol.for("react.memo_cache_sentinel")?(F=(0,a.jsx)(sB.A,{}),q[90]=F):F=q[90],q[91]!==E?(O=(0,a.jsx)(_.$,{variant:"outline",size:"icon",className:"h-8 w-8",onClick:E,children:F}),q[91]=E,q[92]=O):O=q[92],q[93]!==L||q[94]!==O?(z=(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[L,O]}),q[93]=L,q[94]=O,q[95]=z):z=q[95],q[96]!==D||q[97]!==z?(B=(0,a.jsxs)("div",{className:"flex items-center justify-between py-3 pt-1",children:[D,z]}),q[96]=D,q[97]=z,q[98]=B):B=q[98],q[99]!==ep||q[100]!==B?(V=(0,a.jsx)(rd.A,{duration:200,height:ep,className:"overflow-hidden transition-all duration-200 ease-in-out",children:B}),q[99]=ep,q[100]=B,q[101]=V):V=q[101],q[102]!==A||q[103]!==V?($=(0,a.jsx)("li",{className:"w-full",children:(0,a.jsxs)("div",{className:"lg:hidden",children:[A,V]})}),q[102]=A,q[103]=V,q[104]=$):$=q[104],$};function sG(e){e.stopPropagation()}function sY(e){e.stopPropagation()}let sK=e=>{let t,r,s,n,i,c,d,m,u=(0,o.c)(26),{isOpen:x,onOpenChange:h,onOptimisticRefresh:p,portfolioItem:f}=e,g=(0,l.useRef)(null),y=x&&!!f;return u[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(tm.Yo,{className:"fixed inset-0 bg-black/40 z-[215]"}),u[0]=t):t=u[0],u[1]!==x||u[2]!==h||u[3]!==p||u[4]!==f?(r=f&&(0,a.jsx)(sT,{item:f,mode:"mobile",setIsDialogOpen:h,isDialogOpen:x,optimisticallyRefresh:p}),u[1]=x,u[2]=h,u[3]=p,u[4]=f,u[5]=r):r=u[5],u[6]!==r?(s=(0,a.jsxs)(tm.SA,{children:[t,(0,a.jsx)(tm.BP,{ref:g,className:"z-[215] fixed bottom-0 left-0 right-0 flex flex-col rounded-t-lg bg-background w-full overscroll-none",children:(0,a.jsx)("div",{className:"p-4 w-full",children:r})})]}),u[6]=r,u[7]=s):s=u[7],u[8]!==h||u[9]!==y||u[10]!==s?(n=(0,a.jsx)(eM.$U,{lessThan:"lg",children:(0,a.jsx)(tm.ed,{injectedId:"sell-position-mobile-drawer",shouldScaleBackground:!1,open:y,onOpenChange:h,children:s})}),u[8]=h,u[9]=y,u[10]=s,u[11]=n):n=u[11],u[12]!==x||u[13]!==h||u[14]!==p||u[15]!==f?(i=f&&(0,a.jsx)(sT,{item:f,mode:"desktop",setIsDialogOpen:h,isDialogOpen:x,optimisticallyRefresh:p}),u[12]=x,u[13]=h,u[14]=p,u[15]=f,u[16]=i):i=u[16],u[17]!==i?(c=(0,a.jsx)(td.Cf,{className:"!pt-3 !px-6 !pb-4",children:i}),u[17]=i,u[18]=c):c=u[18],u[19]!==x||u[20]!==h||u[21]!==c?(d=(0,a.jsx)(eM.$U,{greaterThanOrEqual:"lg",children:(0,a.jsx)(td.lG,{open:x,onOpenChange:h,children:c})}),u[19]=x,u[20]=h,u[21]=c,u[22]=d):d=u[22],u[23]!==n||u[24]!==d?(m=(0,a.jsxs)(a.Fragment,{children:[n,d]}),u[23]=n,u[24]=d,u[25]=m):m=u[25],m},sX=e=>{let t,r=(0,o.c)(4),{isOpen:s,onOpenChange:l,portfolioItem:n}=e;return n?(r[0]!==s||r[1]!==l||r[2]!==n?(t=(0,a.jsx)(st.default,{open:s,onOpenChange:l,sharePosition:n}),r[0]=s,r[1]=l,r[2]=n,r[3]=t):t=r[3],t):null},sJ=e=>{let t,r,s=(0,o.c)(4),{isOpen:l,onOpenChange:n}=e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(rK.A,{}),s[0]=t):t=s[0],s[1]!==l||s[2]!==n?(r=(0,a.jsx)(td.lG,{defaultOpen:!0,open:l,onOpenChange:n,children:t}),s[1]=l,s[2]=n,s[3]=r):r=s[3],r},s0=e=>{let t,r,s,n,i,c,d,m,u,x,h,p,f=(0,o.c)(34),{isPending:g,arePortfolioItemsEmpty:y,portfolioItems:j,onOptimisticRefresh:v}=e,b=(0,se.S)(),{mustEnableTrading:k}=(0,a6.t)(),{showModal:w,setShowModal:N}=(0,a9.A)(),[S,C]=(0,l.useState)(null),[_,A]=(0,l.useState)(null),[I,R]=(0,l.useState)(!1),P=!b.canSell&&!b.canRedeem;f[0]!==P?(t=e=>{P||C(e)},f[0]=P,f[1]=t):t=f[1];let M=t;f[2]!==N?(r=e=>{A(e),N(!0)},f[2]=N,f[3]=r):r=f[3];let T=r;f[4]===Symbol.for("react.memo_cache_sentinel")?(s=e=>{e||C(null)},f[4]=s):s=f[4];let D=s;e:{let e;if(g||y||!j){let e;f[5]===Symbol.for("react.memo_cache_sentinel")?(e={mobileRows:[],desktopRows:[]},f[5]=e):e=f[5],n=e;break e}if(f[6]!==M||f[7]!==T||f[8]!==P||f[9]!==j){let t=[],r=[];j.forEach(e=>{e.isPending||e.isClosed||(t.push((0,a.jsx)(sU,{portfolioItem:e,onActionClicked:()=>M(e),onShareClicked:()=>T(e),isPositionActionDisabled:P})),r.push((0,a.jsx)(sZ,{portfolioItem:e,onActionClicked:()=>M(e),onShareClicked:()=>T(e),isPositionActionDisabled:P})))}),e={mobileRows:t,desktopRows:r},f[6]=M,f[7]=T,f[8]=P,f[9]=j,f[10]=e}else e=f[10];n=e}let{mobileRows:L,desktopRows:E}=n;f[11]!==L?(i=(0,a.jsx)(eM.$U,{lessThan:"lg",children:(0,a.jsx)("ul",{className:"divide-y divide-neutral-50 border-b border-neutral-50",children:L})}),f[11]=L,f[12]=i):i=f[12],f[13]===Symbol.for("react.memo_cache_sentinel")?(c=(0,a.jsx)(sz,{}),f[13]=c):c=f[13],f[14]!==E?(d=E.length>0?(0,a.jsx)(a8.BF,{children:E}):null,f[14]=E,f[15]=d):d=f[15],f[16]!==d?(m=(0,a.jsx)(eM.$U,{greaterThanOrEqual:"lg",children:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsxs)("table",{className:"w-full caption-bottom text-sm table-auto",children:[c,d]})})}),f[16]=d,f[17]=m):m=f[17];let F=!!S;f[18]!==S||f[19]!==v||f[20]!==F?(u=(0,a.jsx)(sK,{portfolioItem:S,isOpen:F,onOpenChange:D,onOptimisticRefresh:v}),f[18]=S,f[19]=v,f[20]=F,f[21]=u):u=f[21];let O=!!_&&w;f[22]!==_||f[23]!==N||f[24]!==O?(x=(0,a.jsx)(sX,{portfolioItem:_,isOpen:O,onOpenChange:N}),f[22]=_,f[23]=N,f[24]=O,f[25]=x):x=f[25];let z=k&&I;return f[26]!==z?(h=(0,a.jsx)(sJ,{isOpen:z,onOpenChange:R}),f[26]=z,f[27]=h):h=f[27],f[28]!==u||f[29]!==x||f[30]!==h||f[31]!==i||f[32]!==m?(p=(0,a.jsxs)(a.Fragment,{children:[i,m,u,x,h]}),f[28]=u,f[29]=x,f[30]=h,f[31]=i,f[32]=m,f[33]=p):p=f[33],p},s1=()=>{let e,t,r,s,l,n,i,c,d,m=(0,o.c)(30),u=(0,eQ.jE)(),x=(0,eJ.A)(),{proxyAddress:h}=(0,L.Um)();m[0]!==h?(e={proxyAddress:h},m[0]=h,m[1]=e):e=m[1];let{portfolioItems:p,isPending:f,refetch:g,hasNextPage:y,isFetching:j,fetchNextPage:v}=tt(e),{portfolioItemsWithTeamColors:b,isPending:k,isFetching:w,isEnabled:N}=(e=>{let t,r,a,s,l,n=(0,o.c)(17);n[0]!==e?(t=Array.from((null!=e?e:[]).reduce(a4,new Set)).sort(),n[0]=e,n[1]=t):t=n[1];let i=t,c=i.length>0;n[2]!==i?(r=er.l[Y.k.Positions].portfolioSportsTeamColors(i),n[2]=i,n[3]=r):r=n[3],n[4]!==c||n[5]!==r?(a={queryKey:r,queryFn:a5,enabled:c,refetchOnWindowFocus:!1,refetchOnReconnect:!1,staleTime:3600},n[4]=c,n[5]=r,n[6]=a):a=n[6];let{data:d,isPending:m,isFetching:u}=(0,et.I)(a);e:{let t;if(!e||!d){s=e;break e}if(n[7]!==e||n[8]!==d){let r;n[10]!==d?(r=e=>{let t=e.eslug&&d[e.eslug]&&e.outcomeIndex<d[e.eslug].length?d[e.eslug][e.outcomeIndex]:void 0;return{...e,teamColor:t}},n[10]=d,n[11]=r):r=n[11],t=e.map(r),n[7]=e,n[8]=d,n[9]=t}else t=n[9];s=t}let x=s;return n[12]!==c||n[13]!==u||n[14]!==m||n[15]!==x?(l={portfolioItemsWithTeamColors:x,isPending:m,isFetching:u,isEnabled:c},n[12]=c,n[13]=u,n[14]=m,n[15]=x,n[16]=l):l=n[16],l})(p),{refetchMarketPositionsValue:S}=(0,M.l)(h);if(m[2]!==p||m[3]!==b){var C;t=null!=(C=null!=b?b:p)?C:[],m[2]=p,m[3]=b,m[4]=t}else t=m[4];m[5]!==t?(r=t.filter(s2),m[5]=t,m[6]=r):r=m[6];let _=r.length,A=!f&&(N&&!k||!N)&&0===_;m[7]!==x||m[8]!==u||m[9]!==g||m[10]!==S?(s=()=>{0===x&&(u.invalidateQueries({queryKey:er.l[Y.k.Positions].market._def}),u.invalidateQueries({queryKey:er.l[Y.k.Positions].portfolio._def}),u.invalidateQueries({queryKey:er.l[Y.k.Positions].value._def})),g(),S()},m[7]=x,m[8]=u,m[9]=g,m[10]=S,m[11]=s):s=m[11];let I=s,R=f||N&&k,P=j||N&&w;return m[12]!==A||m[13]!==I||m[14]!==R||m[15]!==b?(l=(0,a.jsx)(s0,{isPending:R,arePortfolioItemsEmpty:A,portfolioItems:b,onOptimisticRefresh:I}),m[12]=A,m[13]=I,m[14]=R,m[15]=b,m[16]=l):l=m[16],m[17]!==R?(n=R&&(0,a.jsx)(tq,{count:20,variant:"desktop"}),m[17]=R,m[18]=n):n=m[18],m[19]!==A?(i=A&&(0,a.jsx)(tz.p,{message:tD.NO_POSITIONS}),m[19]=A,m[20]=i):i=m[20],m[21]!==v||m[22]!==y||m[23]!==P?(c=y&&(0,a.jsx)("div",{className:"flex mt-8 mb-8 justify-center items-center",children:(0,a.jsx)(a7.s,{disabled:!1,isFetching:P,onClick:()=>{v()}})}),m[21]=v,m[22]=y,m[23]=P,m[24]=c):c=m[24],m[25]!==l||m[26]!==n||m[27]!==i||m[28]!==c?(d=(0,a.jsxs)("div",{className:"flex flex-col gap-2 w-full",children:[l,n,i,c]}),m[25]=l,m[26]=n,m[27]=i,m[28]=c,m[29]=d):d=m[29],d};function s2(e){return!e.isPending&&!e.isClosed}var s3=r(651217),s5=r(919493),s4=r(226085);let s7=e=>{let{closeModal:t,onRedeemResult:r,optimisticallyRefresh:s,isMobile:i}=e,o=(0,tu.Be)(),c=(0,tu.P2)(),{authenticated:d,authenticationType:m,proxyAddress:u}=(0,L.Um)(),{positions:x,markets:h}=(0,ey.M)({proxyAddress:u,fetchAll:!0}),{setHasRedeemedAll:p}=eP(),{refreshNonce:g}=(0,n.nb)(),{sendTransaction:y}=(0,D.Ay)(),[j,v]=(0,l.useState)(tv.b.Start),[b,k]=(0,l.useState)(0),[w,N]=(0,l.useState)(0),[S,C]=(0,l.useState)(!1),A=(0,l.useRef)(null),[I,R]=(0,l.useState)(!1),[P,M]=(0,l.useState)(null),T=(0,l.useMemo)(()=>(null==x?void 0:x.length)&&(null==h?void 0:h.length)?eL({positions:x,markets:h}).filter(e=>parseFloat((0,f.e5)(e.value))>0):[],[h,x]),E=(0,l.useMemo)(()=>(null==T?void 0:T.length)>0?T.reduce((e,t)=>e+parseFloat((0,f.e5)(t.value)),0):0,[T]);(0,l.useEffect)(()=>{let e=()=>{if(A.current){let{scrollHeight:e,clientHeight:t}=A.current;C(e>t)}};e();let t=new ResizeObserver(e);return A.current&&t.observe(A.current),()=>{t.disconnect()}},[T]);let z=(0,l.useCallback)(async()=>{if(v(tv.b.InProgress),!d)return(0,ea.H4)("[RedeemAll > Magiclink is null]",ev.ZB.MagicLinkMissing,u),c.trackEvent(sy.sV.Redeem,{action:"redeem_all",status:"error",errorMessage:"Not authenticated",proxyAddress:u}),{success:!1,errorCode:ev.ZB.MagicLinkMissing,errorMessage:"Could not access MagicLink wallet"};let{chainId:e}=F.MN,t=(T||[]).map(t=>{var r,a;return(0,tp.n)({chainId:e,chainConfig:F.ol,conditionId:t.conditionId,negRisk:t.negRisk,outcomeCount:null!=(a=null==(r=t.outcomes)?void 0:r.length)?a:0,amounts:t.amounts})});N(t.length);let r=(0,th.K)(t,tv.r),a=[],l=0;for(let[e,t]of r.entries())try{l+=t.length,k(l);let s=await y("eoa"===m?D.D_.EOA:D.D_.Magic,t.flat(),0,F.lg.Matic,e);a.push((0,O.Ut)(s)),o.trackEvent(tc.h8.TRANSACTION,{trade_type:"redeem_all",trade_status:"".concat(e+1,"_").concat(r.length),event_status:"success"})}catch(a){let t=a instanceof Error?a.message:"Unknown error";return(0,ea.H4)(a,"Redeem All Shares",u,ea.o6.MISSION_CRITICAL),c.trackEvent(sy.sV.Redeem,{action:"redeem_all",status:"error",errorMessage:t,proxyAddress:u}),o.trackEvent(tc.h8.TRANSACTION,{trade_type:"redeem_all",trade_status:"".concat(e+1,"_").concat(r.length),event_status:"error",event_error_msg:t}),{success:!1,errorMessage:t}}return await Promise.all(a),g(),s(),p(!0),{success:!0}},[T,d,m,s,x,u,h,g,y]),B=(0,l.useCallback)(()=>{v(tv.b.Start),k(0),g()},[v,g]),V=(0,l.useCallback)(async()=>{let{success:e,errorMessage:t}=await z();e?v(tv.b.Success):((0,ea.H4)(t,"redeemAll",u),v(tv.b.Failure)),r()},[z,r]),$=(()=>{switch(j){case tv.b.Start:return{text:"Claim proceeds",disabled:!1,onClick:V};case tv.b.InProgress:return{text:"Processing... ".concat(b,"/").concat(w),disabled:!0,onClick:()=>{}};case tv.b.Success:return{text:"Done",disabled:!1,onClick:t};case tv.b.Failure:return{text:"Try again",disabled:!1,onClick:B};default:return{text:"Claim proceeds",disabled:!1,onClick:V}}})(),q=(0,l.useCallback)(async e=>{if(e.preventDefault(),e.stopPropagation(),P){let e="I just won $".concat(E.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," on @Polymarket!\n\nJoin me and put your money where your mouth is:"),t="https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(e),"&url=").concat(encodeURIComponent(P)),r=window.open(t);r&&(r.opener=null);return}R(!0);try{let e=(await e5.p.post("/api/redeem/create",{proxyWallet:u})).data.shortLink;M(e);let t="I just won $".concat(E.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})," on @Polymarket!\n\nJoin me and put your money where your mouth is:"),r="https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(t),"&url=").concat(encodeURIComponent(e)),a=window.open(r);a&&(a.opener=null)}catch(e){(0,ea.H4)(e,"RedeemModal > handleShareToX")}finally{R(!1)}},[E,P,u]);return(0,a.jsxs)("div",{className:"relative w-full ".concat(i?"h-[80vh] rounded-t-3xl":"h-full rounded-xl"," flex flex-col mb-2"),children:[(0,a.jsx)(_.$,{variant:"ghost",size:"sm",onClick:t,className:"absolute ".concat(i?"top-4 right-4":"top-1 right-0"," w-8 h-8 p-0 z-10"),children:(0,a.jsx)(to.A,{size:16})}),(0,a.jsxs)("div",{className:"flex flex-col h-full min-h-0",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center text-center flex-shrink-0",children:[(0,a.jsx)("img",{src:"/images/portfolio/you-won.png",alt:"You won",className:"object-contain w-[220px] h-[120px]"}),(0,a.jsx)(s4.r,{className:"h-8 w-auto [&_path]:fill-current"}),(0,a.jsxs)("div",{className:"px-6 pt-6 pb-4",children:[(0,a.jsxs)("h2",{className:"text-2xl text-text-primary font-bold mb-2",children:["You won $",E.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,a.jsx)("p",{className:"text-text-secondary text-pretty mb-3",children:"Great job predicting the future on Polymarket!"})]})]}),j===tv.b.Start||j===tv.b.InProgress?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex-1 flex flex-col relative min-h-0",children:[(0,a.jsx)("div",{ref:A,className:"overflow-y-auto flex-1 ".concat(i?"pb-4":""),style:{maxHeight:i?"calc(80vh - 304px)":"calc(80vh - 344px)"},children:T.map(e=>(0,a.jsx)(tj,{market:e,type:"redeem"},e.conditionId))}),S&&(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-10 pointer-events-none bg-gradient-to-t from-background to-transparent"})]}),(0,a.jsx)("div",{className:"flex-shrink-0 border-t border-border bg-background ".concat(i?"sticky bottom-0 p-4":"mt-4"),children:(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)(_.$,{onClick:$.onClick,disabled:$.disabled,className:"w-full h-12 text-base font-medium rounded-lg transition-all",children:$.text}),(0,a.jsx)(_.$,{variant:"outline",size:"lg",onClick:q,disabled:I,className:"w-full h-12 text-base font-medium rounded-lg transition-all gap-2",children:I?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s3.A,{className:"w-4 h-4"}),"Creating share link..."]}):(0,a.jsxs)(a.Fragment,{children:["Share on",(0,a.jsx)(s5.A,{className:"[&_path]:fill-current w-4 h-4"})]})})]})})]}):null,j===tv.b.Success&&(0,a.jsx)("div",{className:"flex-shrink-0 border-t border-border bg-background ".concat(i?"sticky bottom-0 p-4":"mt-4"),children:(0,a.jsx)(_.$,{variant:"default",onClick:t,className:"w-full h-12 text-base font-medium rounded-lg transition-all",children:"Done"})}),j===tv.b.Failure&&(0,a.jsx)(tw,{onClick:B})]})]})},s6=e=>{let t,r,s,n,i,c,d,m,u,x,h,p=(0,o.c)(28),{open:f,onOpenChange:g,onRedeemResult:y,optimisticallyRefresh:j}=e,[v,b]=(0,l.useState)(!1);p[0]!==f?(t=()=>{b(f)},r=[f],p[0]=f,p[1]=t,p[2]=r):(t=p[1],r=p[2]),(0,l.useEffect)(t,r),p[3]!==g?(s=()=>{(0,tx.M9)()?b(!1):g(!1)},p[3]=g,p[4]=s):s=p[4];let k=s;p[5]!==g?(n=e=>{b(e),e||setTimeout(()=>{g(!1)},500)},p[5]=g,p[6]=n):n=p[6];let w=n;return p[7]===Symbol.for("react.memo_cache_sentinel")?(i=(0,a.jsx)(tm.Yo,{className:"fixed inset-0 bg-black/40 z-[calc(var(--zIndices-drawer)+15)]"}),p[7]=i):i=p[7],p[8]!==k||p[9]!==y||p[10]!==j?(c=(0,a.jsxs)(tm.SA,{children:[i,(0,a.jsx)(tm.BP,{className:"z-[calc(var(--zIndices-drawer)+15)] fixed bottom-0 left-0 right-0 flex flex-col rounded-t-3xl bg-background w-full max-h-[90vh]",children:(0,a.jsx)(s7,{closeModal:k,onRedeemResult:y,optimisticallyRefresh:j,isMobile:!0})})]}),p[8]=k,p[9]=y,p[10]=j,p[11]=c):c=p[11],p[12]!==w||p[13]!==v||p[14]!==c?(d=(0,a.jsx)(eM.$U,{lessThan:"lg",children:(0,a.jsx)(tm.ed,{shouldScaleBackground:!1,open:v,onOpenChange:w,modal:!0,dismissible:!0,children:c})}),p[12]=w,p[13]=v,p[14]=c,p[15]=d):d=p[15],p[16]!==k?(m=e=>{e||k()},p[16]=k,p[17]=m):m=p[17],p[18]!==k||p[19]!==y||p[20]!==j?(u=(0,a.jsx)(td.Cf,{children:(0,a.jsx)(s7,{closeModal:k,onRedeemResult:y,optimisticallyRefresh:j,isMobile:!1})}),p[18]=k,p[19]=y,p[20]=j,p[21]=u):u=p[21],p[22]!==m||p[23]!==u?(x=(0,a.jsx)(eM.$U,{greaterThanOrEqual:"lg",children:(0,a.jsx)(td.lG,{defaultOpen:!0,onOpenChange:m,children:u})}),p[22]=m,p[23]=u,p[24]=x):x=p[24],p[25]!==x||p[26]!==d?(h=(0,a.jsxs)(a.Fragment,{children:[d,x]}),p[25]=x,p[26]=d,p[27]=h):h=p[27],h},s8=()=>{let e=(0,eQ.jE)(),t=(0,eJ.A)(),[r,n]=(0,l.useState)(!1),i=(0,l.useRef)(!1),o=(0,eK.d)(),{selectedTab:c,setSelectedTab:d,showRedeemAllModal:m,setShowRedeemAllModal:u,showCloseAllModal:x,setShowCloseAllModal:h,showMergePositionsModal:p,setShowMergePositionsModal:f}=eP(),{proxyAddress:g}=(0,L.Um)(),[y,j]=(0,eZ.A)("pm_claim_lost_positions",{defaultValue:{}}),{refetchMarketPositionsValue:v}=(0,M.l)(g),{refetch:b}=tt({proxyAddress:g}),{refetch:k}=(0,ey.M)({proxyAddress:g}),{lostPositionsAsHistory:w,isPending:N}=ts({proxyAddress:g}),S=(0,l.useMemo)(()=>w.filter(e=>{var t;return!(null==(t=e.marketData)?void 0:t.hasMatchingWonPosition)}),[w]),C=(0,s.useRouter)(),{liquidityPositions:_,liquidityMarkets:A}=e1({proxyAddress:g}),I=(0,l.useMemo)(()=>(null==A?void 0:A.length)&&(null==_?void 0:_.length)?(0,t_.e)(null!=A?A:[],_):[],[A,_]),R=(0,l.useMemo)(()=>!!I&&I.length>0,[I]);(0,l.useEffect)(()=>{if(!g||!r||i.current||N||!S||0===S.length)return;let e=(null==y?void 0:y[g])||0,t=S.filter(t=>t.timestamp>e);t.length>0&&(o.info(new eX.$().title("".concat(t.length," markets lost")).description("View lost positions in history tab").action({buttonText:"View in history",buttonAltText:"View lost positions in history tab",buttonVariant:"default",onClick:()=>{d(eA.History),C.push({pathname:"/portfolio",query:{tab:eA.History}})}})),j(e=>({...e,[g]:Date.now()}))),i.current=!0},[r,g,w,N,o,j]),(0,l.useEffect)(()=>{if(C.isReady&&C.asPath.includes("tab")){let{tab:e}=C.query;d(e)}},[C.isReady]),(0,eU.A)(()=>n(!0));let P=()=>{0===t&&e.invalidateQueries({queryKey:er.l[Y.k.Positions].market._def}),b(),k(),v()},T=()=>{0===t&&e.invalidateQueries({queryKey:er.l[Y.k.TokenBalance]._def})};return r?(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"lg:rounded-md lg:mb-4 lg:border lg:overflow-hidden bg-background lg:pt-px",children:(0,a.jsxs)(eY.tU,{variant:"underline",value:c,onValueChange:e=>{d(e),C.push({pathname:"/portfolio",query:{tab:e}})},children:[(0,a.jsxs)(eY.j7,{variant:"underline",overflow:!0,"aria-label":"Manage your portfolio",className:"order-1 sticky z-[3] gap-5 top-[96px] md:top-[112px] bg-[var(--color-background)] pt-6 lg:top-0 lg:bg-transparent lg:px-4 lg:pt-4",children:[(0,a.jsx)(eY.Xi,{variant:"underline",value:eA.Positions,children:(0,eG.capitalize)(eA.Positions)},eA.Positions),(0,a.jsx)(eY.Xi,{variant:"underline",value:eA.Orders,children:(0,eG.capitalize)(eA.Orders)},eA.Orders),R&&(0,a.jsx)(eY.Xi,{variant:"underline",value:eA.Liquidity,children:(0,eG.capitalize)(eA.Liquidity)},eA.Liquidity),(0,a.jsx)(eY.Xi,{variant:"underline",value:eA.History,children:(0,eG.capitalize)(eA.History)},eA.History)]}),(0,a.jsx)(aW,{className:"order-2"}),(0,a.jsx)(eY.av,{variant:"underline",value:eA.Positions,className:"bg-transparent order-3",children:(0,a.jsx)(s1,{})}),(0,a.jsx)(eY.av,{variant:"underline",value:eA.Orders,className:"bg-transparent order-3",children:(0,a.jsx)(aa,{})}),R&&(0,a.jsx)(eY.av,{variant:"underline",value:eA.Liquidity,className:"bg-transparent order-3",children:(0,a.jsx)(rW,{})}),(0,a.jsx)(eY.av,{variant:"underline",value:eA.History,className:"bg-transparent order-3",children:(0,a.jsx)(rx,{})})]})}),m?(0,a.jsx)(s6,{open:m,onOpenChange:u,optimisticallyRefresh:P,onRedeemResult:T}):null,x?(0,a.jsx)(tC,{open:x,onOpenChange:h,optimisticallyRefresh:P,onCloseResult:T}):null,p?(0,a.jsx)(a0,{open:p,onOpenChange:f,optimisticallyRefresh:P,onMergeResult:T}):null]}):null};var s9=r(400824);let le=()=>{let e=(0,s.useRouter)(),{isSessionLoading:t,authenticated:r,proxyAddress:i}=(0,L.Um)(),{open:o,setOpen:c,setConnectorRoute:d}=(0,n.NJ)(),[m,u]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{t||m||(r||o||(d(n.Dx.SIGNUP),c(!0)),u(!0))},[r,t,o,c,m,d]),(0,l.useEffect)(()=>{!o&&m&&e.push("/")},[o]),r&&i)?(0,a.jsx)(eR,{children:(0,a.jsx)(s9.A,{title:"Polymarket - Portfolio",description:"View your Polymarket portfolio and track your trades and winnings.",children:(0,a.jsxs)("div",{className:"flex w-full h-full flex-col flex-1 grow gap-4 bg-transparent mb-8 z-[2] self-center max-w-[1000px] p-4 lg:pt-4 lg:px-4 lg:pb-0 lg:w-[1000px] [scrollbar-width:none] [&::-webkit-scrollbar]:w-0 [&::-webkit-scrollbar]:bg-transparent",children:[(0,a.jsx)(C,{}),(0,a.jsx)(eu,{}),(0,a.jsx)(eB,{}),(0,a.jsx)(s8,{})]})},"/portfolio")}):null};le.getLayout=function(e){return(0,a.jsx)(i.A,{page:"portfolio",children:e})};let lt=le},125048:(e,t,r)=>{"use strict";r.d(t,{Hr:()=>h,Ht:()=>j,M5:()=>f,SQ:()=>g,_2:()=>y,dc:()=>u,lv:()=>x,mB:()=>v,nV:()=>p,rI:()=>d,ty:()=>m});var a=r(672548),s=r(815404),l=r(368070),n=r(498422),i=r(583437),o=r(206152),c=r(863199);let d=i.bL,m=i.l9;i.YJ;let u=i.ZL,x=i.Pb,h=i.z6,p=o.forwardRef((e,t)=>{let r,n,o,d,m,u,x,h=(0,s.c)(14);h[0]!==e?({className:n,inset:o,children:r,...d}=e,h[0]=e,h[1]=r,h[2]=n,h[3]=o,h[4]=d):(r=h[1],n=h[2],o=h[3],d=h[4]);let p=o&&"pl-8";return h[5]!==n||h[6]!==p?(m=(0,c.cn)("flex cursor-pointer select-none items-center px-3 py-3 text-sm outline-none hover:bg-neutral-50 hover:opacity-100 data-[state=open]:bg-neutral-50 data-[state=open]:opacity-100",p,n),h[5]=n,h[6]=p,h[7]=m):m=h[7],h[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,a.jsx)(l.A,{className:"ml-auto"}),h[8]=u):u=h[8],h[9]!==r||h[10]!==d||h[11]!==t||h[12]!==m?(x=(0,a.jsxs)(i.ZP,{ref:t,className:m,...d,children:[r,u]}),h[9]=r,h[10]=d,h[11]=t,h[12]=m,h[13]=x):x=h[13],x});p.displayName=i.ZP.displayName;let f=o.forwardRef((e,t)=>{let r,l,n,o,d=(0,s.c)(9);return d[0]!==e?({className:r,...l}=e,d[0]=e,d[1]=r,d[2]=l):(r=d[1],l=d[2]),d[3]!==r?(n=(0,c.cn)("z-50 min-w-[8rem] overflow-hidden text-sm font-medium rounded-md border bg-background text-text shadow-lg data-[state=open]:animate-popoverSlideDownAndFadeIn data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:animate-popoverSlideDownAndFadeIn data-[side=left]:animate-popoverSlideLeftAndFadeIn2 data-[side=right]:animate-popoverSlideRightAndFadeIn data-[side=top]:animate-popoverSlideUpAndFadeIn origin-[--radix-dropdown-menu-content-transform-origin]",r),d[3]=r,d[4]=n):n=d[4],d[5]!==l||d[6]!==t||d[7]!==n?(o=(0,a.jsx)(i.ZL,{children:(0,a.jsx)(i.G5,{ref:t,className:n,...l})}),d[5]=l,d[6]=t,d[7]=n,d[8]=o):o=d[8],o});f.displayName=i.G5.displayName;let g=o.forwardRef((e,t)=>{let r,l,n,o,d,m=(0,s.c)(11);m[0]!==e?({className:r,sideOffset:n,...l}=e,m[0]=e,m[1]=r,m[2]=l,m[3]=n):(r=m[1],l=m[2],n=m[3]);let u=void 0===n?4:n;return m[4]!==r?(o=(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-background text-text shadow-md data-[state=open]:animate-popoverSlideDownAndFadeIn data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:animate-popoverSlideDownAndFadeIn data-[side=left]:animate-popoverSlideLeftAndFadeIn data-[side=right]:animate-popoverSlideRightAndFadeIn data-[side=top]:animate-popoverSlideUpAndFadeIn origin-[--radix-dropdown-menu-content-transform-origin]",r),m[4]=r,m[5]=o):o=m[5],m[6]!==l||m[7]!==t||m[8]!==u||m[9]!==o?(d=(0,a.jsx)(i.ZL,{children:(0,a.jsx)(i.UC,{ref:t,sideOffset:u,className:o,...l})}),m[6]=l,m[7]=t,m[8]=u,m[9]=o,m[10]=d):d=m[10],d}),y=o.forwardRef((e,t)=>{let r,l,n,o,d,m=(0,s.c)(11);m[0]!==e?({className:r,inset:l,...n}=e,m[0]=e,m[1]=r,m[2]=l,m[3]=n):(r=m[1],l=m[2],n=m[3]);let u=l&&"pl-8";return m[4]!==r||m[5]!==u?(o=(0,c.cn)("relative flex cursor-pointer select-none items-center px-3 font-medium py-3 pr-8 text-sm outline-none hover:bg-neutral-50 opacity-70 hover:opacity-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",u,r),m[4]=r,m[5]=u,m[6]=o):o=m[6],m[7]!==n||m[8]!==t||m[9]!==o?(d=(0,a.jsx)(i.q7,{ref:t,className:o,...n}),m[7]=n,m[8]=t,m[9]=o,m[10]=d):d=m[10],d});o.forwardRef((e,t)=>{let r,l,o,d,m,u,x,h=(0,s.c)(14);return h[0]!==e?({className:o,children:l,checked:r,...d}=e,h[0]=e,h[1]=r,h[2]=l,h[3]=o,h[4]=d):(r=h[1],l=h[2],o=h[3],d=h[4]),h[5]!==o?(m=(0,c.cn)("relative flex cursor-pointer select-none items-center font-medium py-3 pr-8 px-3 text-sm outline-none hover:bg-neutral-50 opacity-70 hover:opacity-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),h[5]=o,h[6]=m):m=h[6],h[7]===Symbol.for("react.memo_cache_sentinel")?(u=(0,a.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(n.A,{className:"text-text-brand"})})}),h[7]=u):u=h[7],h[8]!==r||h[9]!==l||h[10]!==d||h[11]!==t||h[12]!==m?(x=(0,a.jsxs)(i.H_,{ref:t,className:m,checked:r,...d,children:[u,l]}),h[8]=r,h[9]=l,h[10]=d,h[11]=t,h[12]=m,h[13]=x):x=h[13],x}).displayName=i.H_.displayName;let j=o.forwardRef((e,t)=>{let r,l,o,d,m,u,x,h=(0,s.c)(15);h[0]!==e?({className:l,children:r,hideIndicator:d,...o}=e,h[0]=e,h[1]=r,h[2]=l,h[3]=o,h[4]=d):(r=h[1],l=h[2],o=h[3],d=h[4]);let p=void 0!==d&&d;return h[5]!==l?(m=(0,c.cn)("relative flex cursor-pointer select-none items-center font-medium py-3 px-3 pr-8 text-sm outline-none hover:bg-neutral-50 text-text-primary data-[disabled]:pointer-events-none data-[disabled]:opacity-50",l),h[5]=l,h[6]=m):m=h[6],h[7]!==p?(u=!p&&(0,a.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(n.A,{className:"text-text-brand"})})}),h[7]=p,h[8]=u):u=h[8],h[9]!==r||h[10]!==o||h[11]!==t||h[12]!==m||h[13]!==u?(x=(0,a.jsxs)(i.hN,{ref:t,className:m,...o,children:[u,r]}),h[9]=r,h[10]=o,h[11]=t,h[12]=m,h[13]=u,h[14]=x):x=h[14],x}),v=o.forwardRef((e,t)=>{let r,l,n,o,d=(0,s.c)(9);return d[0]!==e?({className:r,...l}=e,d[0]=e,d[1]=r,d[2]=l):(r=d[1],l=d[2]),d[3]!==r?(n=(0,c.cn)("-mx-1 h-px bg-border",r),d[3]=r,d[4]=n):n=d[4],d[5]!==l||d[6]!==t||d[7]!==n?(o=(0,a.jsx)(i.wv,{ref:t,className:n,...l}),d[5]=l,d[6]=t,d[7]=n,d[8]=o):o=d[8],o})},235743:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/portfolio",function(){return r(123331)}])},331723:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(672548),s=r(815404);r(206152);let l=e=>{let t,r,l,n,i=(0,s.c)(11),o=e.size||18,c=e.color||"currentColor",d=e.strokeWidth||"1.5";return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("path",{d:"m2.088,10.132c-.45-.683-.45-1.582,0-2.265,1.018-1.543,3.262-4.118,6.912-4.118s5.895,2.574,6.912,4.118c.45.683.45,1.582,0,2.265-1.018,1.543-3.262,4.118-6.912,4.118s-5.895-2.574-6.912-4.118Z"}),i[0]=t):t=i[0],i[1]!==c?(r=(0,a.jsx)("circle",{cx:"9",cy:"9",r:"2.25",fill:c}),i[1]=c,i[2]=r):r=i[2],i[3]!==c||i[4]!==d||i[5]!==r?(l=(0,a.jsxs)("g",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:d,stroke:c,children:[t,r]}),i[3]=c,i[4]=d,i[5]=r,i[6]=l):l=i[6],i[7]!==e||i[8]!==o||i[9]!==l?(n=(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 18 18",...e,children:l}),i[7]=e,i[8]=o,i[9]=l,i[10]=n):n=i[10],n}},350648:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var a=r(672548),s=r(815404);r(206152);var l=r(502244),n=r(863199);let i=(0,l.F)("inline-flex items-center rounded-md border px-2.5 py-1 w-fit text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-badge-default-bg text-badge-default-text",success:"border-transparent bg-badge-success-bg text-badge-success-text",warning:"border-transparent bg-badge-warning-bg text-badge-warning-text",error:"border-transparent bg-badge-error-bg text-badge-error-text",info:"border-transparent bg-badge-info-bg text-badge-info-text"}},defaultVariants:{variant:"default"}});function o(e){let t,r,l,o,c,d=(0,s.c)(10);return d[0]!==e?({className:t,variant:l,...r}=e,d[0]=e,d[1]=t,d[2]=r,d[3]=l):(t=d[1],r=d[2],l=d[3]),d[4]!==t||d[5]!==l?(o=(0,n.cn)(i({variant:l}),t),d[4]=t,d[5]=l,d[6]=o):o=d[6],d[7]!==r||d[8]!==o?(c=(0,a.jsx)("div",{className:o,...r}),d[7]=r,d[8]=o,d[9]=c):c=d[9],c}},405300:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(672548),s=r(815404);r(206152);let l=e=>{let t,r,l,n,i,o,c=(0,s.c)(13),d=e.size||18,m=e.color||"currentColor",u=e.strokeWidth||"1.5";return c[0]!==m?(t=(0,a.jsx)("path",{d:"m7.409,10.591c-.8787-.8787-.8787-2.3033,0-3.182s2.3033-.8787,3.182,0",fill:m}),c[0]=m,c[1]=t):t=c[1],c[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("path",{d:"m14.938,6.597c.401.45.725.891.974,1.27.45.683.45,1.582,0,2.265-1.018,1.543-3.262,4.118-6.912,4.118-.549,0-1.066-.058-1.552-.162"}),l=(0,a.jsx)("path",{d:"m4.956,13.044c-1.356-.876-2.302-2.053-2.868-2.912-.45-.683-.45-1.582,0-2.265,1.018-1.543,3.262-4.118,6.912-4.118,1.62,0,2.963.507,4.044,1.206"}),n=(0,a.jsx)("line",{x1:"2",y1:"16",x2:"16",y2:"2"}),c[2]=r,c[3]=l,c[4]=n):(r=c[2],l=c[3],n=c[4]),c[5]!==m||c[6]!==u||c[7]!==t?(i=(0,a.jsxs)("g",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:u,stroke:m,children:[t,r,l,n]}),c[5]=m,c[6]=u,c[7]=t,c[8]=i):i=c[8],c[9]!==e||c[10]!==d||c[11]!==i?(o=(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:d,height:d,viewBox:"0 0 18 18",...e,children:i}),c[9]=e,c[10]=d,c[11]=i,c[12]=o):o=c[12],o}},559993:(e,t,r)=>{"use strict";r.d(t,{A0:()=>i,BF:()=>o,Hj:()=>c,XI:()=>n,nA:()=>m,nd:()=>d});var a=r(672548),s=r(206152),l=r(863199);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",r),...s})})});n.displayName="Table";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b [&>tr]:border-b-neutral-100",r),...s})});i.displayName="TableHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",r),...s})});o.displayName="TableBody",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-background font-medium [&>tr]:last:border-b-0",r),...s})}).displayName="TableFooter";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tr",{ref:t,className:(0,l.cn)("border-b border-b-neutral-50 transition-colors hover:bg-neutral-50/50 data-[state=selected]:bg-neutral-50",r),...s})});c.displayName="TableRow";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("th",{ref:t,className:(0,l.cn)("h-10 px-2 text-left align-middle font-medium text-text-secondary [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",r),...s})});d.displayName="TableHead";let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("td",{ref:t,className:(0,l.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px] text-text-primary",r),...s})});m.displayName="TableCell",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-text-secondary",r),...s})}).displayName="TableCaption"},579836:(e,t,r)=>{"use strict";r.d(t,{K:()=>c,t:()=>d});var a=r(815404),s=r(30993),l=r(46562),n=r(395358),i=r(919672),o=r(28630);let c=()=>{let e,t,r,c,d=(0,a.c)(12),{proxyAddress:m}=(0,n.Um)(),{getApiCredential:u,generateApiCreds:x}=(0,i.Gx)();d[0]===Symbol.for("react.memo_cache_sentinel")?(e={chainId:o.MN.chainId},d[0]=e):e=d[0];let h=(0,l.N3)(e);e:{let e;if(!m){t=void 0;break e}d[1]!==u||d[2]!==m?(e=u(m),d[1]=u,d[2]=m,d[3]=e):e=d[3],t=e}let p=t;d[4]!==p||d[5]!==h?(r=async e=>{if(h&&p&&e)return await (0,s.createL2Headers)(h,p,e)},d[4]=p,d[5]=h,d[6]=r):r=d[6];let f=r;return d[7]!==p||d[8]!==x||d[9]!==f||d[10]!==h?(c={signer:h,apiCredential:p,generateL2Headers:f,generateApiCreds:x},d[7]=p,d[8]=x,d[9]=f,d[10]=h,d[11]=c):c=d[11],c},d=()=>{let e,t,r,s,l=(0,a.c)(11),{authenticated:o,proxyAddress:c}=(0,n.Um)(),{getApiCredential:d,generateApiCreds:m}=(0,i.Gx)();e:{let t;if(!c){e=void 0;break e}l[0]!==d||l[1]!==c?(t=d(c),l[0]=d,l[1]=c,l[2]=t):t=l[2],e=t}let u=e;l[3]!==(null==u?void 0:u.key)||l[4]!==o?(t=()=>o&&!(null==u?void 0:u.key),l[3]=null==u?void 0:u.key,l[4]=o,l[5]=t):t=l[5],null==u||u.key,l[6]!==t?(r=t(),l[6]=t,l[7]=r):r=l[7];let x=r;return l[8]!==m||l[9]!==x?(s={mustEnableTrading:x,generateApiCreds:m},l[8]=m,l[9]=x,l[10]=s):s=l[10],s}},673840:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(672548),s=r(815404);r(206152);let l=e=>{let t,r,l,n,i,o,c=(0,s.c)(11),d=e.size||12,m=e.title||"bars-filter",u=e.color||"currentColor";return c[0]!==m?(t=(0,a.jsx)("title",{children:m}),c[0]=m,c[1]=t):t=c[1],c[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,a.jsx)("line",{x1:".75",y1:"2.75",x2:"11.25",y2:"2.75"}),l=(0,a.jsx)("line",{x1:"2.75",y1:"6.25",x2:"9.25",y2:"6.25"}),n=(0,a.jsx)("line",{x1:"4.75",y1:"9.75",x2:"7.25",y2:"9.75"}),c[2]=r,c[3]=l,c[4]=n):(r=c[2],l=c[3],n=c[4]),c[5]!==u?(i=(0,a.jsxs)("g",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",stroke:u,children:[r,l,n]}),c[5]=u,c[6]=i):i=c[6],c[7]!==d||c[8]!==t||c[9]!==i?(o=(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:d,height:d,viewBox:"0 0 12 12",children:[t,i]}),c[7]=d,c[8]=t,c[9]=i,c[10]=o):o=c[10],o}},924987:(e,t,r)=>{"use strict";r.d(t,{p:()=>c,v:()=>o});var a=r(546477),s=r(921500),l=r(28630),n=r(401959),i=r(952008);let o=function(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"overall",s="".concat(l.qL,"/v1/leaderboard");return{url:s,params:{timePeriod:(0,i.ox)(t),orderBy:"pnl"===e?"PNL":"VOL",limit:1,offset:0,user:r,category:a}}},c=async e=>{var t;let[r,l,c,d=s.v.All,m="overall"]=e.queryKey,u=null==(t=(await (0,a.p)(o("pnl",d,c,m))).data)?void 0:t[0],x=(0,i.Tz)(u,"profit");return(0,n._X)(x)}},954277:(e,t,r)=>{"use strict";r.d(t,{Nu:()=>m,Oy:()=>d,UW:()=>u});var a=r(546477),s=r(703674),l=r.n(s);r(533313);var n=r(5876),i=r(885811),o=r(28630),c=r(861515);let d=async(e,t,r)=>{let s=[];if(e&&Array.isArray(e)&&e.length>0){let t=l().uniq(e);l().chunk(t,100).forEach(e=>{s.push({type:"marketMakerAddress",chunk:e})})}if(t&&Array.isArray(t)&&t.length>0){let e=l().uniq(t);l().chunk(e,100).forEach(e=>{s.push({type:"clobTokenIds",chunk:e})})}if(r&&Array.isArray(r)&&r.length>0){let e=l().uniq(r);l().chunk(e,100).forEach(e=>{s.push({type:"conditionIds",chunk:e})})}if(Array.isArray(s)){let e=s.map(e=>{let t="".concat(o.zw,"/markets/information?limit=").concat(100);return a.p.post(t,{[e.type]:e.chunk}).then(e=>e.data.map(e=>({...(e=>({...e,end_date:e.endDate,outcomes:(0,c.Xc)(e.outcomes),outcomePrices:(0,c.Xc)(e.outcomePrices),clobTokenIds:(0,c.p0)(e),image:(0,i.t)(e,"image"),icon:(0,i.t)(e,"icon")}))(e)}))).catch(e=>((0,n.H4)(e,"getPartialPositionMarkets - positionIds"),[]))}),t=await Promise.all(e);return l().flatten(t)}return[]},m=async e=>{let[t,r,s]=e.queryKey,l=s.toLowerCase();return a.p.post("".concat(o.zw,"/markets/abridged?limit=1"),{conditionIds:["".concat(l)]}).then(e=>{let{data:t}=e,r=t[0],a={clobTokenIds:(0,c.p0)(r),outcomePrices:(0,c.Xc)(r.outcomePrices),outcomes:(0,c.Xc)(r.outcomes)};return{...r,...a}}).catch(e=>{(0,n.H4)(e,"getMarketForRewards",l)})},u=async e=>{let[t,r,s]=e.queryKey;return a.p.get("".concat(o.zw,"/markets/").concat(s,"/description")).then(e=>{let{data:t}=e;return t})}}},e=>{e.O(0,[3437,4260,181,3866,3355,280,1268,8569,1793,1020,8956,1600,6593,636,8792],()=>e(e.s=235743)),_N_E=e.O()}]);